function Wkh(a){var b=new Pca;Ya(b,a);b.D(Error(b));return b}d0c.prototype.D0=X(1399,function(a){fw(this.kb.Hw(this.D),"docs-icon-comment-blank-highlighted",a)});h0c.prototype.D0=X(1398,function(a){var b=QH(this.D);this.C.Xe(function(c){var d=a&&c.qo().fb()==b;c.D0(d)})});wO.prototype.cYa=X(1389,function(a,b){for(var c=this.V[a],d=ud(arguments,1),e=0;e<c.length;++e){var f=c[e];(f.isEnabled(this)||KIc[a])&&f[JIc[a]].apply(f,d)}});
FYb.prototype.EQa=X(1258,function(a,b,c,d){for(var e=a-1,f=this.D.length;0<=e;){var h=this.D[e--];if(!(h.getSheetType()!=b||WE(h)&&d||EVe(h)))return h}if(!c)return null;for(e=f-1;e>=a;)if(c=this.D[e--],!(c.getSheetType()!=b||WE(c)&&d||EVe(c)))return c;return null});nma.prototype.Hia=X(7,function(){throw Wkh("setValue not supported").C;});ada.prototype.H=X(2,function(){throw Wkh("remove").C;});Dda.prototype.H=X(1,function(){this.J.splice(this.F,1);this.F--});
mma.prototype.H=X(0,function(){hda(0<=this.F);tma(this.J,this.L[this.F]);uma(this.J);--this.F});function Xkh(a,b){a.gV=b.gV;return a}function Ykh(a,b,c){for(a=a.Zi();a.C();){var d=a.D();if(zb(b,d))return c&&a.H(),!0}return!1}function Zkh(a,b,c){return a.D_(b)?a.vBa(b,c):null}function $kh(a,b){var c=b.jr();b=b.lr();var d=a.get(c);return!zb(b,d)||null==d&&!a.D_(c)?!1:!0}function alh(a){return a?a.lr():null}function blh(a){if(a.F.C())return!0;if(!Pa(a.F,a.R))return!1;a.F=a.L.C.Zi();return a.F.C()}
function clh(a,b){return(a=a.C.get(b))?a:[]}function dlh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(zb(a,d.jr()))return d}return null}function elh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}function flh(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function glh(a,b){for(b=b.Zi();b.C();){var c=b.D().lr();if(zb(a,c))return!0}return!1}function hlh(){this.J=this.F=0}u(hlh,Ma);
hlh.prototype.C=function(){return this.F<this.L.size()};hlh.prototype.D=function(){this.C();return this.L.kta(this.J=this.F++)};hlh.prototype.H=function(){this.L.zla(this.J);this.F=this.J;this.J=-1};function ilh(){hlh.call(this)}u(ilh,hlh);function jlh(){this.J=!1}u(jlh,Ma);jlh.prototype.C=g("J");jlh.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=blh(this);return a};jlh.prototype.H=function(){this.O.H();this.O=null;this.J=blh(this)};function klh(){}u(klh,Ma);
klh.prototype.C=function(){return this.F.C()};klh.prototype.D=function(){return this.F.D().lr()};klh.prototype.H=function(){this.F.H()};function llh(){}u(llh,Ma);llh.prototype.C=function(){return this.F.C()};llh.prototype.D=function(){return this.F.D().jr()};llh.prototype.H=function(){this.F.H()};function mlh(){this.F=this.J=0}u(mlh,Ma);mlh.prototype.C=function(){return this.J<this.L.C.length};mlh.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};
mlh.prototype.H=function(){this.L.zla(this.J=this.F);this.F=-1};function nlh(a){var b;null==a?b=0:b=Cb(a)|0;return b}function olh(a,b){for(var c=nlh(b),d=clh(a,c),e=0;e<d.length;e++){var f=d[e];if(zb(b,f.jr()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.lr()}return null}function plh(){this.F=0}u(plh,Ma);plh.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};
plh.prototype.D=function(){return this.L=this.J[this.F++]};plh.prototype.H=function(){olh(this.O,this.L.jr());0!=this.F&&this.F--};function qlh(){this.D=0}u(qlh,Ma);qlh.prototype.Zi=function(){var a=new plh;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};function rlh(a){var b=0;for(a=a.Zi();a.C();){var c=a.D();b+=eca(c);b|=0}return b}function slh(){}u(slh,Ma);slh.prototype.equals=function(a){return null!=a&&a.i1?zb(this.jr(),a.jr())&&zb(this.lr(),a.lr()):!1};
slh.prototype.Aj=function(){return eca(this.jr())^eca(this.lr())};slh.prototype.toString=function(){return Ra(this.jr())+"="+Ra(this.lr())};slh.prototype.i1=!0;function tlh(){this.F=0}u(tlh,slh);tlh.prototype.jr=function(){return this.C.value[0]};tlh.prototype.lr=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};tlh.prototype.Hia=function(a){return flh(this.D,this.C.value[0],a)};function ulh(){}u(ulh,Ma);ulh.prototype.C=function(){return!this.J.done};
ulh.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new tlh,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};ulh.prototype.H=function(){elh(this.F,this.O.value[0])};function vlh(){this.D=this.F=0}u(vlh,Ma);vlh.prototype.Zi=function(){var a=new ulh;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function wlh(a){var b=new qlh;b.C=new Map;b.F=a;a.C=b;b=new vlh;b.C=new Map;b.H=a;a.D=b}function xlh(a,b){return Pa(b,a)?"(this Map)":Ra(b)}function ylh(){}u(ylh,Ma);
ylh.prototype.toString=function(){return this.C?Zb(this.D)?this.C.toString():Ra(this.C.toString())+Ra(this.D):this.J};function zlh(a,b){var c=new ylh;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ra(c.F)+Ra(c.D);return c}function Alh(a,b){a.C?Hb(a.C,a.H):a.C=nca(a.F);a=a.C;a.Ur=Ra(a.Ur)+Ra(b)}function Blh(){}u(Blh,Ma);p=Blh.prototype;p.jr=g("D");p.lr=g("C");p.Hia=function(a){var b=this.C;this.C=a;return b};
p.equals=function(a){return null!=a&&a.i1?zb(this.D,a.jr())&&zb(this.C,a.lr()):!1};p.Aj=function(){return eca(this.D)^eca(this.C)};p.toString=function(){return Ra(this.D)+"="+Ra(this.C)};p.i1=!0;function Clh(){}u(Clh,Blh);function Dlh(a,b){var c=new Clh;c.D=a;c.C=b;return c}function Elh(a,b,c){var d=nlh(b),e=clh(a,d);if(0==e.length)a.C.set(d,e);else if(d=dlh(b,e))return d.Hia(c);e[e.length]=Dlh(b,c);a.D++;return null}
function Flh(a,b,c){for(a=a.II().Zi();a.C();){var d=a.D();if(zb(b,d.jr()))return c&&(d=Dlh(d.jr(),d.lr()),a.H()),d}return null}function Glh(){}u(Glh,Ma);p=Glh.prototype;p.add=function(){throw Wkh("Add not supported on this collection").C;};p.clear=function(){for(var a=this.Zi();a.C();)a.D(),a.H()};p.contains=function(a){return Ykh(this,a,!1)};p.Xfc=function(a){for(a=a.Zi();a.C();){var b=a.D();if(!this.contains(b))return!1}return!0};p.isEmpty=function(){return 0==this.size()};
p.remove=function(a){return Ykh(this,a,!0)};p.Lc=function(a){for(var b=!1,c=this.Zi();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};p.Cd=function(){return this.kZa(Array(this.size()))};p.kZa=function(a){var b=this.size();a.length<b&&(a=Xkh(Array(b),a));for(var c=a,d=this.Zi(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};p.toString=function(){for(var a=zlh("[","]"),b=this.Zi();b.C();){var c=b.D();Alh(a,Pa(c,this)?"(this Collection)":Ra(c))}return a.toString()};
function Hlh(){}u(Hlh,Glh);Hlh.prototype.clear=function(){this.C.clear()};Hlh.prototype.contains=function(a){return this.C.hv(a)};Hlh.prototype.Zi=function(){var a=this.C.II().Zi(),b=new klh;b.F=a;return b};Hlh.prototype.size=function(){return this.C.size()};function Ilh(){}u(Ilh,Glh);Ilh.prototype.equals=function(a){return Pa(a,this)?!0:null!=a&&a.WGa?a.size()!=this.size()?!1:this.Xfc(a):!1};Ilh.prototype.Aj=function(){return rlh(this)};
Ilh.prototype.Lc=function(a){var b=this.size();if(b<a.size())for(var c=this.Zi();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.Zi();a.C();)c=a.D(),this.remove(c);return b!=this.size()};Ilh.prototype.WGa=!0;function Jlh(){}u(Jlh,Ilh);p=Jlh.prototype;p.clear=function(){this.C.clear()};p.contains=function(a){return null!=a&&a.i1?$kh(this.C,a):!1};p.Zi=function(){var a=new jlh;a.L=this.C;a.R=a.L.D.Zi();a.F=a.R;a.J=blh(a);return a};
p.remove=function(a){return this.contains(a)?(this.C.remove(a.jr()),!0):!1};p.size=function(){return this.C.size()};function Klh(){}u(Klh,Ilh);p=Klh.prototype;p.clear=function(){this.C.clear()};p.contains=function(a){return this.C.D_(a)};p.Zi=function(){var a=this.C.II().Zi(),b=new llh;b.F=a;return b};p.remove=function(a){return this.C.D_(a)?(this.C.remove(a),!0):!1};p.size=function(){return this.C.size()};function Llh(){}u(Llh,Ma);p=Llh.prototype;p.clear=function(){this.II().clear()};
p.D_=function(a){return!!Flh(this,a,!1)};p.hv=function(a){for(var b=this.II().Zi();b.C();){var c=b.D().lr();if(zb(a,c))return!0}return!1};p.equals=function(a){if(Pa(a,this))return!0;if(null==a||!a.a$a||this.size()!=a.size())return!1;for(a=a.II().Zi();a.C();){var b=a.D();if(!$kh(this,b))return!1}return!0};p.get=function(a){return alh(Flh(this,a,!1))};p.Aj=function(){return rlh(this.II())};p.isEmpty=function(){return 0==this.size()};p.b0b=function(){var a=new Klh;a.C=this;return a};
p.vBa=function(){throw Wkh("Put not supported on this map").C;};p.remove=function(a){return alh(Flh(this,a,!0))};p.size=function(){return this.II().size()};p.toString=function(){for(var a=zlh("{","}"),b=this.II().Zi();b.C();){var c=b.D();c=Ra(xlh(this,c.jr()))+"="+Ra(xlh(this,c.lr()));Alh(a,c)}return a.toString()};p.values=function(){var a=new Hlh;a.C=this;return a};p.replace=function(a,b){return Zkh(this,a,b)};p.a$a=!0;function Mlh(){}u(Mlh,Llh);p=Mlh.prototype;p.clear=function(){wlh(this)};
p.D_=function(a){var b;ac(a)?b=null==a?!!dlh(null,clh(this.C,nlh(null))):void 0!==this.D.C.get(a):b=!!dlh(a,clh(this.C,nlh(a)));return b};p.hv=function(a){return glh(a,this.D)||glh(a,this.C)};p.II=function(){var a=new Jlh;a.C=this;return a};p.get=function(a){var b;ac(a)?b=null==a?alh(dlh(null,clh(this.C,nlh(null)))):this.D.C.get(a):b=alh(dlh(a,clh(this.C,nlh(a))));return b};p.vBa=function(a,b){var c;ac(a)?c=null==a?Elh(this.C,null,b):flh(this.D,a,b):c=Elh(this.C,a,b);return c};
p.remove=function(a){var b;ac(a)?b=null==a?olh(this.C,null):elh(this.D,a):b=olh(this.C,a);return b};p.size=function(){return this.C.D+this.D.F};p.replace=function(a,b){return Zkh(this,a,b)};function Nlh(){}u(Nlh,Mlh);Nlh.prototype.replace=function(a,b){return Zkh(this,a,b)};function Olh(){}u(Olh,Glh);p=Olh.prototype;p.add=function(a){this.tIa(this.size(),a);return!0};p.tIa=function(){throw Wkh("Add not supported on this list").C;};p.clear=function(){this.jZa(0,this.size())};
p.equals=function(a){if(Pa(a,this))return!0;if(null==a||!a.VGa||this.size()!=a.size())return!1;a=a.Zi();for(var b=this.Zi();b.C();){var c=b.D(),d=a.D();if(!zb(c,d))return!1}return!0};p.Aj=function(){for(var a=1,b=this.Zi();b.C();){var c=b.D();a=31*a+eca(c);a|=0}return a};p.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(zb(a,this.kta(b)))return b;return-1};p.Zi=function(){var a=new hlh;a.L=this;a.F=0;a.J=-1;return a};
p.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(zb(a,this.kta(b)))return b;return-1};p.zla=function(){throw Wkh("Remove not supported on this list").C;};p.jZa=function(a,b){var c=new ilh;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};p.VGa=!0;function Plh(){}u(Plh,Olh);p=Plh.prototype;p.add=function(a){this.C[this.C.length]=a;return!0};p.tIa=function(a,b){this.C.splice(a,0,b)};p.clear=function(){this.C=[]};p.contains=function(a){return-1!=this.indexOf(a)};p.kta=function(a){return this.C[a]};
p.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};p.Zi=function(){var a=new mlh;a.L=this;a.J=0;a.F=-1;return a};p.isEmpty=function(){return 0==this.C.length};p.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};p.zla=function(a){this.C.splice(a,1)};p.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.zla(a);return!0};p.size=function(){return this.C.length};
p.Cd=function(){var a=this.C;return Xkh(a.slice(0,this.C.length),a)};p.kZa=function(a){var b=this.C.length;a.length<b&&(a=Xkh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};p.jZa=function(a,b){this.C.splice(a,b-a)};p.VGa=!0;function Qlh(a){var b=new Msa;return zj(b,6,a)}function Rlh(){var a=fv.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function Slh(a){var b=new Nl;a.C.forEach(function(c){c.isEmpty()||Ol(b,c.Ld())});return b.Ld()}
function Tlh(a,b,c,d){var e=null;a.C.every(function(f,h,k){if(b&&(h>c||h==c&&k>=d))return!1;f.isEmpty()||(e=new um(k,h));return!0});return e}function Ulh(a,b,c){var d=null;a.C.some(function(e,f,h){return(f>b||f==b&&h>c)&&!e.isEmpty()?(d=new um(h,f),!0):!1});return d}function Vlh(a,b,c){var d=0,e=-1;b&&(d=b.y,e=b.x);return c?Tlh(a,!!b,d,e):Ulh(a,d,e)}function Wlh(a,b){a.C.V=b;a.va&&a.D&&(O(a.D,0<b),hn(a.D.childNodes[1],b))}function Xlh(a,b,c){a.C.highlightDoco(tQ(a.D,b),null==c?void 0:c)}
function Ylh(a,b){var c={},d;for(d in b){var e=tQ(a.D,d);if(e&&a.C.hasDoco(e)){var f=b[d];c[e]=new Docos.Point(f.x,f.y)}}return c}function Zlh(a,b,c){a.F?(c=new Docos.NewDraftArgs(c||void 0,void 0),a.C.interceptingNewDoco(b,c,w(ca(),a))):(c=c?new Docos.Point(c.x,c.y):void 0,a.C.newDoco(b,c,void 0))}function t4(a){return a.C.hasUnpostedDocos()}function $lh(){}u($lh,Ilh);p=$lh.prototype;p.add=function(a){return null==this.C.vBa(a,this)};p.clear=function(){this.C.clear()};p.contains=function(a){return this.C.D_(a)};
p.isEmpty=function(){return this.C.isEmpty()};p.Zi=function(){return this.C.b0b().Zi()};p.remove=function(a){return null!=this.C.remove(a)};p.size=function(){return this.C.size()};p.WGa=!0;function amh(a,b){return!(!a.D[b]&&!a.J[b])}function bmh(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new bxf(c,a.H):cxf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||axf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new Cwf(d.D.metadata,d.F):Iwf),e=b(d.C));if(e)return d.getUrl()}}return null}
function cmh(a){null===a.F&&(a.F=bmh(a.C,function(b){return!!b&&!Dwf(b)}),null===a.F&&(a.F=txf(a,bmh)));return a.F}function dmh(a,b,c,d){Jz.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}y(dmh,Jz);dmh.prototype.nx=function(){this.hB=[this.C?f$a(this.element):this.element.offsetLeft,this.element.offsetTop];dmh.$a.nx.call(this)};function emh(a,b){B.call(this);this.Ng=a;this.C=b}y(emh,B);p=emh.prototype;p.connect=function(a){a&&a()};p.isConnected=m(!0);
p.Mf=function(a,b,c){this.Ng.D.Mf(this.C+":"+a,w(this.eMa,this,b),c)};p.rJ=function(a){this.D=w(this.eMa,this,a)};p.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Ng.D.send(this.C+":"+a,b)};p.eMa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};p.La=function(){this.Ng=this.Ng.C[this.C]=null};function fmh(a){B.call(this);this.D=a;this.C={};this.D.rJ(w(this.F,this))}y(fmh,B);
function gmh(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new emh(a,b);return a.C[b]=c}fmh.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};fmh.prototype.La=function(){Qd(this.C,function(a){Tf(a)});Tf(this.D);delete this.C;delete this.D};var hmh={cc:!0,dc:!0,ec:!0,fc:!0,jc:!0,kc:!0};
function imh(){return R('<div class="'+S("docs-docos-activitybox")+'"><div class="'+S("docs-docos-activitybox-inner")+'"></div></div>')}function jmh(a,b,c){P.call(this,c);this.L=b;this.O=a;this.C=this.F=this.D=this.H=null;this.J=!1}u(jmh,P);p=jmh.prototype;
p.Ba=function(){P.prototype.Ba.call(this);var a=this.oa(),b=Av(imh,{},{},a);this.pb(b);this.D=a.getElement("docs-docos-caret");this.H=a.eb("docs-docos-activitybox-inner",b);this.L&&(bw(b,"docos-enable-new-header"),bw(this.D,"docos-enable-new-header"));this.O?bw(b,"docos-streampanesize"):bw(b,"docos-streampanesize-legacy")};
p.Ia=function(){Xx(this.getElement(),"docos");this.F=new az(this.getElement());this.F.Qi("close-box",27);this.C=new mw(this.getElement(),"toggle_display");nw(this.C,!0);hke(this.C,!1);this.C.UMa=!1;this.getHandler().listen(this.F,"shortcut",this.P3b).listen(this.C,"show",this.xkc).listen(this.C,"hide",this.wkc).listen(this.C,"beforeshow",this.vkc).listen(this.C,"beforehide",this.ukc)};p.yb=g("H");p.xkc=function(){O(this.D,!0);this.dispatchEvent("show")};p.wkc=function(){O(this.D,!1)};p.vkc=function(){return this.dispatchEvent("beforeshow")};
p.ukc=function(){return this.J?!1:this.dispatchEvent("hide")};p.setVisible=function(a){this.C&&this.C.setVisible(a)};p.isVisible=function(){return!!this.C&&this.C.isVisible()};p.P3b=function(a){switch(a.identifier){case "close-box":this.setVisible(!1)}};p.La=function(){Tf(this.F);delete this.F;delete this.D;delete this.H;Tf(this.C);delete this.C;P.prototype.La.call(this)};
function kmh(a,b,c){oR.call(this,void 0,b,!0,!0);this.L=a;this.H=c;this.setTitle("Comment limit");qw(this,"You've reached the document limit for comments. Please make a copy of the document without resolved comments to continue commenting on the new copy.");this.C.setContent("Make a copy");T_e(this,"Reload");this.Tr=!0}u(kmh,oR);kmh.prototype.Ba=function(){oR.prototype.Ba.call(this);bw(this.getElement(),"post-limit-error-dialog")};
kmh.prototype.fA=function(){var a=xx(tx(new sx,12));(Wr(),lt).qb(!0,a);this.H.C(30066);oR.prototype.fA.call(this)};kmh.prototype.OY=function(){ZD(this.L,!0);this.H.C(30065)};
function lmh(a,b,c,d,e,f,h,k,l){f=void 0===f?!1:f;h=void 0===h?new Cm:h;k=void 0===k?(Wr(),x3a):k;co.call(this);this.F=null;this.ma=!1;this.hb=h;this.C=a;this.Qa=e;this.Sa=new kmh(b,this.hb,this.Qa);this.Va=c;this.Ra=d;this.Na=f;this.D=new jmh(this.C.isNewDocosStreamPaneUiEnabled&&this.C.isNewDocosStreamPaneUiEnabled(),this.C.isDocsStreamHeaderEnabled&&this.C.isDocsStreamHeaderEnabled(),this.hb);this.Oa=new $n(this);this.V=new ly(this);this.Aa=new ny(void 0,void 0,!0,eA.getInstance());this.J=k;this.va=
!1;this.Ca=z(A(),"docs-edll");this.O=(this.H=Rw().C)&&z(A(),"docs-ehspc");this.Ja=l||null;this.L=null;this.R=!1;this.C.onReady(w(this.Lkc,this))}u(lmh,co);p=lmh.prototype;p.render=ca();
p.Lkc=function(){var a=this;if(!this.H||this.O)var b=mmh(this);this.V.Bb((Wr(),cu),qr,this.Wqc);b=this.H?Em("docs-chrome"):b.parentNode.parentNode;this.D.render(b);O(this.D.getElement(),!1);cu.Pa(!0);this.C.setOption(Docos.OptionName.PANE_DIV,this.D.yb());this.C.setOption(Docos.OptionName.PANE_KB_DIV,this.D.getElement());this.C.setOption(Docos.OptionName.ENABLE_LAZY_LOADING,this.Ca);this.Va&&this.C.setOption(Docos.OptionName.STATIC_INPUT_PANE_MESSAGE,"Viewers of this file can see comments and suggestions.");
nmh(this)?omh(this):this.C.isLinkedDocoDeleted()&&pmh();this.C.setListener(Docos.OptionName.DIALOG_OPENED,w(this.x_a,this));this.C.setListener(Docos.OptionName.DIALOG_CLOSED,w(this.x_a,this));this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(this.R=!0,qmh(this,this.C.hasUnseenDocos()),this.C.setListener(Docos.EventType.UNSEEN_DOCOS_UPDATED,function(){a.R&&qmh(a,a.C.hasUnseenDocos())}));Docos.EventType.TOGGLE_SHOW_STREAM_PANE&&this.C.setListener(Docos.EventType.TOGGLE_SHOW_STREAM_PANE,w(this.Jlc,
this));this.C.setOption(Docos.OptionName.SORT_PANE,!0);this.V.Bb(this.J,or,this.s3a);this.s3a(new wXa("enabled",this.J.isEnabled(),!1));this.Na||this.C.setListener(Docos.EventType.NETWORK_ERROR,w(this.V3b,this));this.C.setListener(Docos.EventType.POST_LIMIT_EXCEEDED_ERROR,w(this.zkc,this));this.Oa.listen(this.D,["show","hide"],this.bic)};
function mmh(a){var b=a.hb.getElement("docs-docos-commentsbutton");a.F=mT(null);ix(a.F,16,!1);a.F.Wa(b);a.C.isBadgingEnabled&&a.C.isBadgingEnabled()&&(a.L=a.hb.Ba("SPAN","docs-docos-commentsbutton-badge"),qmh(a,!1),a.hb.appendChild(b,a.L));py(a.Aa,a.F,(Wr(),cu),ry);a.C.setOption(Docos.OptionName.STREAM_BUTTON,b);return b}p.x_a=function(a){a=a.getArgs().shouldOverrideHide()&&a.getType()==Docos.OptionName.DIALOG_OPENED;this.D.J=a};
p.Jlc=function(a){if(!this.H||this.O)a=a.getArgs(),this.FEa(a.getDisplay(),!1),this.Ja&&this.Ja(Wu(this.D.yb()))};p.s3a=function(a){this.C.setOption(Docos.OptionName.ENABLE_COMMENT_BUTTON,a.newValue)};function nmh(a){if(a.H||!a.Ca)return!0;var b=a.C.getLinkedDoco();return!!b&&(!a.C.hasDoco(b)||a.C.isDocoResolved(b)||!a.C.getDocoPosition(b))}p.Wqc=function(){this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(qmh(this,!1),this.R=!1);omh(this);var a=this.D;a.C&&!S$a(a.C)&&a.C.setVisible(!0);this.C.grabFocus()};
p.V3b=function(){if(!this.ma&&Ep(this.Ra,0)){if(this.C.hasPendingContent()){var a=Py("Failed to post comment due to a network error.","warning",!0);Ny.getInstance().postMessage(a)}this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason");this.ma=!0}};
p.zkc=function(){var a=this.Sa;a.setVisible(!0);a.H.C(30064);this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason")};function pmh(){var a=Py("This comment has been deleted.","info",!0);Ny.getInstance().postMessage(a)}p.bic=function(a){a="show"==a.type;this.C.isPaneSurfaceRendered()&&this.C.setOption(Docos.OptionName.SORT_PANE,!a||this.O);this.F&&this.F.Lb(a);a||this.dispatchEvent("activity-box-closed")};
p.FEa=function(a,b){b=void 0===b?!0:b;a&&omh(this);this.D.setVisible(a);a&&b&&this.C.grabFocus()};function qmh(a,b){a.L&&O(a.L,b)}function omh(a){a.va||(a.va=!0,a.C.renderPaneSurface())}p.La=function(){Tf(this.F);Tf(this.Oa);Tf(this.D);Tf(this.Aa);Tf(this.V);co.prototype.La.call(this)};function u4(a,b,c){On.call(this,a);this.D=b;this.C=b.length?b[0]:null;this.cell=c||null}u(u4,On);function rmh(){co.call(this);this.F=new Nl;this.D=this.H=this.J=null;this.L=this.C=!1}u(rmh,co);
function smh(a,b,c){v4(a);a.D=b;a.H=c;a.dispatchEvent(new u4("Be",[b],c))}rmh.prototype.R=function(a,b){v4(this);this.D=a;this.H=b;this.dispatchEvent(new u4("ze",[a],b))};function tmh(a){a.C||a.D||v4(a);a.dispatchEvent("Je")}rmh.prototype.O=function(){v4(this);this.dispatchEvent("Ee")};rmh.prototype.reset=function(){v4(this);this.dispatchEvent("He")};function v4(a){a.J=null;a.F.clear();a.H=null;a.D=null;a.C=!1;a.L=!1}
rmh.prototype.La=function(){delete this.J;delete this.F;delete this.H;delete this.D;co.prototype.La.call(this)};function umh(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function vmh(a){var b=new Lsa,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;K(b,1,a.D+c+e+f+a.V);K(b,2,a.D);K(b,14,a.V);K(b,9,a.F);K(b,6,a.O);K(b,3,c);K(b,10,a.H);K(b,12,a.C);K(b,13,a.L);K(b,7,d);K(b,4,e);K(b,11,a.J);K(b,8,a.R);K(b,5,f);return new eBd(b)}function wmh(a,b){return(a=MH(a,b))?a.Gc():null}
function xmh(a,b){return b?(b=nBd(b))&&oBd(pBd(b))?wmh(a,b.fb()):null:null}var ymh=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,zmh=/^(.*?)([':;,\.?}\]\)!]+)$/;
function Amh(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Pe(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(ymh,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,t){return Ld(n[2],t)&&bha(n[1],q)>bha(n[1],t)},l||(e="http://"),l=h.match(zmh),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(Re("a",b,h));d.push(l);return""});return Te(d)}function Bmh(a){this.wb=Vo(a,-1,0)}u(Bmh,Yo);Bmh.prototype.sb=function(){return new Cmh(this)};Bmh.prototype.Sk=function(){return jp(this,1)};Bmh.prototype.getRange=function(){return this.bd(2,MF)};function Cmh(a){lp.call(this,a)}u(Cmh,lp);Cmh.prototype.Sk=function(){return this.message.Sk()};Cmh.prototype.getRange=function(){return this.message.getRange()};function Dmh(a,b,c){XI.call(this,35);this.qd=a;this.C=b;this.F=c}u(Dmh,XI);Dmh.prototype.Pd=function(){var a=void 0===a?$o(Bmh):a;a=new Cmh(a);a=yp(a,1,this.qd);var b=SF(this.F,this.C);a=wp(a,2,b);return mp(a)};Dmh.prototype.Cg=m(!1);function w4(){}w4.prototype.getType=m("ApiEventArgs");w4.prototype.getType=w4.prototype.getType;function Emh(a){this.C=a}y(Emh,w4);pa("docos.api.FindSelectionArgs",Emh,void 0);function Fmh(a){return"FindSelectionArgs"===a.getType()}Emh.isFindSelectionArgs=Fmh;Emh.prototype.getType=m("FindSelectionArgs");Emh.prototype.getVerticalOffset=g("C");Emh.prototype.getVerticalOffset=Emh.prototype.getVerticalOffset;function Gmh(a){this.F=a}Gmh.prototype.C=function(){if(!UH(this.F.C))return[];var a=XH(this.F.C),b=FI(a);if(udc($J(this.F.Na,a),b).length){var c=cI(a,b);a=a.Kb();var d=b.x;b=b.y;c=[BL(this.F)?YZb(c,a,d,b):wo().XQa()(c.C,a,d,b,!1)]}else c=["Not on a comment"];return c};Gmh.prototype.D=m(0);function Hmh(a,b){this.F=a;this.J=b;this.H=qAd()}Hmh.prototype.C=function(){if(!UH(this.F.C))return[];var a=XH(this.F.C),b=FI(a);a=udc($J(this.F.Na,a),b);if(!a.length)return["Not on a comment"];a=this.H.ub(a[0]);b=this.J;b.C.verbalizeDoco(tQ(b.D,a));return[]};Hmh.prototype.D=m(0);function Imh(a,b,c,d,e,f,h,k,l,n,q,t,v){B.call(this);this.D=a;this.V=b;this.va=c;this.Ra=d;this.H=e;this.Xa=f;this.Qa=h;this.Va=k;this.C=l;this.L=n;this.J=b.Na;this.F=b.C;this.O=qAd();this.ma={};this.Ca=new Nl;this.Aa=new Gdc(0);a=[this.Aa];td(q.F,a);Ijb(q,a);q.C=Gjb(q.F);Hjb(q);this.Ja=t;this.Na=new auf(v,this.Ja.H);this.qa(this.Na);this.R=new $n(this);this.qa(this.R);this.Sa=!1;Jmh(this)}u(Imh,B);
function Jmh(a){var b=Zc(JQb,function(d){return!hmh[d]});a.R.listen(a.Ra,"activity-box-closed",a.zNb).listen(a.H,"mouseover",x4(a,a.fYb)).listen(a.H,"click",x4(a,a.Zac)).listen(a.H,"selectionChange",x4(a,a.gYb)).listen(a.H,"inputBoxActivate",x4(a,a.cYb)).listen(a.H,"hide_docos",x4(a,a.eYb)).listen(a.F,"pa",x4(a,a.Yac)).listen(a.Qa,"Id",a.tUb).listen(a.Qa,"Jd",a.rUb).listen(a.Qa,"Kd",a.qUb).listen(a.H,"insert_doco",a.Wac).listen(new JO(a.Va),tLc(),a.jYb).listen(a.V,"docos_change",a.rYb).listen(a.L,
"bj",a.lBb).listen(a.F,"oa",a.wWa).listen(a.H,"overlay-redraw",a.OPb);var c=$F(a.F);a.R.listen(c,b,a.dYb);a.R.listen(c,["ic"],x4(a,a.Xac));uQ(a.D,Docos.EventType.HOVER,x4(a,a.EGb));uQ(a.D,Docos.EventType.SELECTED,x4(a,a.Vac));uQ(a.D,Docos.EventType.CREATED,a.mUa,a);uQ(a.D,Docos.EventType.UNRESOLVED,a.mUa,a);uQ(a.D,Docos.EventType.DELETED,a.nUa,a);uQ(a.D,Docos.EventType.RESOLVED,a.nUa,a);uQ(a.D,Docos.EventType.POSTED,a.fHb,a);uQ(a.D,Docos.EventType.PENDING,a.sQb,a);uQ(a.D,Docos.EventType.HIGHLIGHT_INITIAL_DOCO,
a.yKb,a);cC.Bb(or,w(a.tLb,a));(Wr(),cu).Bb(or,w(a.RAb,a));du.subscribe("action",w(a.hOb,a));eu.subscribe("action",w(a.oOb,a));fu.subscribe("action",w(a.pOb,a));b=["screen-reader-enabled","sheet-type-grid","not-revisions"];a.Ja.D(Et,new vu(b));a.Na.bind(Et.getId(),new Hmh(a.V,a.D));a.Ja.D(Ft,new vu(b));a.Na.bind(Ft.getId(),new Gmh(a.V));a.wWa()}p=Imh.prototype;p.wWa=function(){var a=UH(this.F);(Wr(),du).Pa(a);eu.Pa(a);fu.Pa(a)};p.OPb=function(){Kmh(this.L)};
p.tLb=function(){this.D.setOption(Docos.OptionName.READONLY,!this.V.iQ())};function x4(a,b){return function(c){a.Sa||b.call(a,c)}}p.Wac=function(){var a=XH(this.F),b=FI(a);if(b&&!t4(this.D)&&!Lmh(this,a,b)){var c=wo().Pea()();a=new Dmh(c,a.Kb(),jF(b));b=w(this.uLb,this,c,b);a.D=b;this.Xa.C(a)}};p.uLb=function(a,b,c){c&&(a=Mmh(this,this.O.ub(new nAd(a))))&&(this.C.dispatchEvent(new u4("De",[a],b)),this.va.Fb(2))};
function Lmh(a,b,c){b=udc($J(a.J,b),c);return b.length?(Xlh(a.D,a.O.ub(b[0]),!0),!0):!1}p.mUa=function(a){var b=this;Xc(a.D,function(c){Nmh(b,!0,c);b.Ca.add(c)})};p.nUa=function(a){var b=this;Xc(a.D,function(c){Nmh(b,!1,c);b.Ca.remove(c)})};
function Nmh(a,b,c,d,e){c=Mmh(a,c);d=d||xmh(a.F,c);e=e||uR(c);if(c&&d&&e){var f=$J(a.J,d);if(b){var h=f.C.Yf(e.y,e.x)||new Nl;h.add(c);f.J++;bRb(f.C,e.y,e.x,h)}else(h=f.C.Yf(e.y,e.x))&&h.remove(c)&&f.J--;bRb(f.D,e.y,e.x,!0);f.H.Ib()||f.H.start();a.F.getActiveGrid()&&(d=d==XH(a.F),b?(a=a.C,(b=d?e:null)&&vm(b,a.J)&&a.F.add(c),a.dispatchEvent(new u4("ve",[c],b))):(a=a.C,(b=d?e:null)&&vm(b,a.J)&&a.F.remove(c),a.D==c&&(a.D=null),a.dispatchEvent(new u4("Ge",[c],b))))}else a.C.dispatchEvent("Ie")}
function Mmh(a,b){if(!b)return null;if(!a.ma[b]){var c=a.O.D(b);c&&(a.ma[b]=c)}return a.ma[b]}p.Yac=function(){this.C.reset()};p.EGb=function(a){a=Omh(this,a);var b=uR(a);this.C.dispatchEvent(new u4("Ae",[a],b))};p.fHb=ca();p.sQb=function(){FZe(this.Aa,this.D.C.hasPendingContent())};p.yKb=function(a){this.Ra&&(a.J||this.C&&!this.C.D)&&this.Ra.FEa(!0)};p.zNb=function(){this.va.Fb(3)};
p.Vac=function(a){if(!(a.C&&Fmh(a.C)||t4(this.D))){var b=Omh(this,a),c=uR(b);b&&c?(this.Sa=!0,smh(this.C,b,c)):b||a.J?this.C.reset():b||this.va.Fb(3)}};p.lBb=function(){this.Sa=!1};p.eYb=function(){this.C.dispatchEvent("Ce")};p.gYb=function(){if(!this.L.isEmpty()&&!t4(this.D)){this.va.Fb(3);var a=this.C,b=FI(XH(this.F));vm(a.H,b)||!a.D&&!a.C&&vm(a.J,b)||(v4(a),a.dispatchEvent(new u4("ye",[],b)))}};
p.Zac=function(){var a=XH(this.F);if(!t4(this.D)&&a){var b=$J(this.J,a),c=(a=FI(a))?udc(b,a):[];c.length&&(b=this.C,c=c[0],vm(b.H,a)?(v4(b),b.dispatchEvent(new u4("we",[],a))):b.dispatchEvent(new u4("we",[c],a)))}};p.cYb=function(){t4(this.D)||this.C.reset()};p.Xac=function(){tmh(this.C)};p.dYb=function(){tmh(this.C)};
p.rYb=function(a){a=a.O||[];vd(a);for(var b=0;b<a.length;b++){var c=this.O.ub(new nAd(a[b]));if(c){var d=Mmh(this,c);(d=EZe(this.J,d))?(Nmh(this,!1,c,d.model,d.Jqa),Nmh(this,!0,c),this.C.dispatchEvent("Ie")):this.Ca.contains(c)&&Nmh(this,!0,c)}}};p.fYb=function(a){var b=XH(this.F);if(b){if((a=a.Jj)&&Knc(a)){var c=DH(b,a.y,a.x);a=c?vF(c):a}else a=null;b=$J(this.J,b);b=a?udc(b,a):[];c=this.C;c.F.clear();Ol(c.F,b);c.J=a;c.dispatchEvent(new u4("xe",b,a))}};
p.tUb=function(){if(!t4(this.D)){var a=this.C;if(a.C&&a.L)a.L=!1;else{var b=!a.C;v4(a);a.C=b;a.dispatchEvent("Fe")}}};p.rUb=function(){if(!t4(this.D)){var a=this.C;a.C||(v4(a),a.L=!0,a.C=!0,a.dispatchEvent("Fe"))}};p.qUb=function(){if(!t4(this.D)){var a=this.C;a.C&&a.L&&(v4(a),a.dispatchEvent("Fe"))}};p.jYb=function(a){a.stopPropagation()};function Omh(a,b){b=b.D;return Mmh(a,b.length?b[0]:null)}
p.Uac=function(a){var b=Mmh(this,a);a=xmh(this.F,b);if(!b||!a)return"";b=uR(b);a=lI(cI(a,b));500<a.length&&(a=a.substring(0,499),a+="\u2026");return a};p.RAb=function(){var a=this.D;if(a=vrd(a.D,a.C.getLinkedDoco())||"")if(a=Mmh(this,a)){var b=uR(a);smh(this.C,a,b)}else(Wr(),cu).qb()};p.hOb=function(){var a=XH(this.F);Lmh(this,a,FI(a))};p.oOb=function(){Pmh(this,!1)};p.pOb=function(){Pmh(this,!0)};
function Pmh(a,b){var c=Qmh(a,b),d=PH(a.F),e=XH(a.F),f=FI(e),h=$J(a.J,e);f=Vlh(h,f,b);for(var k=d;!f&&null!==k&&(k=c(k),e=k.Gc(),h=$J(a.J,e),f=Vlh(h,null,b),k=k.yg(),k!=d););f&&null!==k&&(b=udc(h,f)[0],SH(a.F,k,w(a.$ac,a,e,b,f)))}function Qmh(a,b){var c=b?w(a.F.EQa,a.F):w(a.F.Rua,a.F);return function(d){return c(d,0,!0,!0)}}p.$ac=function(a,b,c){smh(this.C,b,c);II(a,c)};
p.La=function(){delete this.H;delete this.Va;delete this.O;delete this.ma;delete this.D;delete this.J;delete this.R;delete this.Xa;delete this.F;delete this.V;Tf(this.Aa);delete this.Aa;Tf(this.L);delete this.L;Tf(this.C);delete this.C;B.prototype.La.call(this)};var Rmh={fNc:"docos-insert-discussion",Tyc:"docos-cancel-insert-discussion",bUc:"docos-new-doco",cUc:"docos-new-reply",cCc:"docos-delete-doco",eCc:"docos-delete-reply",zFc:"docos-edit-doco",BFc:"docos-edit-reply",AFc:"docos-edit-draft",Vxc:"docos-before-highlight-doco",MKc:"docos-highlight-doco",N0c:"docos-speak-doco",YYc:"docos-resolve-doco",Mxc:"docos-back-to-document",Mvc:"docos-accept-suggestion",NYc:"docos-reject-suggestion",uAc:"docos-convert-doco",dCc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",E4c:"docos-update-sort",c5c:"docos-vote-doco",d5c:"docos-vote-reply",FTc:"mouse-hover-doco-view"};function y4(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}pa("docos.Event",y4,void 0);pa("docos.api.Event",y4,void 0);y4.prototype.getType=g("type");y4.prototype.getType=y4.prototype.getType;y4.prototype.getAnchors=g("anchors");y4.prototype.getAnchors=y4.prototype.getAnchors;
y4.prototype.getDocos=g("docos");y4.prototype.getDocos=y4.prototype.getDocos;y4.prototype.isNonAnchored=g("nonAnchored");y4.prototype.isNonAnchored=y4.prototype.isNonAnchored;y4.prototype.isUserInitiated=g("userInitiated");y4.prototype.isUserInitiated=y4.prototype.isUserInitiated;y4.prototype.getArgs=g("args");y4.prototype.getArgs=y4.prototype.getArgs;y4.prototype.canPreventDefault=m(!1);y4.prototype.canPreventDefault=y4.prototype.canPreventDefault;
y4.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};y4.prototype.preventDefault=y4.prototype.preventDefault;y4.prototype.getAnchorIds=g("D");y4.prototype.getAnchorIds=y4.prototype.getAnchorIds;y4.prototype.getDocoHandles=g("F");y4.prototype.getDocoHandles=y4.prototype.getDocoHandles;function Smh(a){return new z4(a)}y4.builder=Smh;function z4(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}pa("docos.api.Event.Builder",z4,void 0);
z4.prototype.addAnchorId=function(a){this.C.push(a);return this};z4.prototype.addAnchorId=z4.prototype.addAnchorId;z4.prototype.setAnchorIds=function(a){this.C=a;return this};z4.prototype.setAnchorIds=z4.prototype.setAnchorIds;z4.prototype.addDocoHandle=function(a){this.D.push(a);return this};z4.prototype.addDocoHandle=z4.prototype.addDocoHandle;z4.prototype.setDocoHandles=function(a){this.D=a;return this};z4.prototype.setDocoHandles=z4.prototype.setDocoHandles;
z4.prototype.setNonAnchored=function(a){this.F=a;return this};z4.prototype.setNonAnchored=z4.prototype.setNonAnchored;z4.prototype.setUserInitiated=function(a){this.H=a;return this};z4.prototype.setUserInitiated=z4.prototype.setUserInitiated;z4.prototype.setApiEventArgs=function(a){this.args=a;return this};z4.prototype.setApiEventArgs=z4.prototype.setApiEventArgs;z4.prototype.isEmpty=function(){return id(this.C)&&id(this.D)&&!this.args};z4.prototype.isEmpty=z4.prototype.isEmpty;
z4.prototype.build=function(){return new y4(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new w4)};z4.prototype.build=z4.prototype.build;function Tmh(a,b){this.C=a;this.D=b}Tmh.prototype.clone=function(){return new Tmh(this.C,this.D)};Tmh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function Umh(a,b){b.EZ()?a.V+=1:b.gx()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Bj()?(b=Vmh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};pa("docosExterns.EventType.CREATED","created",void 0);pa("docosExterns.EventType.DELETED","deleted",void 0);pa("docosExterns.EventType.HOVER","hover",void 0);pa("docosExterns.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);pa("docosExterns.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);pa("docosExterns.EventType.NETWORK_ERROR","net-error",void 0);pa("docosExterns.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);pa("docosExterns.EventType.POSTED","posted",void 0);
pa("docosExterns.EventType.RESOLVED","resolved",void 0);pa("docosExterns.EventType.SELECTED","selected",void 0);pa("docosExterns.EventType.UNRESOLVED","unresolved",void 0);function Wmh(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.L=void 0===c?!1:c;this.J=void 0===d?!0:d;this.O=void 0===e?null:e;this.H=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.WT=void 0===k?!1:k}function A4(){return new Wmh("")}function B4(a){return new Xmh(a)}function Xmh(a){this.L=a;this.J=void 0;this.D=!1;this.F=this.H=!0;this.C=void 0;this.WT=!1}function C4(a,b){a.J=b;return a}function Ymh(a){a.H=!1;return a}function Zmh(a,b){a.F=b;return a}
function $mh(a){a.WT=!0;return a}function D4(a){return new Wmh(a.L,a.J,a.D,a.H,void 0,a.F,a.C,a.WT)};function anh(a,b){return a?bnh(E4(a),b):!1}function cnh(a,b){return a?anh(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function dnh(a,b){a=E4(a);return enh(a,b)}function fnh(a,b,c){a=enh(a,b,!0);return c?(new mz("Reassign to {user}")).format({user:a}):(new mz("Assign to {user}")).format({user:a})}function enh(a,b,c){return bnh(a,b)?c?"you":"You":F4(a)}function bnh(a,b){return null!=a.getEmail()&&null!=b.Kg().getEmail()&&a.getEmail()==b.Kg().getEmail()};function G4(a,b){P.call(this,b);this.Gd=gnh(a);this.C=H4(a)}y(G4,P);G4.prototype.Yd=!1;G4.prototype.Ia=function(){G4.$a.Ia.call(this);this.Yd&&(this.Xd(),hnh(this))};function inh(a){a.Yd||(a.Yd=!0,a.getHandler().listen(a.C,"r",a.Xd),a.Xd(),hnh(a))}G4.prototype.Xd=function(){if(this.xb()){var a=this.getElement(),b=this.C.D;fw(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));fw(this.getElement(),"docos-offline",this.C.L)}};
function I4(a,b,c,d){a.Gd&&(d=a.Gd.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function hnh(a){a.xb()&&I4(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.vh)}G4.prototype.vh=function(a){a.stopPropagation()};function jnh(){ZA.call(this,!1)}u(jnh,ZA);jnh.prototype.sO=function(a){ZA.prototype.sO.call(this,a)};function knh(){B.call(this);this.C=!1;this.D=new Of;this.qa(this.D)}u(knh,B);function lnh(){co.call(this)}y(lnh,co);function mnh(a,b){On.call(this,a);this.Ql=b||null}y(mnh,On);function nnh(a){I(this,a,0,-1,null,null)}y(nnh,H);nnh.prototype.ea=function(){var a=new D;var b=J(this,1);null!=b&&a.Ga(1,b);b=J(this,2);null!=b&&a.Ga(2,b);b=J(this,3);null!=b&&a.Ga(3,b);b=J(this,4);null!=b&&a.Ga(4,b);return Y(a)};nnh.prototype.Qf=function(){return J(this,1)};function onh(){Hp.call(this,"",void 0,!0);this.F=new Gp(w(this.C,this));this.qa(this.F);this.H=null}u(onh,Hp);onh.prototype.O=function(a,b,c,d){if(this.H&&!Ed(a,"Error in protected function: ")){var e=new nnh;a=K(e,1,a);b=K(a,2,b);c=K(b,3,String(c));d&&K(c,4,d);pnh(this.H,"rjse",c,void 0,sa,!0,1)}};onh.prototype.La=function(){Hp.prototype.La.call(this);delete this.F};function qnh(a){co.call(this);var b=this;this.F=null;this.H=new Lo;this.qa(this.H);this.C=a;Mo(this.H,this.C.NH(),function(){"hidden"===b.C.getState()&&(b.D=new BA);"visible"!=b.C.getState()||Nob(b.D)||(b.dispatchEvent("cj"),rnh(b))});this.D=new BA;rnh(this)}u(qnh,co);qnh.prototype.format=function(a){var b=new BA(a);b=(new BA).getTime()-b.getTime();if(15552E6<b||-864E5>b)return snh.format(a);b=Kof(a.getTime());return tnh.format(a)+(" "+b)};
function rnh(a){var b=new BA;b.add(new AA(0,0,1));b=b.getTime();go(a.F);a.F=fo(function(){a.dispatchEvent("cj");rnh(a)},b-Ha(),a)}ta(qnh);var tnh=new FA(7),snh=new FA(2);function J4(a){I(this,a,0,-1,null,null)}y(J4,H);p=J4.prototype;p.ea=function(){var a=new D;unh(this,a);return Y(a)};function unh(a,b){var c=J(a,1);null!=c&&b.Ga(1,c);c=J(a,2);null!=c&&b.Ga(2,c)}p.getType=function(){return J(this,1)};p.setType=function(a){return K(this,1,a)};p.clearType=function(){return K(this,1,void 0)};p.hasType=function(){return null!=J(this,1)};p.getValue=function(){return J(this,2)};p.setValue=function(a){return K(this,2,a)};p.hasValue=function(){return null!=J(this,2)};function vnh(a){I(this,a,0,1,null,null)}y(vnh,H);var wnh={};vnh.prototype.ea=function(){var a=new D;xnh(this,a);return Y(a)};function xnh(a,b){ij(a,b,wnh,vnh.prototype.getExtension)};function ynh(a){I(this,a,0,-1,null,null)}y(ynh,H);p=ynh.prototype;p.ea=function(){var a=new D;znh(this,a);return Y(a)};function znh(a,b){var c=J(a,1);null!=c&&b.Ga(1,c);c=J(a,2);null!=c&&b.Ga(2,c);c=M(a,vnh,3);null!=c&&b.xa(3,c,xnh);c=J(a,4);null!=c&&b.Ga(4,c)}p.getType=function(){return J(this,1)};p.setType=function(a){return K(this,1,a)};p.clearType=function(){return K(this,1,void 0)};p.hasType=function(){return null!=J(this,1)};p.getValue=function(){return J(this,2)};
p.setValue=function(a){return K(this,2,a)};p.hasValue=function(){return null!=J(this,2)};function Anh(a){I(this,a,0,-1,null,null)}y(Anh,H);Anh.prototype.ea=function(){var a=new D;Bnh(this,a);return Y(a)};function Bnh(a,b){a=M(a,TX,1);null!=a&&b.xa(1,a,uof)};function Cnh(a){I(this,a,0,-1,null,null)}y(Cnh,H);Cnh.prototype.ea=function(){var a=new D;Dnh(this,a);return Y(a)};function Dnh(a,b){var c=M(a,TX,1);null!=c&&b.xa(1,c,uof);c=J(a,2);null!=c&&G(b,2,c);c=J(a,3);null!=c&&$i(b,3,c);c=J(a,4);null!=c&&$i(b,4,c)}Cnh.prototype.D=function(a){K(this,2,a)};function Enh(a){I(this,a,0,-1,Fnh,null)}y(Enh,H);var Fnh=[5];Enh.prototype.ea=function(){var a=new D;Gnh(this,a);return Y(a)};function Gnh(a,b){var c=J(a,1);null!=c&&$i(b,1,c);c=J(a,2);null!=c&&$i(b,2,c);c=J(a,3);null!=c&&$i(b,3,c);c=J(a,4);null!=c&&G(b,4,c);c=yj(a,Cnh,5);0<c.length&&ej(b,5,c,Dnh)};function Hnh(a){I(this,a,0,-1,null,null)}y(Hnh,H);Hnh.prototype.ea=function(){var a=new D;Inh(this,a);return Y(a)};function Inh(a,b){var c=J(a,1);null!=c&&G(b,1,c);c=J(a,2);null!=c&&G(b,2,c);c=J(a,3);null!=c&&G(b,3,c);c=J(a,4);null!=c&&G(b,4,c)};function Jnh(a){I(this,a,0,-1,null,null)}y(Jnh,H);p=Jnh.prototype;p.ea=function(){var a=new D;Knh(this,a);return Y(a)};function Knh(a,b){var c=J(a,1);null!=c&&b.Ga(1,c);c=J(a,2);null!=c&&Zi(b,2,c);c=J(a,3);null!=c&&Zi(b,3,c)}p.getUrl=function(){return J(this,1)};p.getWidth=function(){return J(this,2)};p.setWidth=function(a){return K(this,2,a)};p.getHeight=function(){return J(this,3)};p.setHeight=function(a){return K(this,3,a)};function Lnh(a){I(this,a,0,-1,null,null)}y(Lnh,H);p=Lnh.prototype;p.ea=function(){var a=new D;Mnh(this,a);return Y(a)};function Mnh(a,b){var c=J(a,1);null!=c&&b.Ga(1,c);c=J(a,2);null!=c&&b.Ga(2,c);c=M(a,Jnh,3);null!=c&&b.xa(3,c,Knh);c=J(a,4);null!=c&&E(b,4,c);c=J(a,5);null!=c&&b.Ga(5,c);c=J(a,9);null!=c&&b.Ga(9,c);c=J(a,6);null!=c&&b.Ga(6,c);c=M(a,Hnh,7);null!=c&&b.xa(7,c,Inh);c=J(a,8);null!=c&&b.Ga(8,c);c=J(a,11);null!=c&&b.Ga(11,c);c=J(a,10);null!=c&&b.Ga(10,c);c=J(a,12);null!=c&&b.Ga(12,c)}
p.getName=function(){return J(this,1)};p.ad=function(a){return K(this,1,a)};p.getUrl=function(){return J(this,2)};p.getId=function(){return J(this,9)};p.Nc=function(a){return K(this,9,a)};function Nnh(a){I(this,a,0,-1,Onh,null)}y(Nnh,H);var Onh=[8];p=Nnh.prototype;p.ea=function(){var a=new D;Pnh(this,a);return Y(a)};
function Pnh(a,b){var c=J(a,1);null!=c&&b.Ga(1,c);c=J(a,2);null!=c&&b.Ga(2,c);c=a.getContent();null!=c&&b.xa(3,c,unh);c=M(a,J4,4);null!=c&&b.xa(4,c,unh);c=M(a,TX,5);null!=c&&b.xa(5,c,uof);c=M(a,Lnh,14);null!=c&&b.xa(14,c,Mnh);c=J(a,6);null!=c&&$i(b,6,c);c=J(a,7);null!=c&&$i(b,7,c);c=K4(a);0<c.length&&ej(b,8,c,Pnh);c=L4(a);null!=c&&b.xa(9,c,znh);c=M(a,iT,21);null!=c&&b.xa(21,c,xoe);c=J(a,10);null!=c&&G(b,10,c);c=J(a,11);null!=c&&b.Ga(11,c);c=J(a,12);null!=c&&E(b,12,c);c=J(a,13);null!=c&&$i(b,13,c);
c=J(a,15);null!=c&&E(b,15,c);c=J(a,16);null!=c&&b.Ga(16,c);c=J(a,17);null!=c&&G(b,17,c);c=M(a,Anh,18);null!=c&&b.xa(18,c,Bnh);c=M(a,Enh,19);null!=c&&b.xa(19,c,Gnh);c=J(a,20);null!=c&&G(b,20,c);c=J(a,22);null!=c&&E(b,22,c);c=J(a,23);null!=c&&E(b,23,c)}p.getId=function(){return J(this,1)};p.Nc=function(a){return K(this,1,a)};p.getContent=function(){return M(this,J4,3)};p.setContent=function(a){return zj(this,3,a)};p.Qp=function(){return null!=J(this,3)};function K4(a){return yj(a,Nnh,8)}
function L4(a){return M(a,ynh,9)}p.getOrigin=function(){return J(this,17)};function Qnh(a,b){void 0!==b.getId()&&a.Nc(b.getId());var c=M4(b);if(void 0!==c){var d=M4(a);c?d?Rnh(d,c):zj(a,2,c):zj(a,2,void 0)}void 0!==J(b,3)&&(c=J(b,3),K(a,3,c));void 0!==J(b,4)&&(c=J(b,4),K(a,4,c));d=b.Op();if(void 0!==d)if(c=a.Op(),d)if(c){void 0!==d.getId()&&c.Nc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?Snh(f,e):c.setTitle(e):c.setTitle(void 0)}d=M(d,N4,3);void 0!==d&&(e=M(c,N4,3),d?e?Qnh(e,d):zj(c,3,d):zj(c,3,void 0))}else a.Nu(d);else a.Nu(void 0);void 0!==kj(b,
6)&&(c=kj(b,6),K(a,6,c));void 0!==kj(b,7)&&(c=kj(b,7),K(a,7,c));void 0!==J(b,8)&&(c=J(b,8),K(a,8,c));void 0!==kj(b,9)&&(b=kj(b,9),K(a,9,b))}
function Rnh(a,b){void 0!==b.getId()&&a.Nc(b.getId());if(void 0!==J(b,2)){var c=J(b,2);K(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?Snh(d,c):a.setContent(c):a.setContent(void 0)}c=M(b,J4,4);void 0!==c&&(d=M(a,J4,4),c?d?Snh(d,c):zj(a,4,c):zj(a,4,void 0));c=M(b,TX,5);void 0!==c&&(c?zj(a,5,c):zj(a,5,void 0));d=M(b,Lnh,14);if(void 0!==d)if(c=M(a,Lnh,14),d)if(c){void 0!==d.getName()&&c.ad(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();K(c,2,e)}e=M(d,Jnh,3);if(void 0!==e){var f=
M(c,Jnh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();K(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else zj(c,3,e);else zj(c,3,void 0)}void 0!==kj(d,4)&&(e=kj(d,4),K(c,4,e));void 0!==J(d,5)&&(e=J(d,5),K(c,5,e));void 0!==J(d,6)&&(e=J(d,6),K(c,6,e));f=M(d,Hnh,7);void 0!==f&&(e=M(c,Hnh,7),f?e?(void 0!==J(f,1)&&(h=J(f,1),K(e,1,h)),void 0!==J(f,2)&&(h=J(f,2),K(e,2,h)),void 0!==J(f,3)&&(h=J(f,3),K(e,3,h)),void 0!==J(f,4)&&(f=J(f,4),
K(e,4,f))):zj(c,7,f):zj(c,7,void 0));void 0!==J(d,8)&&(e=J(d,8),K(c,8,e));void 0!==J(d,11)&&(e=J(d,11),K(c,11,e));void 0!==J(d,10)&&(e=J(d,10),K(c,10,e));void 0!==J(d,12)&&(d=J(d,12),K(c,12,d))}else zj(a,14,d);else zj(a,14,void 0);void 0!==J(b,6)&&(c=J(b,6),K(a,6,c));void 0!==J(b,7)&&(c=J(b,7),K(a,7,c));K4(b)&&(c=rd(K4(a),K4(b)),Bj(a,8,c));d=L4(b);void 0!==d&&(c=L4(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==M(d,vnh,3)&&(e=M(d,vnh,
3),zj(c,3,e)),void 0!==J(d,4)&&(d=J(d,4),K(c,4,d))):zj(a,9,d):zj(a,9,void 0));void 0!==J(b,10)&&(c=J(b,10),K(a,10,c));void 0!==J(b,11)&&(c=J(b,11),K(a,11,c));void 0!==kj(b,12)&&(c=kj(b,12),K(a,12,c));void 0!==J(b,13)&&(c=J(b,13),K(a,13,c));void 0!==kj(b,15)&&(c=kj(b,15),K(a,15,c));void 0!==J(b,16)&&(c=J(b,16),K(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),K(a,17,c));void 0!==J(b,20)&&(c=J(b,20),K(a,20,c));c=M(b,Anh,18);void 0!==c&&(e=M(a,Anh,18),c?e?(d=M(c,TX,1),void 0!==d&&(c=M(e,TX,1),d?c?
(void 0!==d.getName()&&c.ad(d.getName()),void 0!==J(d,2)&&(e=J(d,2),K(c,2,e)),void 0!==J(d,3)&&(e=J(d,3),K(c,3,e)),void 0!==d.getId()&&c.Nc(d.getId()),void 0!==kj(d,5)&&(e=kj(d,5),K(c,5,e)),void 0!==kj(d,7)&&(e=kj(d,7),K(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),K(c,8,d))):zj(e,1,d):zj(e,1,void 0))):zj(a,18,c):zj(a,18,void 0));d=M(b,Enh,19);void 0!==d&&(c=M(a,Enh,19),d?c?(void 0!==J(d,1)&&(e=J(d,1),K(c,1,e)),void 0!==J(d,3)&&(e=J(d,3),K(c,3,e)),void 0!==J(d,2)&&(e=J(d,2),K(c,2,e)),void 0!==J(d,
4)&&(e=J(d,4),K(c,4,e)),void 0!==yj(d,Cnh,5)&&(d=yj(d,Cnh,5),Bj(c,5,d))):zj(a,19,d):zj(a,19,void 0));void 0!==M(b,iT,21)?(c=M(b,iT,21),zj(a,21,c)):void 0!==b.getContent()&&zj(a,21,void 0);void 0!==kj(b,22)&&(c=kj(b,22),K(a,22,c));void 0!==kj(b,23)&&(b=kj(b,23),K(a,23,b))}function Snh(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function Tnh(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Jd(b)?Kd(b.toLowerCase()):null;this.L=c;this.D=d;this.qd=e;this.H=f;this.C=h}Tnh.prototype.getName=g("J");Tnh.prototype.getEmail=g("F");Tnh.prototype.getId=g("qd");function F4(a){a=Jd(sf(a.getName()))?a.getEmail():a.getName();return sf(a)}Tnh.prototype.equals=function(a){return this.J==a.J&&this.F==a.F&&this.L==a.L&&this.qd==a.qd&&this.H==a.H&&this.C==a.C};
function Unh(a){var b=Vnh(Wnh(Xnh(Ynh((new O4).ad(a.getName()),a.getEmail()),J(a,2)),J(a,3)).Nc(a.getId()||""),!!kj(a,5));a=!!kj(a,7);b.D=a;return Znh(b)}function $nh(a){var b=(new TX).Nc(a.getId()||""),c=a.getName();null!==c&&b.ad(c);c=a.L;null!==c&&K(b,2,c);c=a.D;null!==c&&K(b,3,c);c=a.getEmail();null!==c&&K(b,8,c);K(b,5,!!a.H);return b}function O4(){}O4.prototype.ad=function(a){this.H=a;return this};function Ynh(a,b){a.C=b&&!Jd(b)?Kd(b.toLowerCase()):null;return a}
function Xnh(a,b){a.L=b;return a}function Wnh(a,b){a.J=b;return a}O4.prototype.Nc=function(a){this.qd=a;return this};function Vnh(a,b){a.F=b;return a}function Znh(a){return new Tnh(a.H,a.C,a.L,a.J,a.qd,a.F,a.D)};function aoh(a){M(a,TX,1);this.C=a}function E4(a){a=M(a.C,TX,1);return Unh(a)}aoh.prototype.Ae=g("C");aoh.prototype.equals=function(a){return Ej(this.C,a.C)};aoh.prototype.U7=function(a){if(!a)return new aoh(Fj(this.C));a=new aoh(Fj(a.Ae()));var b=E4(this);b=$nh(b);zj(a.C,1,b);return a};function boh(a){var b=new Anh;a=$nh(a);b=zj(b,1,a);return new aoh(b)};function coh(a){M(a,TX,1);J(a,2);this.C=a}coh.prototype.Ae=g("C");function doh(a){this.C=a}function eoh(a,b){var c=[];a=yj(a.C,Cnh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==J(e,2)||c.push(new coh(e))}return c}function P4(a){return null!=J(a.C,4)?J(a.C,4):0}doh.prototype.Ae=g("C");function foh(){var a=goh;this.Iu=[];this.C={};this.D=a}foh.prototype.text=function(a){this.Iu.push(a)};function hoh(a,b){if(a.C[b])a.Iu.push(b);else{var c=new ioh(b,a.Iu.length);a.Iu.push(c);a.C[b]=c}}function joh(a,b){var c=a.C[b];if(c){delete a.C[b];c.C=a.D[b].open;var d=Zc(Vd(a.C),function(e){return e.D>c.D});yd(d,function(e,f){return xd(e.D,f.D)});a.Iu.push(new koh(a.D[b].close,d,a.D))}else a.Iu.push(b)}foh.prototype.getResult=function(){return this.Iu.join("")};
function ioh(a,b){this.F=a;this.D=b;this.C=null}ioh.prototype.getName=g("F");ioh.prototype.toString=function(){return null!==this.C?this.C:this.F};function koh(a,b,c){this.F=a;this.C=b;this.D=c}koh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function loh(a){a=Me(Amh(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new moh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new noh(a.substring(0,c))),a=a.substring(c);b.push(new moh(a));return new ooh(b)}function poh(a){var b=new foh;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=qoh.test(d);d=roh.test(d);f?d?b.C[e]?joh(b,e):hoh(b,e):hoh(b,e):d?joh(b,e):b.text(e)}return new moh(b.getResult())}
function soh(a){return new moh(a.replace(toh,"<br>"))}var toh=/\r\n|\n|\r/g,goh={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},qoh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,roh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function moh(a){this.nf=a}moh.prototype.C=function(a){return a(this.nf)};moh.prototype.toString=g("nf");function noh(a){this.nf=a}noh.prototype.C=function(){return this};noh.prototype.toString=g("nf");
function ooh(a){this.Zh=a}ooh.prototype.C=function(a){var b=$c(this.Zh,function(c){return c.C(a)});return new ooh(b)};ooh.prototype.toString=function(){return this.Zh.join("")};function uoh(a){a.getId()||J(a,11);this.C=a;0==J(this.C,13)&&(K(this.C,13,void 0),K(this.C,15,void 0));this.F=this.J=this.H=this.D=null}p=uoh.prototype;p.update=function(a){this.F=this.H=this.J=null;void 0!==J(a,13)&&0!=J(a,13)&&(a.setContent(void 0),zj(a,4,void 0),zj(a,9,void 0));if(void 0!==M(a,iT,21)||void 0!==a.getContent())this.D=null;Rnh(this.C,a);0==J(this.C,13)&&(K(this.C,13,void 0),K(this.C,15,void 0))};p.equals=function(a){return Ej(this.C,a.C)};
p.bt=function(){var a=M(this.C,TX,5)||new TX;return Unh(a)};p.getId=function(){return this.C.getId()||J(this.C,11)||""};p.xu=function(){this.H||(this.H=IV(J(this.C,6)));return this.H};p.uH=function(){if(void 0===J(this.C,7))return this.xu();this.J||(this.J=IV(J(this.C,7)));return this.J};function voh(a){if(void 0===J(a.C,13))var b=null;else a.F||(a.F=IV(J(a.C,13))),b=a.F;if(!b||a.uH()>b)b=a.uH();return b}
function woh(a){if(void 0!==L4(a.C)&&("text/html"==L4(a.C).getType()||"text/plain"==L4(a.C).getType())){var b=L4(a.C).getValue();b="text/html"==L4(a.C).getType()?b:lf(b)}return b||""}p.x5=function(){if(void 0!==L4(this.C)){var a=M(L4(this.C),vnh,3);if(a)return a.Cd()}return null};p.aja=function(){return J(this.C,10)};p.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};
p.bja=function(){if(null!=M(this.C,iT,21)&&!this.D){var a=M(this.C,iT,21);a=J(a,2)||"";this.D=Se(a,null)}return this.D};p.Bw=function(){return null!=M(this.C,J4,4)?M(this.C,J4,4).getValue()||"":""};p.Hp=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};p.FS=function(){return!!kj(this.C,12)};p.zq=function(){return!!J(this.C,13)};p.Gy=function(){var a=M(this.C,Anh,18);return null!=a?new aoh(a):null};p.sA=function(){var a=M(this.C,Enh,19);return null!=a?new doh(a):null};
p.Bj=function(){return void 0!==J(this.C,16)&&void 0===J(this.C,10)};p.aF=function(){return void 0!==J(this.C,16)?J(this.C,16):null};function xoh(a){return void 0!==J(a.C,16)&&void 0!==J(a.C,10)?J(a.C,10):null}p.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};p.Hya=function(){return!!kj(this.C,22)};p.Cya=function(){return 2==this.getOrigin()};function Q4(a,b){this.C=new Nnh;K(this.C,11,a);b&&b!=a&&this.C.Nc(b)}
function yoh(a,b){var c=K4(a.C);c.push(b.C);Bj(a.C,8,c);return a}function zoh(a,b){K(a.C,16,b);return a}function R4(a){K(a.C,12,!0);return a}function Aoh(a,b){K(a.C,6,b);return a}function Boh(a){var b=Date.now();K(a.C,13,b);return a}function Coh(a){K(a.C,13,0);return a}function Doh(a,b){zj(a.C,18,b.Ae());K(a.C,10,4);return a}function Eoh(a,b){b=$nh(b);zj(a.C,5,b);return a}function Foh(a,b){zj(a.C,19,b.Ae());return a}function Goh(a){K(a.C,20,1);return a}
function S4(a,b,c){b=Kd(b);var d=(new J4).setType("text/plain").setValue(b);zj(a.C,4,d);b=(new J4).setType("text/html").setValue(loh(b).C(poh).C(soh).toString());a.C.setContent(b);K(a.C,7,c);return a};function Hoh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function Ioh(a,b){return a.F.getId()==b.bt().getId()}function Joh(a,b){return Ioh(a,b)&&!!b.Bw()&&("suggest"==a.C||"full"==a.C)}function Koh(a,b){return b instanceof uoh&&void 0!==b.aja()?!1:(a.H||Ioh(a,b))&&(!!b.Bw()||b.Bj())&&("suggest"==a.C||"full"==a.C)}function Loh(a,b){return a.D&&!b.Bj()&&("suggest"==a.C||"full"==a.C)}Hoh.prototype.aza=g("D");function Moh(a){return"suggest"==a.C||"full"==a.C};function Noh(a){I(this,a,0,-1,null,null)}y(Noh,H);Noh.prototype.ea=function(){var a=new D;var b=J(this,1);null!=b&&a.Ga(1,b);return Y(a)};function Ooh(a,b){this.D=a;this.C=b||null}Ooh.prototype.Oo=function(a,b,c){this.D(a,b,c)};Ooh.prototype.SEa=function(a){this.C&&this.C(a)};function Poh(a,b,c,d,e){d=d?d.Cd():void 0;e=e?e.Cd():void 0;a(b,c,d,e)};function Qoh(a){co.call(this);this.I3(a)}y(Qoh,co);p=Qoh.prototype;
p.I3=function(a){var b=a.kd;this.jh=b;if(void 0===b.Kg())throw Error("Invalid or missing user.");var c=b.Kg();this.iMa=Znh(Vnh(Wnh(Xnh(Ynh((new O4).ad(c.getName()),c.getEmail()),J(c,2)),J(c,3)).Nc(c.getId()||""),!!kj(c,5)));this.uha=!!kj(b,40);this.pca=!kj(b,20);this.qca=J(b,11);this.cOa=!!kj(b,12);this.Pra=J(b,6);this.hMa=void 0!==a.l?!!a.l:!!kj(b,25);this.j4a=J(b,21);this.Rra=J(b,23);this.jMa=J(b,24);this.$Xa=J(b,31);void 0!==a.i?this.Qra=a.i:this.Qra=void 0;if(a=UX(b))this.J3=J(a,1);this.dispatchEvent("r")};
p.Pra=null;p.$Xa=null;p.Qra=void 0;p.qca=null;p.hMa=!1;p.uha=!1;p.j4a=null;p.Rra=null;p.jMa=null;p.pca=!0;p.cOa=!1;p.iMa=null;p.J3=null;p.jh=null;p.Kg=g("iMa");function Roh(a,b,c){function d(f){return c?sd(f):f}var e=null;a&&Array.isArray(a)&&(e=d(a),Array.isArray(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function Soh(a){this.C=a};function Toh(){}Toh.prototype.install=function(a){a=a&&Bm(a);ocb(a)};Toh.prototype.setTooltipText=function(a,b,c){Ux(a,b,c)};Toh.prototype.hide=function(a){a=a&&Bm(a);tcb(a)};Toh.prototype.setTooltipSuspended=function(a,b){FV(a,b)};function Uoh(a,b){b=void 0===b?function(){return wqe()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));Array.isArray(c)&&(c=Roh(c,"kd",!0),c.unshift("kd"),a.kd=new Bof(c));Qoh.call(this,a);this.nj=b}u(Uoh,Qoh);p=Uoh.prototype;
p.I3=function(a){Qoh.prototype.I3.call(this,a);this.J=this.J||Z1b("disco");var b;if(!(b=this.Va)){b=Z1b("usp_dm");var c=new UPd;null!=b&&("true"==b?K(c,1,2):"false"==b&&K(c,1,1));b=c}this.Va=b;this.Eb=a["anchor-is-orphaned-fn"]||le;this.Ca=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new Soh(a.containerdiv));this.Cs=b;this.Cc=a.storage||null;this.ud=!!a["storage-ro"];this.Ue=!!a["disable-focus"];this.FD=!!a.so;this.Fg=a.docscroller||null;this.Fo=a["inactive-doco-indent"]||10;this.bb=
a["instant-docos-div"]||null;this.rb=a["enable-new-delete-ui"]||!1;this.ob=a["delete-dialog-show"]||null;this.R=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.R=new Ooh(b,c));this.Vl=a["memory-monitor-fn"]||null;this.va=a.layout||null;this.lk=!!a.layoutrtl;this.H=a.listeners||{};this.O=a.panediv||null;this.Aa=a.panekbdiv||null;this.X3()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.jb=
b;this.$c=a.quotefn||null;this.Yd=a["user-color-provider-fn"]||null;this.HD=a["user-color-provider-from-name-fn"]||null;this.Ds=a.quoterenderfn||null;this.Ph=!!a["hide-notification"];this.L=!!a.offline;this.Qc=!!a.nocss;this.Sc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Xd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!kj(this.jh,8);this.D=new Hoh(this.Kg(),c?c:d?"readonly":"full",!!kj(this.jh,
3),b);this.Xa=!!a.iph;this.Dp=a.maxheight||0;this.Gd=!!a.showerrors;this.Kd=a["stream-button"]||null;this.ef=!!a["disable-spfw"];this.Sa=a["anchor-mutate-fn"]||null;Voh(this)||(this.Sa=null);this.$g=!!a["enable-comment-button"];this.Ra=!!a["enable-gsuite-embedding"];this.ih=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.Am=a["acl-fix-fn"]||null;this.Dl=a["load-acl-fixer-fn"]||null;this.Ff=a["intercept-docos-edit-fn"]||null;this.Ti=a["is-an-illegal-write-fn"]||null;this.ke=
!!a["defer-first-sync"];this.Gb=!!a["enable-lazy-loading"];this.Qa=!!a["enable-all-docos-in-anchored-stream"];this.qz=a["stream-pane-banner-message"]||null;this.Fs=a["stream-pane-banner-learn-more-url"]||null;this.Bn=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Ja=(b=a["impression-recorder-fn"])?Ga(Poh,b):null;this.Gi=a.hidepromofn;this.Es=a.showpromofn;this.Wl=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new Toh;this.An=a["browser-app-clipboard"]||
null;this.gb=a["modal-dialog-z-index"]||null;this.Xf=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Na=a["static-input-pane-message"]||null;this.xca=a["drive-id"]||null;this.zb=!!a["enable-roving-tabindex"];this.vh=a["auto-complete-factories"]||[];this.Tn=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.Rb=a["link-opener"]||null;this.Fj=a["last-viewed-timestamp"]||null;this.Kq=a["screen-reader-state-tracker"]||new sob;this.dispatchEvent("r")};
function Woh(a){return null!=J(a.jh,44)&&null!=J(UX(a.jh),51)&&!!kj(UX(a.jh),51)}p.ZK=function(){if(this.Ph)return!1;var a=kj(this.jh,26);return null!=a?!!a:!0};p.Xha=function(){return!!kj(this.jh,43)};p.Pya=function(){var a=!1,b=UX(this.jh);b&&(a=kj(b,2));return!!kj(this.jh,43)&&!!a};function Xoh(a){return!!UX(a.jh)&&!!kj(UX(a.jh),32)}p.qua=g("xca");function Voh(a){return a.jh&&!!kj(a.jh,18)}p.ij=function(){return!!kj(this.jh,39)};
p.X3=function(){return null!=J(this.jh,44)&&!!kj(UX(this.jh),53)&&!this.Kg().C};p.Mz=function(){return null!=J(this.jh,44)&&!!kj(UX(this.jh),54)&&!this.Kg().C};function T4(a){return null!=J(a.jh,44)&&null!=J(UX(a.jh),55)&&!!kj(UX(a.jh),55)}function Yoh(a){return null!=J(a.jh,44)&&!!kj(UX(a.jh),56)}function Zoh(a){return null!=J(a.jh,44)&&!!kj(UX(a.jh),57)}function $oh(a){return a.nj()&&!!kj(a.jh,10)&&!a.Ue}function aph(a){return kj(a.jh,10)?a.vh:[]}
function bph(a){return!!UX(a.jh)&&!!kj(UX(a.jh),50)&&a.Kq.vp()};function cph(a,b,c){this.yy=a;this.src=b;this.C=c};function dph(a){B.call(this);this.C=a;this.D={};this.J={};this.L=this.C.L;this.qd=0;this.H=[];this.Oa=new $n(this);this.qa(this.Oa);this.Oa.listen(this.C,"r",this.O)}u(dph,B);function eph(a){return"legacy"===a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}function fph(a,b,c,d){if(b){var e="dcs-img-"+a.qd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||gph(a);hph(a,e)}}
function iph(a,b,c,d){b&&a.H.push(new cph(b,c,d))}function jph(a){fo(function(){for(;this.H.length;){var b=this.H.pop();fph(this,b.yy,b.src,b.C)}},0,a)}function U4(a,b){b&&b.id&&(a.Oa.Hc(b,kph,a.F),delete a.D[b.id],delete a.J[b.id])}dph.prototype.O=function(){var a=this.C.L;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)hph(this,b)};
dph.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.C.setTooltipText(b,"")),this.Oa.Hc(b,kph,this.F),b.src=gph(this)):U4(this,b)}};function hph(a,b){a.Oa.listen(a.D[b],kph,a.F);a.D[b].src=a.J[b]}
function gph(a){return Yoh(a.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png"}var kph=[Bf?"readystatechange":"load","abort","error"];function lph(){zV.call(this);this.ma=!1}y(lph,zV);function H4(a){return a.get("config")}function V4(a){var b=AV(a,"action_registry");if(!b){b=new jnh;for(var c=Vd(Rmh),d=0;d<c.length;d++){var e=c[d];e=N((new Hr(e)).mj("label",e).mj("visible",!0).mj("hint",e).mj("enabled",!0));b.Hq(e);b.qa(e)}a.Mf("action_registry",b)}return b}function W4(a){return a.get("stream")}function X4(a){return a.get("imageManager")}function mph(a){return a.get("subscriptionManager")}
function nph(a){return a.get("impressionRecorder")}function gnh(a){return AV(a,"errorReporter")}function oph(a){var b=AV(a,"batchEventTracker");b||(b=new knh,a.Mf("batchEventTracker",b));return b};function pph(a,b){this.L=a;this.D=b;this.C=!1;this.J=this.H=0;this.F=H4(a).Bn}function qph(a,b){a.C!=b&&(a.C=b,b={Kj:a.D.getId(),n_b:a.D.Ak(),t_b:b},V4(a.L).vf("mouse-hover-doco-view").qb(b))};function rph(a){var b=a.oi,c=a.mC,d=a.Ie;a=a.KS;return R('<div class="'+S("docos-icon")+" "+S("goog-inline-block")+(d?" "+S(d):"")+" "+S(c)+'"><div class="'+S("docos-icon-img")+" "+S("docos-icon-img-container")+" "+S(b)+(a?" "+S("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function sph(a){a=a||{};var b=a.nK,c=a.Y1,d=a.u_b;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+EV(c)+"><span class="+EV(d)+">"+Q(b)+"</span></div>":"<span class="+EV(d)+">"+Q(b)+"</span>");return R(a)};function tph(a){a=a||{};var b=a.oi,c=a.mC;a=a.KS;return R('<div class="'+S("goog-inline-block")+" "+S("goog-menu-button")+" "+S("docos-docomenu-dropdown")+'">'+(b?Q(rph({oi:""+b,mC:""+c,KS:a})):"")+"</div>")};function uph(a){var b=a.size,c=a.Ie,d=a.gib,e=a.qra;a=a.r3;return R('<img class="'+S("docos-avatar")+(c?" "+S(c):"")+'" width="'+S(b)+'" height="'+S(b)+'" alt=""'+(d?' src="'+S(Kv(d))+'"':"")+(e?' data-hovercard-id="'+S(e)+'"':"")+(a?' data-name="'+S(a)+'"':"")+"/>")};function vph(a,b){a=a||{};var c=R;if(a.Ak){a=a||{};var d=a.author,e=a.hh,f=a.yF,h=a.Spa,k=a.Ie,l=a.Bm,n=a.oA,q=a.Bj,t=a.gx,v=a.f9,x=a.nK,F=a.qZ,L=a.ij,V=a.Xha,T=a.Pya,ba=a.isBadgingEnabled,oa=a.timestamp,xa=a.cib,Aa=a.Xn;d='<div class="'+S("docos-anchoredreplyview")+(k?" "+S(k):"")+(q?" "+S("docos-replyview-suggest"):" "+S("docos-replyview-comment"))+(ba?" "+S("badging-enabled-doco"):"")+'"><div class="'+S("docos-anchoredreplyview-header")+'"><div class="'+S("docos-anchoredreplyview-avatar-holder")+
'">'+Q(uph({size:32,gib:xa,qra:f?""+f:"",r3:Fv(d)&&!e?""+d:"",Ie:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(n?'<div class="'+S("docos-user-presence")+'"></div>':"")+'</div><div class="'+S("docos-anchoredreplyview-authortimestamp")+'"><div class="'+S("docos-anchoredreplyview-author")+" "+S("docos-author")+'"'+(f?' data-hovercard-id="'+S(f)+'"':"")+(Fv(d)&&!e?' data-name="'+S(d)+'"':"")+">"+(d?Q(d):"")+'</div><div class="'+S("docos-anchoredreplyview-timestamp")+" "+S("docos-replyview-timestamp")+
'">'+(ba?(oa?"<span>"+Q(oa)+"</span>":"")+'<span style="clear:both;"></span><span class="'+S("docos-new-tag")+'" style="display:none"></span>':oa?Q(oa):"")+'</div></div><div class="'+S("docos-anchoredreplyview-buttonholder")+" "+S("hide-on-readonly")+'">';Fv(q)&&Fv(n)?(x=x={Xn:Aa},x=R(wph({od:"docos-accept-suggestion jfk-button-collapse-right",Xn:x.Xn},b)),Aa=Aa={ij:L,Xn:Aa},L=Aa.ij,Aa=Aa.Xn,b=""+Q(Dy({title:"Reject suggestion",style:Aa?4:0,od:"docos-reject-suggestion jfk-button-collapse-left",content:Gv(""+
(Aa?R('<div class="'+S("docos-icon-accept-checkmark-size")+" "+S("docs-icon")+" "+S("goog-inline-block")+" "+S("docs-material")+" "+S("docs-suggestion-button")+'"><div class="'+S("docs-icon-img-container")+" "+S("docs-icon-img")+" "+S("docs-icon-close-24")+'" aria-hidden="true"></div></div>'):Q(rph({oi:"docos-icon-reject-suggestion-cross",mC:"docos-icon-reject-suggestion-cross-size",Ie:"jfk-button-img"})))),uP:L},b)),b=R(b),b=x+b):t?b="":(L=n?V?R(wph({od:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},
b)):R(Q(Dy({od:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},b))):"",!Fv(V)||!Fv(F)&&x?b="":T?(V=(V=a)||{},Aa=V.oA,x=V.qZ,V=V.ij,T=Q(rph({oi:"docos-icon-thumb-black",mC:"docos-icon-thumb-size",Ie:"jfk-button-img",KS:!0}))+'<div class="'+S("like-button-text")+'">',T+="0</div>",b=""+Q(Dy({od:"docos-like-button "+(Fv(Aa)&&!x?"jfk-button-collapse-left":""),title:"Like this",content:Gv(T),uP:V},b)),b=R(b),b=Q(b)):(V=(V=a)||{},Aa=V.oA,x=V.qZ,V=V.ij,T='<div class="'+S("vote-button-text")+
'">',T+="+1</div>",b=""+Q(Dy({od:"docos-vote-button "+(Fv(Aa)&&!x?"jfk-button-collapse-left":""),title:"+1 this comment",content:Gv(T),uP:V},b)),b=R(b),b=Q(b)),b=L+b+'<div class="'+S("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');b=d+b+'</div></div><div class="'+S("docos-collapsible-replyview")+" "+(h?"":S("docos-collapsible-replyview-empty"))+'">'+(n||F?"":Q(sph(Dv({Y1:""},a))))+'<div class="'+S("docos-replyview-static")+'"><div class="'+S("docos-replyview-body")+" "+S("docos-anchoredreplyview-body")+
'">'+(h?Q(h):"")+'</div><div class="'+S("docos-show-more")+'" role="button" tabindex="0">';b=b+'Show more</div><div class="'+(S("docos-show-less")+'" role="button" tabindex="0" style="display:none">');b+="Show less";var Ea;n?Ea=Q(sph(Dv({Y1:"docos-root-reply-action-text-wrapper"},a))):F?Ea=Q(sph(Dv({Y1:"docos-action-text-bottom-wrapper"},a))):Ea="";b+="</div></div></div>"+(l?'<div class="'+S("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+Ea+'<div class="'+S("docos-replyview-origin")+
" "+S("docos-anchoredreplyview-origin")+'">'+(v?Q(v):"")+"</div></div>";b=R(b)}else n=a||{},v=n.author,F=n.hh,h=n.yF,d=n.Spa,L=n.Ie,l=n.fqa,Ea=n.Bm,Aa=n.oA,a=n.f9,x=n.timestamp,V=n.isBadgingEnabled,T=n.Xn,n.gx?(l=(l=Dv({author:v,yF:h,Ie:L,f9:a},n))||{},b=l.author,Ea=l.yF,a=l.Ie,l=l.f9,b=R('<div class="'+S("docos-streamrootreplyview")+(a?" "+S(a):"")+'"><div class="'+S("docos-streamdocoview-authorname")+" "+S("docos-author")+" "+S("goog-inline-block")+'"'+(Ea?' data-hovercard-id="'+S(Ea)+'"':"")+(b?
' data-name="'+S(b)+'"':"")+">"+(b?Q(b):"")+'</div><div class="'+S("docos-replyview-origin")+" "+S("docos-streamreplyview-origin")+'">'+(l?Q(l):"")+"</div></div>")):Aa?(Ea=(Ea=n)||{},L=Ea.author,Aa=Ea.yF,a=Ea.Spa,x=Ea.Ie,l=Ea.Bm,n=Ea.Jnc,v=Ea.aza,F=Ea.f9,h=Ea.nK,d=Ea.qZ,V=Ea.timestamp,T=Ea.isBadgingEnabled,b='<div class="'+S("docos-streamrootreplyview")+(T?" "+S("badging-enabled-doco"):"")+(x?" "+S(x):"")+'">'+(T?'<div class="'+S("docos-streamdocoview-authorname")+" "+S("goog-inline-block")+'"><span class="'+
S("docos-author")+'"'+(Aa?' data-hovercard-id="'+S(Aa)+'"':"")+(L?' data-name="'+S(L)+'"':"")+">"+(L?Q(L):"")+'</span><span style="clear:both;"></span><span class="'+S("docos-new-tag")+'" style="display:none"></span></div>':'<div class="'+S("docos-streamdocoview-authorname")+" "+S("docos-author")+" "+S("goog-inline-block")+'"'+(Aa?' data-hovercard-id="'+S(Aa)+'"':"")+(L?' data-name="'+S(L)+'"':"")+">"+(L?Q(L):"")+"</div>")+'<div class="'+S("goog-inline-block")+" "+S("docos-actionmenu-outer")+'">'+
Q(tph(null,b))+'</div><div class="'+S("docos-streamdocoview-details")+" "+S("goog-inline-block")+'"><div class="'+S("docos-streamdocoview-timestamp")+" "+S("docos-replyview-timestamp")+" "+S("goog-inline-block")+'">'+(V?Q(V):"")+'</div><div class="'+S("docos-streamdocoview-bullet")+" "+S("goog-inline-block")+" "+S("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+S("docos-streamdocoview-comments-off")+" "+S("goog-inline-block")+" "+S("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+
(S("docos-streamdocoview-reopen-control")+" "+S("goog-inline-block")+" "+S("hide-on-readonly")+'" style="display: none"><div class="'+S("docos-streamdocoview-bullet")+" "+S("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+S("docos-docoview-reopen")+" "+S("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=Iv("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',n&&(b+='<div class="'+S("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+
(S("docos-replyview-quote")+" "+S("docos-replyview-quote-collapsed")+'">'+Q(n)+'<div class="'+S("docos-replyview-quote-collapse")+" "+S("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(S("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+S("docos-replyview-static")+'"><div class="'+S("docos-streamdocoview-body")+" "+S("docos-replyview-body")+'">'+Q(a)+"</div>"+(h?Q(sph(Dv({Y1:"docos-root-reply-action-text-wrapper"},Ea))):"")+'<div class="'+
S("docos-streamdocoview-controls")+" "+S("hide-on-readonly")+'"><div class="'+S("docos-streamdocoview-comment-control")+" "+S("goog-inline-block")+'"><div class="'+S("docos-docoview-comment")+" "+S("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Iv("Reply to this comment"),b+='">Reply</div></div>',v&&(b+='<div class="'+S("docos-streamdocoview-resolve-control")+" "+S("goog-inline-block")+'"><div class="'+S("docos-streamdocoview-bullet")+" "+S("goog-inline-block")+'" aria-hidden="true">&bull;</div>',
d?(b+='<div class="'+S("docos-docoview-resolve")+" "+S("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Iv("Mark as done and hide discussion"),b+='">Mark as done'):(b+='<div class="'+S("docos-docoview-resolve")+" "+S("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Iv("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(l?'<div class="'+S("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+S("docos-replyview-origin")+
" "+S("docos-streamreplyview-origin")+'">'+(F?Q(F):"")+"</div></div>",b=R(b)):(b='<div class="'+S("docos-streamreplyview")+(V?" "+S("badging-enabled-doco"):"")+'">'+Q(uph({size:T?32:24,qra:h?""+h:"",r3:Fv(v)&&!F?""+v:"",Ie:"docos-replyview-avatar docos-streamreplyview-avatar"}))+'<div class="'+S("docos-streamreplyview-content")+'"><div class="'+S("docos-streamreplyview-text")+" "+S("goog-inline-block")+'">'+(V?'<div class="'+S("docos-streamreplyview-author")+" "+S("goog-inline-block")+'"><span class="'+
S("docos-author")+'"'+(h?' data-hovercard-id="'+S(h)+'"':"")+(v?' data-name="'+S(v)+'"':"")+">"+(v?Q(v):"")+'</span><span style="clear:both;"></span><span class="'+S("docos-new-tag")+'" style="display:none"></span></div>':'<div class="'+S("docos-streamreplyview-author")+" "+S("docos-author")+" "+S("goog-inline-block")+'"'+(h?' data-hovercard-id="'+S(h)+'"':"")+(v?' data-name="'+S(v)+'"':"")+">"+(v?Q(v):"")+"</div>")+Q(sph(n))+' <br><span class="'+S("docos-replyview-body")+" "+S("docos-streamreplyview-body")+
" "+S("docos-replyview-static")+'">'+Q(d)+'</span></div><div class="'+S("docos-replyview-static")+'"><div class="'+S("docos-streamreplyview-timestamp")+" "+S("docos-replyview-timestamp")+" "+S("goog-inline-block")+'">'+(x?Q(x):"")+"</div>",Fv(l)||Fv(Ea)?(v=v={Qfb:!0,fqa:l,Bm:Ea},l=v.fqa,n=v.Bm,v=v.Qfb,F='<div class="'+S("docos-replyview-control")+" "+S("docos-replyview-static")+" "+S("goog-inline-block")+" "+S("hide-on-readonly")+'">',n&&(F+=(v?'<div class="'+S("docos-streamdocoview-bullet")+" "+
S("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+S("docos-replyview-edit")+" "+S("goog-inline-block")+'" role="button" tabindex="0" title="',F+=Iv("Make changes to your comment"),F+='">Edit</div>'),l&&(F+=(v?'<div class="'+S("docos-streamdocoview-bullet")+" "+S("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+S("docos-replyview-delete")+" "+S("goog-inline-block")+'" role="button" tabindex="0" title="',F+=Iv("Permanently delete your comment"),
F+='">Delete</div>'),l=R(F+"</div>"),l=Q(l)):l="",b=b+l+"</div>"+(Ea?'<div class="'+S("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+S("docos-replyview-origin")+" "+S("docos-streamreplyview-origin")+'">'+(a?Q(a):"")+"</div></div></div>"),b=R(b);return c(b)}function xph(){return R('<div class="'+S("docos-showrepliesbutton")+'" style="display:none"><div class="'+S("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function wph(a,b){a=a||{};var c=a.od;a=a.Xn;var d=R,e;a?e=R('<div class="'+S("docos-icon-accept-checkmark-size")+" "+S("docs-icon")+" "+S("goog-inline-block")+" "+S("docs-material")+" "+S("docs-suggestion-button")+'"><div class="'+S("docs-icon-img-container")+" "+S("docs-icon-img")+" "+S("docs-icon-check-24")+'" aria-hidden="true"></div></div>'):e=Q(rph({oi:"docos-icon-accept-checkmark-black",mC:"docos-icon-accept-checkmark-size",Ie:"jfk-button-img"}));return d(Q(Dy({od:c?""+c:"",style:a?4:0,content:Gv(""+
e)},b)))};function yph(a,b){a=a||{};var c=a.Eba,d=a.od,e=a.sNa;a=a.tNa;return R('<div class="'+S("goog-inline-block")+(d?" "+S(d):"")+'">'+Q(Vy({Gl:c,od:e},b))+(c?"<label"+(a?' class="'+S(a)+'"':"")+">"+Q(c)+"</label>":"")+"</div>")};function zph(a,b){a=a||{};var c=a.Ie,d=a.Aba,e=a.csc,f=a.kqa,h=a.uNa,k=a.nJa,l=a.ij,n=a.nK,q=a.oD,t=a.fH,v=a.tv;a='<div class="'+S("docos-input")+(c?" "+S(c):"")+'" style="display: none">'+(v?'<div class="'+S("docos-input-textarea")+" "+S("docos-input-contenteditable")+(h?" "+S(h):"")+'" contenteditable="true"></div>':'<textarea class="'+S("docos-input-textarea")+(h?" "+S(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>')+(n?Q(sph(Dv({Y1:"docos-edit-pane-action-text-wrapper",
u_b:!0},a))):"")+(e?'<div class="'+S("docos-input-sidearrow-outer")+'"></div><div class="'+S("docos-input-sidearrow-inner")+'"></div>':"")+'<div id="docos-input-assignment-panel" class="'+S("docos-input-assignment-panel")+'" style="display: none">'+Q(Vy({od:"docos-input-assignment-box"},b))+'<div class="'+S("docos-input-assignee-text")+'">'+Q(k)+'</div><div class="'+S("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+S("docos-input-static-message")+'">'+Q(q)+"</div>":"")+'<div class="'+
S("docos-input-at-reply-message")+'" style="display: none">';a=(t?a+"Your @mention will add people to this discussion and send an email.":a+"Your +mention will add people to this discussion and send an email.")+('</div><div class="'+S("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(S("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+
(S("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+S("docos-focusedpresenceindicator-container")+'"></div><div class="'+S("docos-input-buttons")+'">'+Q(Dy({style:2,od:"docos-input-post docos-input-buttons-post"},b)));t="";t=f?t+(""+f):t+"Discard comment";f="";f=d?f+Q(d):f+"Cancel";a+=Q(Dy({od:"docos-input-cancel",title:t,content:Gv(f),uP:l},b));return R(a+"</div></div>")};function Aph(a,b){a=a||{};var c=R;if(a.Ak){a=a||{};var d=a.author,e=a.EZ,f=a.qZ,h=a.ij,k=a.Xn;a.gx?(a=(a=Dv({author:d,ij:h},a))||{},d=a.author,e=a.ij,f=a.oD,h=a.fH,k=a.tv,b=R('<div class="'+S("docos-anchoreddocoview-content")+" "+S("docos-anchoreddocoview-draft")+'">'+Q(vph(Dv({author:d,Ak:!0,oA:!0,Ie:"docos-replyview-first"},a),b))+"</div>"+Q(zph({Ie:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",ij:e,oD:f,fH:h,tv:k},b)))):e?(a=(a=Dv({ij:h,Xn:k},
a))||{},d=a.agb,e=a.ij,f=a.Xn,h=a.tv,k='<div class="'+S("docos-anchoreddocoview-content")+" "+S("docos-smarttodoview")+'"><div class="'+S("docos-smarttodoview-container")+'"><div class="'+S("docos-smarttodoview-header")+'"><table><tr><td class="'+S("docos-icon-explore-container")+'">'+Q(rph({oi:"docos-icon-explore",mC:"docos-icon-explore-size",KS:!0}))+'</td><td class="'+S("docos-smarttodoview-headertext")+'" role="heading"><div class="'+S("docos-smarttodoview-headertext-outer")+'"><div class="'+
S("docos-smarttodoview-headertext-inner")+'">',k=k+'Suggested action item</div></div></td><td><div class="'+(S("docos-overflowmenu-outer")+'">'+Q(tph({mC:"docos-icon-overflow-three-dots-size",oi:"docos-icon-overflow-three-dots",KS:f},b))+'</div></td></tr></table></div><div class="'+S("docos-smarttodoview-body")+'"></div>'),k+=Q(zph({Ie:"docos-docoview-input-pane",Aba:"Dismiss",kqa:"Dismiss suggested action item",ij:e,tv:h},b)),d&&(k+='<div class="'+S("docos-smarttodoview-showfeedbackdialog-container")+
'"><div class="'+S("docos-smarttodoview-showfeedbackdialog-button")+'" role="button" tabindex="0" aria-expanded="false">',k+="Bad suggestion?</div></div>"),e=k,d?(a=a||{},a=a.ij,d='<div class="'+S("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+S("docos-smarttodoview-feedback-headertext")+'" role="heading">',d=d+"Tell us why you didn't like this</div><div class=\""+(S("docos-smarttodoview-feedback-checkboxlist")+'">'),d+=Q(yph({Eba:"Not an action item",od:"docos-smarttodoview-feedback-checkbox-container",
sNa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",tNa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),d+=Q(yph({Eba:"Wrong assignee",od:"docos-smarttodoview-feedback-checkbox-container",sNa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",tNa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),d+='</div><div class="'+S("goog-inline-block")+" "+S("docos-smarttodoview-writefeedback-link")+
'" role="button" tabindex="0">',d=d+'Write feedback</div><div class="'+(S("docos-smarttodoview-feedback-buttonlist")+'">'),d+=Q(Dy({style:2,od:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",uP:a},b)),d+=Q(Dy({od:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",uP:a},b)),b=R(d+"</div></div>")):b="",b=R(e+("</div>"+b+"</div>")),b=Q(b)):b=(f?'<div class="'+S("docos-anchoreddocoview-content")+" "+S("docos-anchoreddocoview-assigneecontainer")+
'"></div>':"")+'<div class="'+S("docos-anchoreddocoview-content")+" "+S("docos-docoview-replycontainer")+'"><div class="'+S("docos-docoview-rootreply")+'"></div></div><div class="'+S("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+S("docos-unfocusedpresenceindicator-container")+'"></div>';b=R('<div class="'+S("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+S("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else{e=a||{};f=e.author;d=e.hh;var l=
e.yF;h=e.Xn;k=e.ij;var n=e.gx;a=R;d='<div class="'+S("docos-docoview-tesla-conflict")+'">'+Q(uph({size:h?32:48,qra:l?""+l:"",r3:Fv(f)&&!d?""+f:"",Ie:"docos-streamdocoview-avatar"}))+'<div class="'+S("docos-streamdocoview-content")+'">';n?(e=(e=Dv({author:f,ij:k},e))||{},f=e.author,h=e.ij,k=e.oD,n=e.fH,l=e.tv,b=R('<div class="'+S("docos-streampane-draft")+'">'+Q(vph(Dv({author:f,Ak:!1,oA:!0,gx:!0,Ie:"docos-replyview-first"},e),b))+"</div>"+Q(zph({Ie:"docos-streamdocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",
ij:h,oD:k,fH:n,tv:l},b)))):b='<div class="'+S("docos-docoview-rootreply")+'"></div><div class="'+S("docos-streamdocoview-replycontainer")+" "+S("docos-docoview-replycontainer")+'"></div><div class="'+S("docos-streamdocoview-inputcontainer")+" "+S("hide-on-readonly")+'">'+Q(uph({size:h?32:24,Ie:"docos-streamreplyview-avatar"}))+'<div class="'+S("docos-input-pane-placeholder")+'" style="display: none"></div></div>';b=a(d+b+"</div></div>")}return c(b)};pa("docosExterns.LayoutType.ABSOLUTE","absolute",void 0);pa("docosExterns.LayoutType.VERTICAL","vertical",void 0);function Bph(a,b){On.call(this,a);this.Kj=b}u(Bph,On);function Y4(a){Bph.call(this,"rd",a)}u(Y4,Bph);function Z4(a,b,c,d,e){G4.call(this,a,d);this.R=a;this.Xa=c;this.bb=[];this.O=null;this.gb=new pph(this.R,this);this.Nc(b);this.Qa=null;this.ud=e;this.rb=this.va=null;this.Od=!0;this.Rb=!1}u(Z4,G4);p=Z4.prototype;p.lB=ca();p.getContext=g("R");p.vd=function(){return W4(this.R).vd(this.getId())||null};p.Vk=function(){var a=this.getId();return Cph(this.ud,a)};p.cT=m(null);p.nAa=m(!1);
p.Ba=function(){var a=this.vd(),b=a.bt();a=$4(a);var c="Unknown"===b.getName();c=Av(Aph,{author:b.getName(),hh:b.C,yF:this.C.V&&!c?b.getId():null,Ak:this.Ak(),qZ:!!a,ij:this.C.ij(),Xn:"legacy"!=this.C.F,Mz:this.C.Mz(),fH:Zoh(this.C),tv:T4(this.C)});this.Ak()||Woh(this.C)||bw(c,"docos-streampanemargin-legacy");this.pb(c);this.Fe(b,a||void 0)};
p.Fe=function(a,b){b=b?dnh(b,this.C):void 0;a=a.getName();var c=Ud(this.vd().D),d=this.vd().isResolved()?"Resolved":"Open";var e=this.C.Eb;var f=this.vd();e=!f.Hy()||e(a5(f))?" This comment is not related to any text.":"";b=a&&b?(new mz("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.{orphaned}}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.{orphaned}}}")).format({state:d,author:a,assignee:b,
numReplies:c,orphaned:e}):a?(new mz("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.{orphaned}}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.{orphaned}}}")).format({state:d,author:a,numReplies:c,orphaned:e}):(new mz("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.{orphaned}}other {Comments dialog. {state} comment. {numReplies} replies.{orphaned}}}")).format({state:d,numReplies:c,orphaned:e});Yv(this.getElement(),
b)};p.Ia=function(){G4.prototype.Ia.call(this);I4(I4(this,this.getElement(),["click","keypress","keyup"],this.g2b),this.getElement(),["mouseenter","mouseleave","mousemove"],this.dkc);kn(this.getElement(),!0)};p.Dd=function(){G4.prototype.Dd.call(this);qph(this.gb,!1)};p.xba=m(!1);p.ADa=ca();
p.Pia=function(){if("legacy"==this.C.F&&this.Ak()&&(!this.va||!this.rb)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");bw(c,"docos-anchoreddocoview-arrow-inner");this.va=c;c=a.createElement("DIV");bw(c,"docos-anchoreddocoview-arrow-outer");this.rb=c;a.gr(b,this.va,0);a.gr(b,this.rb,0)}};p.Zc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Od;a||this.setVisible(!0);this.O=new ym(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
p.getHeight=function(){this.O||this.Zc();return this.O.height};p.g2b=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.$Za(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};p.dkc=function(a){var b=this.gb;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||qph(b,"mouseenter"==a.type);a.stopPropagation()};p.f_=function(a){this.resize();a.stopPropagation()};
p.resize=function(){this.O=null;this.dispatchEvent(new Y4(this.getId()))};p.setVisible=function(a){this.Od=a;O(this.getElement(),a)};p.isVisible=g("Od");p.z9a=ca();
function Dph(a){var b=["docos-docoview-tesla-conflict"],c=[];Rw().C&&z(A(),"docs-ehspc")&&"absolute"!=a.C.va?(Eph(a,"docos-anchoreddocoview",!1,b,c),Eph(a,"docos-streamdocoview",!0,b,c)):(Eph(a,"docos-anchoreddocoview",a.Ak(),b,c),Eph(a,"docos-streamdocoview",!a.Ak(),b,c));Eph(a,"docos-docoview-active",a.Vk(),b,c);Woh(a.C)&&Eph(a,"docos-docoview-active-experiment",a.Vk(),b,c);var d=a.vd();Eph(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)cw(a.getElement(),b),ew(a.getElement(),
c),a.bb=Zv(a.getElement())}function Eph(a,b,c,d,e){c&&!hd(a.bb,b)?d.push(b):!c&&hd(a.bb,b)&&e.push(b)}p.tU=da("Qa");function Fph(a){return a.Qa?a.Qa:a.C.Dp}p.getDocoMaxHeight=g("Qa");p.La=function(){G4.prototype.La.call(this);delete this.R};function N4(a){I(this,a,0,-1,null,null)}y(N4,H);function Gph(a){I(this,a,0,-1,null,null)}y(Gph,H);p=N4.prototype;p.ea=function(){var a=new D;Hph(this,a);return Y(a)};function Hph(a,b){var c=J(a,1);null!=c&&b.Ga(1,c);c=M4(a);null!=c&&b.xa(2,c,Pnh);c=J(a,3);null!=c&&$i(b,3,c);c=J(a,4);null!=c&&$i(b,4,c);c=a.Op();null!=c&&b.xa(5,c,Iph);c=J(a,6);null!=c&&E(b,6,c);c=J(a,7);null!=c&&E(b,7,c);c=J(a,8);null!=c&&b.Ga(8,c);c=J(a,9);null!=c&&E(b,9,c)}p.getId=function(){return J(this,1)};
p.Nc=function(a){return K(this,1,a)};function M4(a){return M(a,Nnh,2)}p.Op=function(){return M(this,Gph,5)};p.Nu=function(a){return zj(this,5,a)};p=Gph.prototype;p.ea=function(){var a=new D;Iph(this,a);return Y(a)};function Iph(a,b){var c=J(a,1);null!=c&&b.Ga(1,c);c=a.getTitle();null!=c&&b.xa(2,c,unh);c=M(a,N4,3);null!=c&&b.xa(3,c,Hph)}p.getId=function(){return J(this,1)};p.Nc=function(a){return K(this,1,a)};p.getTitle=function(){return M(this,J4,2)};p.setTitle=function(a){return zj(this,2,a)};var Jph=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,Kph=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function Lph(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Kd(a[b]).replace(/^\W+/,"").toLowerCase();return a};function Mph(a,b,c){var d=M4(a);this.F=a;this.O=b;this.ot=c||null;this.R=null;this.J={};this.D={};this.C=new uoh(d);this.H=void 0;this.NS=!!M(d,Anh,18);b=this.getId();if(a=M4(a)){a=K4(a);for(c=0;c<a.length;c++)d=new uoh(a[c]),void 0===J(a[c],13)?(this.D[d.getId()]=d,xoh(d)&&(this.H=xoh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}p=Mph.prototype;p.bt=function(){return this.C.bt()};p.getId=function(){return this.C.getId()};
function b5(a){return J(a.C.C,11)||""}p.uH=function(){var a=J(this.F,4);if(void 0===a)return this.xu();this.V||(this.V=IV(a));return this.V};p.getContent=function(){return this.C.getContent()};p.Hp=function(){return this.C.Hp()};p.aja=function(){return this.C.aja()};p.Bw=function(){return this.C.Bw()};function a5(a){return J(a.F,8)||""}p.bja=function(){return this.C.bja()};p.x5=function(){return this.C.x5()};p.Hy=function(){return void 0!==J(this.F,8)};p.isResolved=function(){return!!kj(this.F,6)};
function c5(a,b){var c=Vd(a.D);b&&c.push(a.C);zd(c,function(d,e){return HV(d.xu(),e.xu())});return c}function d5(a,b){return a.D[b]||null}p.xu=function(){if(this.L)return this.L;var a=J(this.F,3);a?this.L||(this.L=IV(a)):this.L=null;return this.L};p.getNewDocoType=g("ot");p.gx=function(){return"draft"==this.ot||"client-integrated-draft"==this.ot||"instant-doco"==this.ot};function Nph(a){return Oph(a)}function Oph(a){return a.gx()||"smart-todo"==a.ot}p.EZ=function(){return"smart-todo"==this.ot};
p.FS=function(){return!!kj(this.F,9)};p.zq=function(){return this.C.zq()};p.sA=function(){return this.C.sA()};p.Gy=function(){return this.C.Gy()};function $4(a){var b=a.C.Gy()?a.C.Gy():null;a=c5(a);for(var c=0;c<a.length;c++){var d=a[c];d.Gy()&&(b=d.Gy().U7(b))}return b}function Pph(a){return a.C.Gy()?a.C:null}p.Bj=function(){return this.C.Bj()};p.isTodo=function(){return null!=this.NS?this.NS:this.NS=!!Pph(this)};p.aF=function(){return this.C.aF()};
function Vmh(a){if(void 0!==a.H)return a.H;if(!a.Bj())return a.H=null;for(var b in a.D){var c=xoh(a.D[b]);if(c)return a.H=c}return a.H=null}p.getOrigin=function(){return this.C.getOrigin()};p.Hya=function(){return this.C.Hya()};p.Cya=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=c5(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};
function Qph(a){a=Fj(a.F);M4(a);var b=M4(a);Bj(b,8,[]);var c=Ha();K(b,13,c);K(b,12,!1);K(a,9,!1);return new Rph(a)}function Rph(a){this.C=a;this.ot=null}function e5(a){var b=new N4;a=a.C;zj(b,2,a);a.getId()||J(a,11);b.Nc(a.getId()||J(a,11));return new Rph(b)}function Sph(a,b){K(a.C,8,b);return a}function f5(a,b){K(a.C,9,b);return a}function Tph(a,b){a.ot=b;return a}Rph.prototype.getNewDocoType=g("ot");function Uph(a,b){K(a.C,3,b);return a}Rph.prototype.getId=function(){return M4(this.C).getId()};function g5(a,b){co.call(this);this.hb=b;this.O=a;this.D=null;if(a=h5(this).J)this.D=new Tmh(a,!0);this.ma=!a;this.va=!a;this.J=this.ob=this.H=null}u(g5,co);p=g5.prototype;p.xEa=da("J");p.gk=function(){if(!this.J)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.J};p.dR=function(){return[]};p.Pq=function(){return this.H?this.H.getId():null};p.pX=function(){return this.H?b5(this.H):null};
p.qX=function(){var a=this.Pq();return a?this.J.Ic(a):null};p.oa=g("hb");function h5(a){return H4(a.O)}p.getContext=g("O");p.QI=function(){return this.gk().getId()};p.Cda=g("D");p.oma=function(a,b){var c=this.Pq();return a||c?b==this.QI()||this.D&&this.D.C==a?!0:!Cph(this,a):!1};function Cph(a,b){if(a.Pq()==b)return!0;a=a.pX();return!!a&&a==b}
p.rAa=function(a,b,c){if(this.oma(a,b)){var d=Cph(this,a)?null:this.H;this.H=W4(this.O).vd(a)||null;var e=d&&a!=d.getId()&&(!b5(d)||a!=b5(d));if(e){var f=this.J.Ic(d.getId());f&&!d.zq()&&f.update()}d=!d||e;b=b==this.QI()&&(void 0===c||c);a&&(d||b)&&(d&&this.A5a(),(c=this.J.Ic(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new Tmh(a,b),d&&this.pCa(a))}};p.A5a=ca();
function Vph(a,b,c){var d=V4(a.O);d.vf("docos-before-highlight-doco").qb(b);i5(W4(a.O),c.getId());d.vf("docos-highlight-doco").qb(b);!a.ma&&(a.ma=!0,d=c.getId(),d==h5(a).J&&(b=h5(a).H["highlight-initial-doco"]))&&(a=(new z4("highlight-initial-doco")).addAnchorId(a5(c)).addDocoHandle(j5(W4(a.getContext()),d)).setNonAnchored(!(c.Hy()&&!c.isResolved())).setUserInitiated(!0).build(),b(a))}p.highlightNext=function(a,b,c){Wph(this,!0,void 0,a,b,c)};
p.highlightPrevious=function(a,b,c){Wph(this,!1,void 0,a,b,c)};p.Fka=ca();p.Dka=ca();function Wph(a,b,c,d,e,f){var h=W4(a.O),k=Xph(a,h,b,!!d,!!e);k||!c||e||(k=Xph(a,h,!b,!!d,!1));b=V4(a.O);k&&(a=C4(B4(k.getId()),a.QI()),a.D=!0,f=D4($mh(Zmh(a,void 0!==f?f:!0))),b.vf("docos-before-highlight-doco").qb(f),i5(h,k.getId()),b.vf("docos-highlight-doco").qb(f))}
function Xph(a,b,c,d,e){c=c?1:-1;var f=null,h=a.gk().tc();if(0==h)return null;a:{var k=a.Pq();if(k){var l=a.gk();if(k=l.Ic(k)){l=lv(l,k);break a}}l=-1}0>l&&(l=0,f=a.gk().Dc(l));for(k=l;!f||d&&!Yph(b,f.vd());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.gk().Dc(l)}return f}
p.pCa=function(a){if(a==h5(this).J){var b=this.J.Ic(a);b&&b.Vk()&&!this.va&&(this.va=!0,b=h5(this).H["linked-doco-highlighted"])&&(a=W4(this.O).vd(a),a=Smh("linked-doco-highlighted").addAnchorId(a5(a)).setUserInitiated(!0).build(),b(a))}};p.tea=function(a){for(var b=this.gk(),c=b.tc(),d=c,e=0;e<c;++e){var f=b.Dc(e);if(f&&0>=this.wW(a,f)){d=e;break}}return d};
function Zph(a){if(a.z5()){for(var b=a.gk(),c=[],d=b.tc(),e=0;e<d;++e)c.push(b.Dc(e));c.sort(function(f,h){return a.wW(f,h)});for(e=0;e<d;++e)b.Dc(e)!=c[e]&&b.If(c[e],e)}}p.Qz=function(){jph(X4(this.getContext()))};p.vK=ca();p.fna=function(a){(a=this.J.Ic(a))&&a.z9a()};p.qAa=function(){for(var a=this.gk().tc(),b=new umh,c,d=0;d<a;d++)c=this.gk().Dc(d),null!=c&&(c=c.vd(),null!=c&&Umh(b,c));return vmh(b)};p.eL=ca();p.dja=m(null);p.Y7=m(null);p.Z7=ca();
p.La=function(){co.prototype.La.call(this);this.H=null};p.pAa=function(a){a=a.g_()||a;a instanceof g5&&(a.D=this.D?this.D.clone():null,a.ma=this.ma,a.va=this.va)};p.g_=m(null);p.wEa=da("ob");p.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof g5){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.ma==a.ma&&this.va==a.va}else a=!1;return a};function $ph(a,b){On.call(this,a);this.gMa=b}u($ph,On);function aqh(a,b){var c=a.nJa,d=a.ij,e=a.Xn;a='<div class="'+S("docos-assigneeview")+'"><table><tr><td class="'+S("docos-assigneeview-avatar-container")+'">'+Q(uph({size:32,Ie:"docos-assigneeview-avatar"}))+'</td><td class="'+S("docos-assigneeview-assigneeinfo")+'"><div class="'+S("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+S("docos-assigneeview-assignee-text")+'">'+Q(c)+'</div></td><td class="'+S("hide-on-readonly")+'">';e=e={ij:d,Xn:e};d=e.ij;e=e.Xn;var f='aria-label="'+
Iv("Mark as done and hide discussion.");b=""+Q(Dy({od:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:Hv(f+'"'),style:e?4:0,content:Gv(""+(e?'<div class="'+S("docos-icon-checkmark")+" "+S("docos-icon-accept-checkmark-size")+" "+S("docs-icon")+" "+S("goog-inline-block")+" "+S("docs-material")+'"><div class="'+S("docs-icon-img-container")+" "+S("docs-icon-img")+" "+S("docs-icon-check-24")+'" aria-hidden="true"></div></div>':Q(rph({oi:"docos-icon-accept-checkmark-black",
mC:"docos-icon-accept-checkmark-size",Ie:"docos-icon-checkmark jfk-button-img"})))),uP:d},b));b=R(b);return R(a+(c+b+"</td></tr></table></div>"))};function bqh(a,b,c,d){this.C=a;this.D=b;this.H=c;this.F=(void 0===d?null:d)||null};function cqh(a,b,c,d){G4.call(this,a,b);this.H=a;this.O="legacy"!=this.C.F;this.Nc(c);this.ma=d;this.R=this.L=this.J=this.D=this.F=null;this.V=new Ey(null);this.qa(this.V)}u(cqh,G4);p=cqh.prototype;
p.Ba=function(){var a=this.oa(),b=$4(dqh(this)),c=Av(aqh,{nJa:dnh(b,this.C),ij:this.C.ij(),Xn:this.O});this.pb(c);var d=this.O?"docs-icon-img-container":"docos-icon-img-container";this.L=a.eb("docos-icon-checkmark",c);this.R=a.eb(d,c);this.J=a.eb("docos-mark-done-button",c);this.V.Wa(this.J);I4(this,this.V,"action",this.j2b);this.F=a.eb("docos-assigneeview-assignee-text",c);this.D=WU(a,"IMG","docos-assigneeview-avatar",c);a=E4(b);iph(X4(this.H),this.D,a.D,F4(a));eqh(this,b)};
p.Ia=function(){G4.prototype.Ia.call(this);var a=$4(dqh(this));a=E4(a);fqh(this,a,this.F);fqh(this,a,this.D)};
function eqh(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e=a.O?"docs-icon-check-24":"docos-icon-accept-checkmark-black";!anh(b,a.C)||"black"==Wx()&&If||"material_light_background"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e=a.O?"docs-icon-check-24-white":"docos-icon-accept-checkmark-white");b=cnh(b,a.C);ew(a.getElement(),["docos-assignee-you","docos-assignee-other"]);ew(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);ew(a.R,
["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black","docs-icon-check-24-white","docs-icon-check-24"]);ew(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);bw(a.L,d);bw(a.R,e);bw(a.J,c);bw(a.getElement(),b)}function dqh(a){return W4(a.H).vd(a.getId())}p.update=function(){var a=$4(dqh(this)),b=dnh(a,this.C)||"";hn(this.F,b);U4(X4(this.H),this.D);b=E4(a);iph(X4(this.H),this.D,b.D,F4(b));eqh(this,a);fqh(this,b,this.F);fqh(this,b,this.D)};
function fqh(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.setTooltipText(c,b)}}p.j2b=function(a){a&&a.stopPropagation();(a=dqh(this))&&!a.isResolved()&&(a=V4(this.H),this.dispatchEvent("br"),a.vf("docos-resolve-doco").qb(new bqh(this.getId(),!0,gqh(this.ma))),this.dispatchEvent("ar"))};p.Dd=function(){G4.prototype.Dd.call(this)};
p.La=function(){G4.prototype.La.call(this);delete this.F;delete this.D;delete this.L};function hqh(a,b,c,d,e,f){G4.call(this,a,c);this.D=H4(a);this.Qa=rm(Rc(A(),"docs-seu")||this.D.Xf||window.location.href);this.Vc=new Kx(c,new iqh(d));this.F=new Tx("",this.Vc,void 0,c);this.F.vO=!0;this.Ha(this.F);this.J=null;hd(e,"edit")&&(this.J=new Fx("Edit"),this.J.Oc("docos-edit-menuitem"),this.Vc.Ha(this.J,!0));this.H=null;hd(e,"delete")&&(this.H=new Fx("Delete"),this.H.Oc("docos-delete-menuitem"),this.Vc.Ha(this.H,!0));this.R=null;hd(e,"reanchor")&&Xoh(this.D)&&(this.R=new Fx("Reanchor comment"),
this.R.Oc("docos-reanchor-menuitem"),this.Vc.Ha(this.R,!0));this.va=null;hd(e,"disable")&&(this.va=new Fx("Turn off suggested action items"),this.va.Oc("docos-disable-menuitem"),this.Vc.Ha(this.va,!0));this.Ja=null;hd(e,"help")&&(this.Ja=new Fx("Learn more"),this.Ja.Oc("docos-help-menuitem"),this.Vc.Ha(this.Ja,!0));d=W4(a).vd(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Na=f?d5(d,f):null;this.V=null;H4(a).D.aza()&&hd(e,"resolve")&&(this.V=new Fx(""),this.Vc.Ha(this.V,
!0));this.O=this.Aa=this.ma=null;hd(e,"link")&&(this.Aa=new Fx("Link to this comment..."),this.Aa.Oc("docos-link-menuitem"),this.Vc.Ha(this.Aa,!0),this.O=new Rtf(c,this.D.An||void 0,void 0,null===this.D.gb?void 0:this.D.gb),this.Ha(this.O),bw(uw(this.O),"docos"),this.O.setTitle("Link to this comment..."),jqh(this,b));this.Ca=H4(a).Tn.map(function(h){return{geb:h,bSa:new Fx(h.getLabel())}});for(a=0;a<this.Ca.length;a++)this.Vc.Ha(this.Ca[a].bSa,!0)}u(hqh,G4);p=hqh.prototype;
p.Jc=function(a){G4.prototype.Jc.call(this,a);a=this.oa().eb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Gd,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Wa(a),this.F.Pa(!0),this.D.C.setTooltipText(a,"More options..."),this.F.Fe("More options..."))};
p.Ia=function(){var a=this;G4.prototype.Ia.call(this);kqh(this);I4(I4(I4(this,this.Vc.getElement(),"click",this.a_a),this.F.getElement(),"click",this.a_a),this.D,"r",this.MEb);I4(this,this.F.getElement(),"keyup",this.xsc);lqh(this,this.J,this.Ktc);lqh(this,this.H,this.Itc);lqh(this,this.Aa,this.nmc);lqh(this,this.R,this.Otc);lqh(this,this.V,this.Ptc);lqh(this,this.va,this.Jtc);lqh(this,this.Ja,this.Ntc);for(var b={},c=0;c<this.Ca.length;b={iaa:b.iaa},c++)b.iaa=this.Ca[c],lqh(this,b.iaa.bSa,function(d){return function(){d.iaa.geb.C((a.Na||
a.L).Bw())}}(b))};p.Jh=function(a){this.oa().Hi(this.F.getElement(),a)};p.focus=function(){this.F.getElement().focus()};p.update=function(){kqh(this)};function jqh(a,b){if(a.O){var c=a.Qa.clone();b=c.D.set("disco",b);a.O.N_a(km(c,b).toString())}}function lqh(a,b,c){b&&I4(a,b,"action",c)}p.Ptc=function(a){Loh(this.D.D,this.L)&&(this.dispatchEvent(new mqh("r")),nqh(this,a))};p.Ktc=function(a){oqh(this)&&(this.dispatchEvent(new mqh("e")),nqh(this,a))};
p.Jtc=function(a){this.dispatchEvent(new mqh("i"));nqh(this,a)};p.Itc=function(a){pqh(this)&&(this.F.Fd(!1),this.dispatchEvent(new mqh("d")),nqh(this,a))};p.Otc=function(a){this.dispatchEvent(new mqh("ra"));nqh(this,a)};p.Ntc=function(a){this.dispatchEvent(new mqh("h"));nqh(this,a)};p.nmc=function(a){nqh(this,a);this.O.setVisible(!0)};function nqh(a,b){b.stopPropagation();a.F.Fd(!1)}p.xsc=function(a){27==a.keyCode&&a.stopPropagation()};p.a_a=function(a){a.stopPropagation()};p.MEb=function(){kqh(this)};
function oqh(a){return Joh(a.D.D,a.Na||a.L)&&!a.ma}function pqh(a){return Koh(a.D.D,a.Na||a.L)&&!a.D.ma}function kqh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=Pph(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Pa(Loh(a.D.D,a.L))}a.J&&(b=oqh(a),a.J.Pa(b),a.J.setVisible(b));a.H&&(b=pqh(a),a.H.Pa(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Pa(b),a.R.setVisible(b))}function mqh(a){On.call(this,a)}u(mqh,On);
function iqh(a){a=void 0===a?"docos-docomenu":a;Ix.call(this);this.D=a}u(iqh,Ix);iqh.prototype.Ob=function(){return(new Wp("goog-menu"," ","docos"," ",this.D)).toString()};function qqh(a,b,c,d,e,f,h){this.H=a;this.D=b;this.J=c;this.F=d;this.Uy=e;this.jX=f;this.C=h}qqh.prototype.vd=g("D");function k5(){}function l5(a,b){a.F=b;return a}function m5(a,b){a.D=b;return a}function rqh(a,b){a.Uy=b;return a}function n5(a){return new qqh(a.F,a.D,a.J||!1,a.C||null,a.Uy||null,a.jX||null,a.H||null)};function sqh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Lr=h}function o5(){}function p5(a,b){a.H=b;return a}function q5(a,b){a.F=b;return a}function r5(a,b){a.Lr=b;return a}function s5(a){return new sqh(a.H,a.L||!1,a.C||null,a.J||null,a.D||null,a.F||null,a.Lr||null)};function tqh(a,b){this.C=a;this.hb=b}
function uqh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+S("docos-contact-row")+'" title="';f+=Iv("Contact information.");f+='">'+Q(uph({size:32,Ie:"docos-contact-row-avatar"}))+'<div class="'+S("docos-contact-row-name")+'">'+(e?Q(e):Q(d))+"</div>"+(e?'<div class="'+S("docos-contact-row-email")+'">'+Q(d)+"</div>":"")+"</div>";d=R(f);d=xv(d);We(c,d);d=b.getEmail();d=Jd(sf(b.getName()))?d:b.getName()+" "+d;Yv(c,d);c=WU(a.hb,"IMG","docos-contact-row-avatar",c);U4(a.C,c);fph(a.C,c,b.D,F4(b));
return c};function vqh(a,b,c,d){d=void 0===d?null:d;$x.call(this,void 0,void 0,void 0,a);this.J=null;this.O=new tqh(X4(c),a);this.H=b;this.L=c;this.C=d;this.D=null}u(vqh,$x);p=vqh.prototype;p.Ia=function(){$x.prototype.Ia.call(this);this.D=Lm("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.H2b).listen(this.getElement(),"focus",this.Qy).listen(this.getElement(),["mousedown","blur"],this.k5a)};
p.H2b=function(a){this.C&&this.C.vd()==W4(this.L).R||(this.Fd(!this.tf()),this.k5a());a.stopPropagation()};p.Qy=function(){bw(this.D,"docos-assignee-select-focus")};p.k5a=function(){dw(this.D,"docos-assignee-select-focus")};p.$e=function(a){return this.Cb()&&2>this.Cb().tc()?!1:$x.prototype.$e.call(this,a)};p.jg=function(a){this.C&&this.C.vd()==W4(this.L).R&&(this.Cb()&&2>this.Nh()||$x.prototype.jg.call(this,a))};function wqh(a){return(a=a.wf())?a.Kg():null}
p.Je=function(a){$x.prototype.Je.call(this,a);var b=a.getElement();b&&(bw(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&bw(b,"docs-gm"),this.C&&this.C.Ak()||a.render(this.H.O))};p.Rl=function(){var a=this.Cb().getElement();Hu(a,"width",this.J.offsetWidth+"px");$x.prototype.Rl.call(this);var b=parseInt(w8a(a,"top"),10)||0,c=Nu(this.J).x;this.C&&this.C.Ak()?b+=-1:(c-=Nu(this.H.O).x,b+=-2);Ku(a,c,b)};
function xqh(a){var b=new Nl;if(!a.Cb())return b;a.Cb().Xe(function(c){b.add(c.Kg())});return b}p.update=function(a,b){if(!xqh(this).equals(new Nl(a))||wqh(this)!=b){for(var c=new Kx(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new yqh(f,this.O,this.oa());f.equals(b)&&(d=h);c.Ha(h,!0)}this.Je(c);by(this,d);O(this.getElement(),1<this.Nh())}};p.reset=function(){this.Cb().Bd();by(this,null)};
function yqh(a,b,c){var d=c.createElement("div");Fx.call(this,d,void 0,c);this.D=a;this.C=b;this.F=uqh(this.C,this.D,d)}u(yqh,Fx);p=yqh.prototype;p.Ba=function(){Fx.prototype.Ba.call(this);bw(this.getElement(),"docos-assignee-select-item")};p.Ia=function(){Fx.prototype.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.G2b)};p.Kg=g("D");p.Wg=m("");p.G2b=function(a){a.stopPropagation()};p.La=function(){Fx.prototype.La.call(this);var a=this.F;a&&U4(this.C.C,a)};function zqh(a){this.C=null;this.D=a}function Aqh(a,b,c){if(c){var d=new Qj;zj(d,11,c)}a.D&&a.D(b,void 0,d)}var Bqh={},Cqh=(Bqh[1]={p$:43002,O$:43004,D3:43006,O9:43E3},Bqh[2]={p$:43003,O$:43005,D3:43007,O9:43001},Bqh[3]={p$:43068,O$:43069,D3:43066,O9:43067},Bqh[4]={p$:43072,O$:43073,D3:43070,O9:43071},Bqh[6]={p$:43098,O$:43100,D3:43097,O9:43099},Bqh);function Dqh(){Eqh(this)}u(Dqh,Ma);p=Dqh.prototype;p.Ov=function(a){hc(a);ida(this.D.add(a),a);this.C=null;return a};p.Xy=function(a){gda(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};p.aZ=function(a){return this.D.contains(a)};p.cleanup=function(){this.D.clear();this.C=null};
function Fqh(a){if(!a.C){var b=new Plh,c=a.D;b.C=[];var d=c.Cd();c=d;var e=b.C;d=d.length;var f=0,h=0;Pa(c,e)&&(c=c.slice(h,h+d),h=0);var k=h;for(h+=d;k<h;){var l=Math.min(k+1E4,h);d=l-k;k=c.slice(k,l);k.splice(0,0,f,0);Array.prototype.splice.apply(e,k);k=l;f+=d}a.C=b}return a.C.Zi()}p.Zi=function(){return Fqh(this)};function Eqh(a){var b=new $lh,c=new Nlh;wlh(c);b.C=c;a.D=b;a.C=null};function Gqh(a){Eqh(this);this.F=a}u(Gqh,Dqh);Gqh.prototype.set=function(a){this.F=a;for(a=Fqh(this);a.C();){var b=a.D();Hqh(b,this.F)}};Gqh.prototype.get=g("F");function Iqh(a,b,c){return new Jqh(a,b,c)}function Jqh(a,b,c){this.C=Kqh(a,b);this.re=c;this.F=!1;this.D=-1;Lqh(this,0)}Jqh.prototype.j7=g("F");Jqh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function Kqh(a,b){for(var c=[],d={},e=0;e<b.length;d={oV:d.oV,maa:d.maa},e++){d.maa=b[e];var f=d;var h=new Gqh(null);f.oV=h;d.maa.H(a.token,a.Bba,a.C,function(k){return function(l,n,q,t,v){t=void 0===t?!0:t;v=void 0===v?!1:v;0<l.length?k.oV.set(new Mqh(l,n,t,k.maa.getType(),v,q)):t&&k.oV.set(Nqh())}}(d))||d.oV.set(Nqh());c.push(d.oV)}return c}function Lqh(a,b){a.F||(b>=a.C.length?(a.re(Nqh()),a.close()):(a.D=b,a.C[b].Ov(a),b=a.C[b].get(),null!==b&&Hqh(a,b)))}
function Hqh(a,b){b.isEmpty()?(a.C[a.D].Xy(a),Lqh(a,a.D+1)):(a.re(b),b.complete&&a.close())}function Oqh(a,b,c){this.token=a;this.Bba=b;this.C=c}function Mqh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}Mqh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function Nqh(){return new Mqh([],new EAd(!1),!0,0,!1,void 0)};function Pqh(a){var b=[];for(a=a.firstChild;a;){switch(a.nodeType){case 3:b.push(ln(a));break;case 1:b=b.concat(Qqh(a));break;default:throw Error("Unexpected NodeType in inputpane: "+a.nodeType);}a=a.nextSibling}return b}function Qqh(a){var b=[];switch(a.tagName){case "BR".toString():a.previousSibling&&3===a.previousSibling.nodeType||b.push("");break;case "P".toString():case "DIV".toString():b=b.concat(Pqh(a));break;default:throw Error("Unexpected TagName in inputpane: "+a.tagName);}return b}
function Rqh(a){if(0===a.length&&Bf)return Re("P");a=a.split("\n");for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(0===c?d:Re("DIV",null,d||Ve))}return Te(b)};function Sqh(a){var b=Fa(a).toString();wO.call(this,b,void 0);this.D=a;this.D.id=this.id;this.ob=EK(new DK)}u(Sqh,fKc);function Tqh(a){var b=a.ob;if(a.queryCommandValue("usinglorem"))a="\u00a0";else if(a.Wf()){var c=a.getElement(),d=c.cloneNode(!1);c=c.innerHTML;Bf&&c.match(/^\s*<script/i)&&(c="\u00a0"+c);d.innerHTML=c;a.cYa(11,d);a=a.tla(10,d.innerHTML)}else a=a.D.innerHTML;b.D=Sgc(b);b=vgc.prototype.L.call(b,a);return Pqh(b).join("\n")}
Sqh.prototype.ZS=function(a,b,c){fKc.prototype.ZS.call(this,a,b,c);this.dispatchEvent("dom_manipulated")};function Uqh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function Vqh(a){this.Nmc=a}u(Vqh,khb);function t5(a,b,c,d){zz.call(this,void 0===a?null:a,void 0===b?null:b,void 0===c?null:c,void 0===d?null:d);this.J=0;this.T9a=this.j6a=this.k6a=!1;this.V=this.ma=null}y(t5,zz);t5.prototype.jg=function(){this.C.tf()&&this.C.Ah()};t5.prototype.Rg=function(a){this.J=Ha();return(37===a.keyCode||39===a.keyCode)&&this.C.tf()||38===a.keyCode&&this.C.tf()&&-1===this.C.J?(this.C.Ah(),!0):t5.$a.Rg.call(this,a)};
t5.prototype.iD=function(a,b){var c=null;if(a){c=a.yR();var d=Wqh(this,a.getToken());c={start:c.Mk()+d,end:c.xv()+d}}b=t5.$a.iD.call(this,a,b);if(a){d=c.end;var e=this.El;e&&(yz(e,c.start),vhb(e,d));a.W_()}return b};function Wqh(a,b){var c=a.oo();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function Xqh(a,b){return a.oo()-Wqh(a,b)};function Yqh(a,b,c,d,e){t5.call(this,void 0===b?null:b,void 0===c?null:c,void 0===d?null:d,void 0===e?null:e);this.F=a}y(Yqh,t5);p=Yqh.prototype;p.iD=function(a){var b=null;if(a){var c=a.yR();b=Wqh(this,a.getToken());b={start:c.Mk()+b,end:c.xv()+b}}a&&(c=a.toString(),b=b.start,Jd(c.charAt(c.length-1))&&(c=c.substring(0,c.length-1)+"\u00a0"),this.setValue(c),this.sU(b),this.Ola=!0,a.W_());return!1};p.getValue=function(){var a=this.F.getRange();return a&&a.rq()?a.Pi().textContent:""};
p.setValue=function(a){var b=this.F.getRange().Pi();hn(b,a)};p.oo=function(){var a=this.F.getRange();return a?a.Zl():0};p.sU=function(a){var b=this.F.getRange().Pi();mM(b,a).select()};function Zqh(a,b){var c=this;this.D=a;this.C=fo(function(){c.C=null;c.D.close()},b)}Zqh.prototype.cancel=function(){null!==this.C&&(go(this.C),this.C=null);this.D.close()};function $qh(a,b,c,d){Lz.call(this,b,d);this.Na=!!c;this.V=!0;this.HGa=!1;this.O=!0;this.className="docos-ac";a&&(this.R=a)&&(this.Qa=a)}y($qh,Lz);$qh.prototype.cd=function(){$qh.$a.cd.call(this);Yv(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=Lu(this.getElement()),b=this.Na?-2:-1;Ku(this.getElement(),a.x,a.y+b)}};function arh(a,b){this.C=a;this.D=b}var brh=/[\n]$/;p=arh.prototype;p.getId=function(){return this.C.getId()};p.getType=function(){return this.C.getType()};p.pR=function(){return this.C.pR()};p.yR=function(){return this.C.yR()};p.render=function(a){this.C.render(a)};p.W_=function(){this.C.W_()};p.getToken=g("D");p.toString=function(){var a=brh.test(this.D)?"\n"[0]:"";return this.yR().C+a};function crh(a){this.C=a};function drh(){this.className="docos-ac-highlighted"}drh.prototype.Xxa=function(a,b,c){Jd(b)||c.C&&/^\W/.test(b)?c=null:(b=of(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.xy(a,c)};
drh.prototype.xy=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.xy(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Bm(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,b.createTextNode(f)),f=h,h=b.createTextNode(""),b.$w(f,a),b.$w(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function erh(a,b,c,d,e,f,h,k,l,n){n=void 0===n?5E3:n;wz.call(this,this,new $qh(k,h,l,this),T4(a)?new Yqh(c,"\n",null,!0):new t5("\n",null,!0));this.Ra=a;this.epa=!0;this.Ca=this.O;this.Ca.C=this;this.Na=d.map(function(q){return new frh(q)});this.Sa=new drh;T4(this.Ra)?this.Sfa(c.D):this.Sfa(Em(b));this.ma=e?e:null;this.R=f||null;this.C=null;this.Va=n;this.Ja=!1;this.Aa=null}y(erh,wz);var grh=/[\n]$/;p=erh.prototype;
p.uJ=function(a,b,c){var d=this,e=Date.now(),f=this.Ca.J;this.R&&this.R.Oo("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=Xqh(this.Ca,a),l=hrh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,t,v,x,F){v=void 0===v?null:v;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(v=new Vqh(new Uqh(e,f,n.getType(),h,x,F,v)),v.lDa=!h,v.Ufa=t.Gpa,c(a,q,v),h=!1)})}else b=Iqh(new Oqh(a,k,b),l,function(q){if(!d.isDisposed()){var t=new Vqh(new Uqh(e,
f,q.type,h,q.complete,q.F,q.D));t.lDa=!h;q.C&&(t.Ufa=q.C.Gpa);c(a,q.rows,t);h=!1}}),this.C=new Zqh(b,this.Va)}else c(a,[])};function hrh(a,b,c){return a.Na.filter(function(d){return d.F(b,c)})}
p.tx=function(a,b){b||(b=new khb);erh.$a.tx.call(this,a,b);if(b instanceof Vqh){this.Aa=b.Nmc;var c=irh(this,this.Aa,a.length,!1);b=this.Aa;var d=c,e=Ha()-b.startTime,f=Ha()-b.J;this.R&&(b.C&&(this.R.Oo("dac",e,d.ub()),this.R.Oo("dact",f,d.ub())),b.D&&(this.R.Oo("dacfr",e,d.ub()),this.R.Oo("dacfrt",f,d.ub())))}else this.Aa=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=Cqh[a])&&h.p$;b.C=a}else b.C&&0==d&&(h=(h=Cqh[b.C])&&h.O$,b.C=null);h&&Aqh(b,h,
c)}};function irh(a,b,c,d){var e=new YPd;e=K(e,1,c).setType(jrh(b.H));e=K(e,3,b.F);c=K(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(K(c,5,xz(a,a.J)),K(c,6,b.L));return Qlh(c)}function jrh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 8;default:return 0}}p.zr=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.pR()&&this.Sa.Xxa(c,a.data.pR().D,new crh(a.data.pR().C)))};
p.gC=function(){var a=qhb(this)?this.F[xz(this,this.J)]:null,b;this.Aa&&(b=irh(this,this.Aa,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=Cqh[a.getType()])&&Aqh(c,a.O9,b);c.C=null}this.Ja=!0;return erh.$a.gC.call(this)};p.Ah=function(){if(!this.Ja&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&Cqh[a.C];b&&Aqh(a,b.D3);a.C=null}this.Ja=!1;erh.$a.Ah.call(this)};function krh(a){return qhb(a)?a.F[xz(a,a.J)].getId():null}
p.La=function(){erh.$a.La.call(this);Uf(this.Na);this.C&&(this.C.cancel(),this.C=null)};function frh(a){this.D=a}frh.prototype.H=function(a,b,c,d){var e=a.replace(grh,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new arh(q,a)}),h,k,l,n)})};frh.prototype.getType=function(){return this.D.getType()};frh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function lrh(a,b,c,d){co.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new Pz(a);Tn(this.F,"input",this.L,!1,this);mrh(this)}y(lrh,co);lrh.prototype.L=function(){mrh(this)};function mrh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&hn(a.H,String(1==a.J?b:a.D-b))}lrh.prototype.La=function(){lrh.$a.La.call(this);delete this.C;this.F.dispose();this.F=null};function nrh(a){uO.call(this);this.D=a;this.Oa=new $n(this);this.C=null}u(nrh,uO);nrh.prototype.VL=m("MaxCharacterPlugin");nrh.prototype.y9=function(a){var b=this;uO.prototype.y9.call(this,a);this.Oa.Pc(a,"load",function(){b.C=new Pz(a.getElement());b.Oa.listen(b.C,"input",b.F).listen(a,"dom_manipulated",b.F)})};nrh.prototype.F=function(){var a=this.Kf,b=Tqh(a);b.length>this.D&&(D_e(a,Rqh(b.substring(0,this.D).trim())),iJc(a))};function orh(){this.C=new kK(void 0,!0);this.D=null;this.F=!1}function prh(a,b){var c=Znh(Vnh(Ynh(new O4,b).Nc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.zo(b,1,w(a.L,a,b)))}function qrh(a){return a.C.C.next.value||null}function rrh(a){return a.F?a.D:null};function srh(a){orh.call(this,a);this.H={};this.J=a.get("contactStore");trh(this.J)}u(srh,orh);srh.prototype.L=function(a,b){if(null!==b&&0<b.length&&bT(this.C,a)){b=b[0];var c=null;CX(cmh(b))?c=(new KX(cmh(b))).setSize(96).sB():c=cmh(b)||null;b=Znh(Wnh(Ynh(new O4,a).ad(b.getName()),c).Nc(""));this.C.set(a,b)}delete this.H[a]};function urh(a){this.C=a}urh.prototype.create=function(){return new srh(this.C)};function vrh(a,b){return wrh(a,b,!1)}function xrh(a,b){return wrh(a,b,!0)}function wrh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?Gd(n,h):Id(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function yrh(a,b,c,d,e,f,h){B.call(this);b.getEmail();this.Ec=a;this.D=b;this.qd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}u(yrh,B);p=yrh.prototype;p.Kg=g("D");p.getId=g("qd");p.getType=g("L");p.pR=g("H");p.yR=g("J");p.render=function(a){this.C=uqh(this.Ec,this.D,a)};p.W_=ca();p.La=function(){var a=this.C;a&&U4(this.Ec.C,a)};function zrh(a,b){this.D=a;this.F=b}function Arh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Brh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(Brh.has(a[b])){d=b;break}return{text:a.slice(c,d),Er:c,xw:d}}function Crh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Drh.has(a[d])&&(0==d||Brh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(Brh.has(a[b])){d=b;break}return{text:a.slice(c,d),Er:c,xw:d}}
function Erh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(Frh).filter(function(l){return!!l}),e=b.slice(0,c.xw).split(Frh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.xw-a,{text:b.slice(a,c.xw),Er:a,xw:c.xw};f++}return c}
var Brh=new Set([" ","\t","\n"]),Drh=new Set(["@","+"]),Frh=/[ ]/;function Grh(a,b,c){zrh.call(this,a,c);this.C=b;trh(this.C)}u(Grh,zrh);
function Hrh(a,b,c,d,e,f,h,k,l){return a.C.zo(d,f,function(n,q){n=n.map(function(t){var v;if(v=t)t.getEmail()?(v=null,CX(cmh(t))?v=(new KX(cmh(t))).setSize(96).sB():v=cmh(t)||null,v=Znh(Wnh(Ynh(new O4,t.getEmail()).ad(t.getName()),v).Nc(""))):v=null;return{rhb:t,ED:v}}).filter(function(t){return t.ED}).map(function(t,v){var x=t.ED;v=h+v;t=t.rhb.getType();var F=new pR(d,!0),L=c;x.getName()&&(L=Erh(x.getName(),b,L));var V=(Zoh(a.D)?"@":"+")+x.getEmail(),T=Brh.has(b[L.xw]);return new yrh(a.F,x,v,k,F,
new qR(b.slice(0,L.Er)+V+(T?"":" ")+b.slice(L.xw),L.Er+V.length+1,L.Er+V.length+1),t)});l(n,!q.ek(),a.C.C)},e)};var Irh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
Jrh=new Nl(["everybody","nobody"]);function Krh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}y(Krh,B);Krh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Arh(a,b);var f=Lrh(this,b.text);a=Hrh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,Mrh,f.query.length,k,l)});this.C=a.ek()?a:null;return!0};
Krh.prototype.F=function(a,b){a=Arh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||hd(Irh,a.text.trim().toLowerCase())||Jrh.contains(a.text.trim().toLowerCase())?!1:!0};function Lrh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:oe}:null!=a[2]?{query:a[2],filter:xrh}:null!=a[3]?{query:a[3],filter:vrh}:null}Krh.prototype.getType=m(2);Krh.prototype.La=function(){delete this.C};var Mrh=new EAd(!1);function Nrh(a){B.call(this);this.L=a;this.J=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null;this.D=0}u(Nrh,B);Nrh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Crh(a,b);var f=Orh(this,b.text);a=Hrh(this.L,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",this.getType(),function(h,k,l){k&&(e.C=null);d(h,Prh,f.query.length,k,l)});this.C=a.ek()?a:null;return!0};
Nrh.prototype.F=function(a,b){a=Crh(a,b);"@"==a.text.charAt(0)?this.D=6:"+"==a.text.charAt(0)&&(this.D=1);return this.J.test(a.text)};function Orh(a,b){a=b.match(a.J);return null===a?null:null!=a[1]?{query:a[1],filter:oe}:null}Nrh.prototype.getType=g("D");Nrh.prototype.La=function(){delete this.C};var Prh=new EAd(!0);function Qrh(a,b,c){this.D=a;this.F=b;this.Ec=c;this.C=null}function Rrh(a){a.C||(a.C=new Grh(a.D,a.F.get("contactStore"),a.Ec));return a.C};function Srh(){uO.call(this);this.Oa=new $n(this)}u(Srh,uO);Srh.prototype.VL=m("PastePlugin");Srh.prototype.y9=function(a){uO.prototype.y9.call(this,a);this.Oa.Pc(a,"load",this.D)};Srh.prototype.D=function(){this.Oa.listen(this.Kf.getElement(),"paste",this.C)};Srh.prototype.C=function(a){a.preventDefault();(a=a.Ee().clipboardData.getData("text/plain"))&&Trh(this,a)};
function Trh(a,b){var c=a.Kf;c.ZS(function(){var d=Um(Rqh(b)),e=Urh(a,d);c.getRange().wO(d);mM(e,e.nodeValue?e.nodeValue.length:0).select()})}function Urh(a,b){return b.hasChildNodes()?Urh(a,b.childNodes[b.childNodes.length-1]):b};function Vrh(){this.C=A()}function Wrh(a){return"PLACEHOLDER_TEXT"===Rc(a.C,"docs-edpme")};function Xrh(a,b,c){On.call(this,c)}u(Xrh,On);function Yrh(a){a=a.DZb;return R('<div class="'+S("docos-presenceindicator")+" "+S(a)+'">Someone is typing...</div>')};function Zrh(a,b,c){G4.call(this,a,b);this.D=c}u(Zrh,G4);Zrh.prototype.Ba=function(){this.pb(Av(Yrh,{DZb:this.D}))};Zrh.prototype.Ia=function(){G4.prototype.Ia.call(this);this.setVisible(!1)};Zrh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function $rh(){uO.apply(this,arguments)}u($rh,uO);$rh.prototype.VL=m("SuppressKeyboardShortcutPlugin");$rh.prototype.YUa=function(a){return ash(a)};$rh.prototype.$Ua=function(a){return ash(a)};function ash(a){return(a.ctrlKey||a.metaKey)&&bsh.has(a.keyCode)?(a.preventDefault(),!0):!1}var bsh=new Set([66,85,73]);function csh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;G4.call(this,a,b);this.Sa=a;this.V=new Ey("",b);var e=this.C.ij();this.V.vP=e;this.Ha(this.V);this.R=new Ey("",b);this.Ha(this.R);this.va=b.Jb().body;this.D=c;this.H=(new urh(this.Sa)).create();this.Na=this.ob=null;this.Ca=new vqh(b,this.C,this.Sa,this.D);this.ke="legacy"!=this.C.F;this.Ja=T4(this.C);this.L=this.ke?new gQ(b):new Wy(!1,b);this.Va=!1;this.Ra=!d;c=fv.getInstance();this.$c=gv(c);this.Qc=gv(c);this.Sc=gv(c);this.Gb=null;z(A(),
"docs-edp")&&(this.Gb=new Zrh(a,b,"focused-presenceindicator"));this.Rb=0;this.ma="";this.bb="Comment draft";this.jb=this.Cc=this.ud=null;this.rb=!0;this.Aa=!1;this.Eb=this.zb=this.O=this.gb=this.Xa=null;this.Qa=!1;nph(a);this.J=null}u(csh,G4);p=csh.prototype;p.Ba=function(){this.Jc(Av(zph,{ij:this.C.ij(),oD:this.C.Na,fH:Zoh(this.C),tv:this.Ja},void 0,this.oa()))};
p.Jc=function(a){G4.prototype.Jc.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.F=b.eb("docos-input-textarea",a);this.Ja&&(this.J=new Sqh(this.F),yO(this.J,new $rh),yO(this.J,new HKc),yO(this.J,new Srh),yO(this.J,new nrh(2048)));this.Cc=new Qz;this.Cc.Wa(this.F);this.qa(this.Cc);Wrh(new Vrh)&&this.F.setAttribute("placeholder",this.ma);this.Ra||O(this.F,this.Ra);this.jb=b.eb("docos-input-at-reply-message",a);this.jb.setAttribute("id",this.$c);this.Xa=b.eb("docos-input-acl-fixer-message",
a);this.Xa.setAttribute("id",this.Qc);this.gb=b.eb("docos-input-assignment-message",a);this.gb.setAttribute("id",this.Sc);this.Na=b.eb("docos-input-assignment-panel",a);var c=this.Ca,d=this.Na;c.J=d;Rx(c,new Wbb(d,9));this.ob=b.eb("docos-input-assignee-text",a);c=b.eb("docos-input-assignee-select",a);this.Ca.Wa(c);this.Ca.Pa(!0);if(c=b.eb("docos-input-assignment-box",a))this.L.Wa(c),Uy(this.L,this.ob);c=dsh(this);if(0<c.length){d=!this.D||!this.D.Ak();var e;d?e=this.C.O:this.D&&(e=this.D.getElement());
this.O=new erh(this.C,this.F,this.Ja?this.J:null,c,new zqh(this.C.Ja),this.C.R||void 0,e||void 0,this.F||void 0,d);this.qa(this.O)}if(e=b.eb("docos-input-cancel",a))this.R.Wa(e),Yv(e,this.R.wl());(a=b.eb("docos-input-post",a))&&this.V.Wa(a);this.Gb&&this.D.Ak()&&(a=this.oa().eb("docos-focusedpresenceindicator-container",this.getElement()),this.Gb.render(a))};
function dsh(a){var b=[],c=new tqh(X4(a.Sa),a.oa());c=new Qrh(a.C,a.Sa,c);if($oh(a.C)){var d=new Nrh(Rrh(c));a.qa(d);b.push(d)}d=aph(a.C).map(function(e){return e.F()});td(b,d);$oh(a.C)&&(c=new Krh(c.D.ih,Rrh(c)),a.qa(c),b.push(c));return b}
p.Ia=function(){G4.prototype.Ia.call(this);g0e(this.getElement(),!1);this.Ja||(this.zb=new lrh(this.F,null,2048),this.qa(this.zb));this.Eb=new Pz(this.F);this.qa(this.Eb);this.Ja&&Df&&I4(this,this.J,"delayedchange",this.bxa);I4(I4(I4(I4(I4(I4(I4(I4(I4(I4(I4(I4(I4(this,this.Eb,"input",this.bxa),this.F,"keydown",this.tF),this.F,"keyup",this.L2b),this.F,"keypress",this.K2b),this.R,"action",this.J2b),this.V.getElement(),["click","keypress","keyup"],this.p8a),this.V,"action",this.f_a),this.Na,"click",
this.lic),this.L,"change",this.oic),this.L.Ll(),"keypress",this.pic),this.Na,["keyup","keypress"],this.nic),this.Ca,"action",this.kic),this.F,"pointerdown",this.I2b);this.Ja&&I4(this,this.J,"dom_manipulated",this.bxa);this.O&&(I4(this,this.O,"update",this.WBb),I4(this,this.O,"suggestionsupdate",this.m9a));this.F[esh]=w(this.blur,this);this.F[fsh]=w(this.xjc,this);this.R.getElement()&&(I4(this,this.R.getElement(),["click","keypress","keyup"],this.p8a),this.R.Pa(!0));if(this.D&&$4(this.D.vd())&&Oph(this.D.vd())){var a=
this.H,b=E4($4(this.D.vd())).getEmail();b&&!bT(a.C,b)&&prh(a,b);a.C.isEmpty();a=this.H;b=qrh(this.H);hd(a.C.Ld(),b);a.D=b;a.F=!0;this.L.Lb(!0)}Wrh(new Vrh)?(this.setValue(""),this.Fe(this.bb+". "+this.ma)):this.setValue(this.ma);this.Qa=!0;Vv(this.F,"label",this.bb);gsh(this)};p.I2b=function(a){Ui&&Kf(73)&&a.target.setPointerCapture(a.pointerId)};p.isVisible=function(){return"none"!=this.getElement().style.display};p.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};
p.getValue=function(){return this.Ja?this.J?Tqh(this.J):"":this.F?this.F.value:""};p.setValue=function(a){this.Ja?D_e(this.J,Rqh(a.trim())):this.F.value=a};p.isEmpty=function(){return Jd(this.getValue())};function u5(a){return!Jd(a.getValue())&&!a.Qa}p.Fe=da("bb");
p.reset=function(a){gsh(this);this.Aa||this.isDisposed()||(Wrh(new Vrh)?(this.F.setAttribute("placeholder",this.ma),this.setValue("")):this.setValue(this.ma),this.Qa=!0,Vv(this.F,"label",this.bb),Bf?fo(this.lXa,0,this):this.lXa(),v5(this,a),this.F&&(this.F.style.height=""),a||hsh(this),ish(this,"none"))};function gsh(a){bph(a.C)?(kn(a.getElement(),!0),Yv(a.getElement(),"This is the input pane.")):(kn(a.getElement(),!1),Wv(a.getElement(),"label"))}
function ish(a,b){if(a.jb&&a.Xa&&a.gb){O(a.jb,"atReplyMessage"==b);O(a.Xa,"aclFixerMessage"==b);O(a.gb,"assignmentMessage"==b);var c=a.L.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.$c;break;case "assignmentMessage":d=a.Sc;break;case "aclFixerMessage":d=a.Qc}null!=d?Vv(c,"describedby",d):Wv(c,"describedby")}}}
p.ready=function(a,b,c){this.isDisposed()||(this.J&&!this.J.Wf()&&jJc(this.J),this.Qa&&(this.ud=!b&&a||"",this.setValue(a||""),this.Qa=!1),bw(this.getElement(),"docos-input-typing"),c||(this.focus(),this.J&&this.Va&&iJc(this.J)),v5(this))};p.blur=function(){this.D&&this.dispatchEvent(new On("b",this.D))};p.focus=function(){Bf||fo(this.e_a,0,this);this.e_a()};p.e_a=function(){this.isDisposed()||Yu(this.F)&&this.F.focus()};p.lXa=function(){this.isDisposed()||dw(this.getElement(),"docos-input-typing")};
function v5(a,b){var c=Kd(a.getValue());c=!a.Qa&&c!=a.ud;a.V.Pa(!a.Aa&&(!a.Ra||c&&!a.isEmpty()));a.m9a();var d=jsh(a),e=a.H.D,f=a.H.C.Ld().length;if(a.Ra){var h=a.H;var k=a.getValue(),l=d?E4(d):void 0;d=Lph(Kph,k);k=h.C;h.C=new kK(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];bT(k,q)?h.C.set(q,k.get(q)):prh(h,q)}l&&(l=sf(l.getEmail()),!Jd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=qrh(h))?k.getEmail():null;(h.F||l==n)&&l&&bT(h.C,l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
ksh(a,!1);e=a.C;0!=f||!h||a.Aa||!kj(e.jh,33)||e.L||e.ma||(f=e.Dl,e=qrh(a.H)?qrh(a.H).getEmail():null,f&&e&&f([e],!1));f=h&&!a.Va&&a.D&&!a.D.vd().isResolved()&&a.Ra&&(a.D.nAa()||!!Pph(a.D.vd()));kj(a.C.jh,38)&&(f?(a.L.Pa(!a.Aa),a.Ca.Pa(!a.Aa),a.Ca.update(a.H.C.Ld(),d),f=fnh(d,a.C,!!jsh(a)),e=a.Ca.getElement(),hn(a.ob,f),Yv(e,f+". Choose an assignee."),fw(a.ob,"docos-input-assignee-text-no-chevron",!Yu(e)),O(a.Na,!0),lsh(a,!0)):(ksh(a,!1),a.L.Pa(!1),a.Ca.reset(),O(a.Na,!1),lsh(a,!1)));a.Aa&&$oh(a.C)&&
!a.H.C.isEmpty()?ish(a,"aclFixerMessage"):a.rb&&$oh(a.C)&&!a.H.C.isEmpty()?a.L.isChecked()?ish(a,"assignmentMessage"):a.rb?ish(a,"atReplyMessage"):ish(a,"none"):ish(a,"none");(f=rrh(a.H))&&a.D?(e=!!jsh(a),f=fnh(f,a.C,e),e=e?"Reassign":"Assign"):a.Va?(f="Save changes",e="Save"):!a.D||a.D.vd().gx()?(f="Post Comment",e="Comment"):a.D.vd().EZ()?(f="Assign suggested action item",e="Assign"):(f="Reply to comment",e="Reply");a.V.getElement()&&H4(a.Sa).C.setTooltipText(a.V.Ka(),f);hn(a.V.getElement(),e);
c?(msh.contains(a)||(msh.add(a),a.dispatchEvent(new Xrh(a.D.getId(),1,"pr"))),bw(a.getElement(),"docos-input-nohide")):(nsh(a),dw(a.getElement(),"docos-input-nohide"));osh(a);b||a.dispatchEvent("s")}function nsh(a){msh.contains(a)&&(msh.remove(a),a.dispatchEvent(new Xrh(a.D.getId(),0,"pr")))}
p.m9a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.O&&this.O.tf()&&(this.getElement().setAttribute("aria-autocomplete","list"),qhb(this.O)&&this.getElement().setAttribute("aria-activedescendant",krh(this.O)))};function lsh(a,b){if(b=b&&a.D)b=a.D,b=b.Ak()&&b.Rb;b?(a.C.Es||ne)("docosTodos",w(a.Gkc,a)):(a.C.Gi||ne)("docosTodos")}p.Gkc=function(){this.dispatchEvent("ph")};function ksh(a,b){a.L.Lb(b);a.H.F=b}
function jsh(a){return a.D&&!a.D.vd().gx()&&Pph(a.D.vd())?$4(a.D.vd()):null}p.p8a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};p.J2b=function(){this.dispatchEvent("c");this.reset()};p.f_a=function(){if(this.V.isEnabled()){var a=this.H.C.jf(),b=this.C;if(kj(b.jh,33)&&!b.L&&!b.ma&&!id(a)&&(b=this.C.Am)){ish(this,"aclFixerMessage");this.Aa=!0;v5(this);this.R.getElement()&&this.R.Pa(!1);b(a,w(this.FAb,this),!0);return}psh(this)}};
p.lic=function(){this.Aa||(ksh(this,!this.L.isChecked()),v5(this))};p.oic=function(){var a=this.L.isChecked();this.H.F=a;v5(this)};p.pic=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.L,a.Lb(a.vE?!1:!0),this.L.dispatchEvent("change"),this.V.focus())};p.nic=function(a){a.stopPropagation()};p.kic=function(){this.L.Lb(!0);var a=this.H,b=wqh(this.Ca);hd(a.C.Ld(),b);a.D=b;a.F=!0;v5(this)};
p.FAb=function(a){this.Aa&&(this.Aa=!1,"continue"==a?psh(this):ish(this,"atReplyMessage"),this.D.getContext()&&(v5(this),this.R.getElement()&&this.R.Pa(!0)))};function psh(a){Bf&&a.D&&a.D.vd().gx()&&Tf(a.zb);a.dispatchEvent("p");a.reset()}p.xjc=function(){this.ready(void 0,void 0,!0);this.D&&this.dispatchEvent(new On("f",this.D))};function osh(a){if(!a.F)return!1;var b=a.F.clientHeight,c=a.F.scrollHeight,d=Vu(a.F).height;return b!=c&&0<d?(Uu(a.F,d+c-b),!0):!1}
p.tF=function(a){osh(this)&&this.dispatchEvent("s");this.Rb=a.keyCode;if(13==a.keyCode)qsh?a.metaKey&&Hf&&Ui&&rsh(this,a):rsh(this,a);else if(27==a.keyCode){Ef&&a.preventDefault();if(this.O&&this.O.tf())return;this.isEmpty()&&this.reset();this.D&&this.dispatchEvent(new On("e",this.D));hsh(this)}a.stopPropagation()};
p.L2b=function(a){osh(this)&&this.dispatchEvent("s");var b=this.Rb;this.Rb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Kd){Fd(this.getValue(),"\n")?this.tF(a):a.preventDefault();return}this.Kd=!1}a.stopPropagation()};p.K2b=function(a){if(13==a.keyCode&&qsh)rsh(this,a);else if(27==a.keyCode){if(this.O&&this.O.tf())return;this.blur();hsh(this)}a.stopPropagation()};function rsh(a,b){if(b.ctrlKey||b.metaKey)a.Kd=!0,a.V.getElement().focus(),a.f_a()}
function hsh(a){a.va&&(Bf&&!Kf("9")?a.va.focus():fo(function(){return a.va.focus()}))}p.bxa=function(){v5(this)};p.WBb=function(){v5(this)};p.La=function(){G4.prototype.La.call(this);nsh(this);this.F&&(this.F[esh]=null,this.F[fsh]=null);delete this.F;delete this.zb;delete this.Eb};var msh=new Nl,esh=Bf?"onfocusout":"onblur",fsh=Bf?"onfocusin":"onfocus",qsh=Hf||Af||Ef;Ff&&Kf("530");function ssh(a,b,c,d,e,f,h,k){d=void 0===d?0:d;Bph.call(this,a,b);this.Tm=c||null;this.Gp=d;this.C=e||null;this.v2=h;this.Ak=k}u(ssh,Bph);function tsh(a){this.C=H4(a)};function ush(a,b,c,d,e){this.Kj=a;this.C=b||null;this.Tm=c||null;this.Gp=d||null;this.flags=e||null};function vsh(a,b,c,d,e,f,h,k){On.call(this,a);this.zt=b;this.C=c;this.L=d;this.Lr=e;this.D=f;this.O=h;this.F=k}u(vsh,On);vsh.prototype.getSource=g("zt");function wsh(){this.Lr=this.D=this.F=this.zt=this.yw=null;this.H=this.C=0;this.J=!1}function xsh(a){var b=new wsh;b.yw=a;return b}function ysh(a,b){a.zt=b;return a}function zsh(a,b){a.F=b;return a}function Ash(a,b){a.H=b;return a}function Bsh(a,b){a.J=b;return a}function Csh(a){return new vsh(a.yw,a.zt,a.F,a.D,a.Lr,a.C,a.H,a.J)};function Dsh(a,b,c,d){On.call(this,b,a);this.source=c;this.C=d}u(Dsh,On);function Esh(a,b){this.D=a;this.zt=b;this.C=[]}function Fsh(a){return new Dsh(a.D,"bu",a.zt,a.C)};function Gsh(){this.D={};this.C={};this.F=0}function Hsh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Ish(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Jsh(c,d);a.C[c][d||"$"]=b}Gsh.prototype.bind=function(a,b){if(null!==Hsh(this,a,b))return!1;this.F++;Ish(this,this.F,a,b);return!0};function Ksh(a,b,c){var d=Hsh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Lsh(a,b,c,d,e){var f=Hsh(a,b,c);if(null===f||null!==Hsh(a,d,e))return!1;Ksh(a,b,c||void 0);Ish(a,f,d,e);return!0}
function Msh(a,b,c){return Hsh(a,b,c)||0}Gsh.prototype.getDocoHandles=function(){for(var a=Wd(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Jsh(a,b){this.C=a;this.D=b||null};var Nsh={g$a:"all",iLc:"important",NONE:"none"};function Osh(){this.D={}}Osh.prototype.C=function(a){Oph(a)||(this.H(a),a.FS()&&(this.D[a.getId()]=!0))};Osh.prototype.H=function(a){delete this.D[b5(a)];delete this.D[a.getId()]};Osh.prototype.F=function(){return!be(this.D)};function Psh(a){this.J=a;this.D=new Osh}Psh.prototype.C=function(a){this.D.C(a);a=this.J.Ti;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};Psh.prototype.H=function(a){this.D.H(a)};Psh.prototype.F=function(){return this.D.F()};function Qsh(a){co.call(this);this.J=a;this.C={};this.R=null;this.F={};this.L=[];this.Na=[];this.Ja={};this.V={};this.H=new Map;this.D=new Gsh;this.Qa=[];this.va=!1;this.Aa=this.O=null;this.Ra=!1;this.Ca=new Psh(this.J)}u(Qsh,co);function Rsh(a,b){a.Bj();var c="<i>Made a suggestion</i>";(a=a.x5())&&(b=b.Ds)&&(b=b(a).C())&&(c=b);return c}function Ssh(a,b){return"n"!=b&&!Oph(a)&&a.FS()}
function Tsh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Esh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=a5(d);h.C.push(new ush(b,c,d,e,f));k&&a.dispatchEvent(Fsh(h))}
function w5(a,b,c,d){c=c||"c";var e=Ush(a),f=Vsh(a,b.getId(),J(M4(b.C),11)||"");if(f){var h=c,k=f.getId(),l=f.zq();b=b.C;var n=Fj(f.F);M4(b);var q=M4(b),t=b.getId(),v=null!=t?t:f.getId();t=void 0!==J(q,13)&&0!=J(q,13)&&!f.zq();for(var x=(void 0===J(q,13)||0==J(q,13))&&f.zq(),F=K4(q),L=!1,V=0;V<F.length;V++){var T=F[V],ba=f.D[T.getId()||""]||f.D[J(T,11)||""];L=!1;ba||(ba=f.J[T.getId()||""]||f.J[J(T,11)||""],L=!!ba);if(ba){var oa=ba.getId();ba.update(T);if(oa!=ba.getId()&&(delete f.D[oa],f.D[ba.getId()]=
ba,Msh(f.O,v,oa)&&!Lsh(f.O,v,oa,v,ba.getId())))throw Error("Error updating ID from "+v+", "+oa+" to "+v+", "+ba.getId());ba.zq()?(delete f.D[ba.getId()],f.J[ba.getId()]=ba,Ksh(f.O,v,ba.getId())):L&&!ba.zq()&&(delete f.J[ba.getId()],f.D[ba.getId()]=ba,f.O.bind(v,ba.getId()))}else ba=new uoh(T),ba.zq()?(f.J[ba.getId()]=ba,Ksh(f.O,v,ba.getId())):(f.D[ba.getId()]=ba,delete f.J[ba.getId()],f.O.bind(v,ba.getId())),ba=K4(M4(f.F)),ba.push(T),T=M4(f.F),Bj(T,8,ba)}v=0;void 0!==kj(b,6)&&kj(b,6)!=f.isResolved()&&
(v=kj(b,6)?v|2:v|4);t&&!L?v|=16:x&&(v|=8);Bj(q,8,[]);t&&(q.setContent(void 0),zj(q,4,void 0),zj(q,9,void 0));Qnh(f.F,b);f.C.update(q);f.L=null;f.V=null;f.H=void 0;f.NS=null;Ej(f.F,n)||(v|=1);b=v;a.Ca.C(f);Wsh(a,f);if(k!=f.getId()&&(delete a.C[k],delete a.F[k],a.H.delete(k),n=Msh(a.D,k),delete a.Ja[n],a.C[f.getId()]=f,n&&!Lsh(a.D,k,null,f.getId(),null)))throw Error("Error updating ID from "+k+" to "+f.getId());n=Msh(a.D,f.getId());f.zq()?(delete a.C[f.getId()],a.H.delete(k),Ksh(a.D,f.getId()),a.F[f.getId()]=
f,n&&(a.Ja[n]=f),Ssh(f,h)&&(kd(a.L,f.getId()),kd(a.Na,f.getId())),d=zsh(ysh(xsh("dd"),h),f.getId()),h=a5(f),d.Lr=h,d.C=n,d=Ash(d,b),k!=f.getId()&&(d.D=k),a.dispatchEvent(Csh(d))):(l&&(delete a.F[f.getId()],delete a.Ja[n],a.C[f.getId()]=f,(a.J.Qa||a5(f))&&a.D.bind(f.getId()),n=Msh(a.D,f.getId())),0!=b&&(Ssh(f,h)&&kd(a.L,f.getId()),Tsh(a,h,k,f,n,b,d)))}else f=new Mph(b.C,a.D,b.ot?b.ot:void 0),a.Ca.C(f),f.zq()?a.F[f.getId()]=f:Xsh(a,f,c,d);Ush(a)!=e&&(e=Ush(a)?32:0,c=Csh(Ash(ysh(xsh("p"),c),e)),a.dispatchEvent(c))}
function Ysh(a,b,c){for(var d=new Esh(a,c),e=0;e<b.length;e++)w5(a,b[e],c,d);a.dispatchEvent(Fsh(d))}function Zsh(a,b){b.getNewDocoType()||Tph(b,"draft");b=new Mph(b.C,a.D,b.ot?b.ot:void 0);a.Ca.C(b);Xsh(a,b)}
function Xsh(a,b,c,d){if(kj(a.J.jh,38)||!b.isTodo()){c=c||"c";var e=null;b.Hy()&&(e=$sh(a,a5(b)));e&&Oph(e)?(Lsh(a.D,e.getId(),null,b.getId(),null),ath(a,e.getId(),c)):(a.J.Qa||b.Hy())&&a.D.bind(b.getId());a.C[b.getId()]=b;Wsh(a,b);e=8|(b.isResolved()?2:0);Ssh(b,c)&&kd(a.L,b.getId());var f=Msh(a.D,b.getId());Tsh(a,c,void 0,b,f,e,d)}}
function ath(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.Hy()){var e=a5(d);delete a.V[a5(d)]}a.Ca.H(d);d=Msh(a.D,b);delete a.C[b];Ksh(a.D,b);b=zsh(ysh(xsh("dd"),c),b);b.C=d;b=Ash(b,16);void 0!=e&&(b.Lr=e);a.dispatchEvent(Csh(b))}}function i5(a,b){if(!b)a.R=null;else if(!b||a.vd(b))a.J.Mz()&&bth(a,b,!0),a.R=a.vd(b)}function Yph(a,b){b=b.getId();return hd(a.Qa,j5(a,b))}Qsh.prototype.ma=function(a){return(this.J.Qa||a.Hy())&&(!a.isResolved()||this.va)};
function cth(a){var b=ge(a.C);Object.assign(b,a.F);return b}function dth(a){var b=new umh;a=Vd(cth(a));for(var c=0;c<a.length;c++)Umh(b,a[c]);return vmh(b)}function eth(a){function b(d){return d.FS()}var c=Zc(Vd(a.C),b);a=Zc(Vd(a.F),b);return c.concat(a)}function fth(a,b,c){var d=!1;d=void 0===d?!1:d;a.H.set(b,new Set(c));a.dispatchEvent(Csh(zsh(ysh(xsh("ud"),"c"),b)));d&&gth(a)}function bth(a,b,c){c=void 0===c?!1:c;a.H.delete(b);a.dispatchEvent(Csh(zsh(ysh(xsh("sd"),"c"),b)));c&&gth(a)}
function gth(a){(a=a.J.H["unseen-docos-updated"])&&a((new z4("unseen-docos-updated")).setNonAnchored(!0).build())}function Ush(a){return a.Ra?a.Ca.F():!1}function hth(a){for(var b=0;b<a.L.length;b++){var c=a.L[b],d=a.vd(c);d||(d=a.F[c]);if(d&&d.FS())return!0}return!1}Qsh.prototype.vd=function(a){return this.C[a]};function Vsh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}function Wsh(a,b){a5(b)&&(b.zq()?delete a.V[a5(b)]:a.V[a5(b)]=b)}
function $sh(a,b){var c=a.V[b]||null;return c&&a5(c)!=b?(delete a.V[b],null):c}function x5(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function ith(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?d5(a,b):null:null}Qsh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function j5(a,b,c){return Msh(a.D,b,c)}
Qsh.prototype.flush=function(a){this.dispatchEvent(Csh(Bsh(ysh(xsh("f"),"c"),!!a)));this.dispatchEvent(Csh(ysh(xsh("af"),"c")))};
function jth(a,b,c){var d=a.J.Fj;if(d){var e=kth[b]-kth[void 0===c?"none":c];c=cth(a);if(0<e)for(var f in c){if(!a.H.has(f)){e=c[f];var h=[];if(e&&!lth(a,e,b)){var k;if(k=e.xu())k=e.xu().getTime()>d;if(k)h.push(f),h.push.apply(h,ha(Object.keys(ge(e.D)))),fth(a,f,h);else{k=c5(e);for(var l=0;l<k.length;l++){var n=k[l].getId(),q=d5(e,n);null!=q&&q.xu().getTime()>d&&h.push(n)}0!=h.length&&fth(a,f,h)}}}}else if(0>e)for(d=fa(a.H.keys()),f=d.next();!f.done;f=d.next())f=f.value,lth(a,c[f],b)&&bth(a,f,!1);
gth(a)}}function lth(a,b,c){if("none"===c||b.isResolved()||b.Bj()&&Vmh(b))a=!0;else if("important"===c){a:{a=a.J.Kg();b=fa(c5(b,!0));for(c=b.next();!c.done;c=b.next()){c=c.value;if(c.bt().getId()===a.getId()){a=!0;break a}c=fa(Lph(Kph,c.Bw()));for(var d=c.next();!d.done;d=c.next())if(d.value===a.getEmail()){a=!0;break a}}a=!1}a=!a}else a=!1;return a}var mth={},kth=(mth.none=0,mth.important=1,mth.all=2,mth);function nth(a,b){a=a.Aa;if(!a)return null;b=b.Ic(a.getKey());if(!b)return null;a=b.eb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new So(b,b+a.height)}
function oth(a,b,c){var d=EK(Kgc(Igc(new DK),oe)),e=Sm("DIV");e.appendChild(Um(FK(d,lf(b))));b=e.innerHTML;e.replaceChild(Um(a),e.lastChild);a=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],t=0;t<a.length;t++){var v=a[t],x=0<l;">"==v?(k=!1,x?q.push(new So(f,t+1)):h+=a.slice(f,t+1),f=t+1):"<"==v?(k=!0,x&&q.push(new So(f,t)),f=t):k||((v=Id(v,b[l]))&&0==l&&(n=t),v&&x&&l<b.length-1?l++:(v?l==b.length-1?(x=e==c?"docos-selected-find-match":"docos-find-match",q.push(new So(f,t+1)),h=pth(q,a,h,x),f=t+1,
l=0,e++):(f=t,l=1):(q=(x?n:t)+1,h+=a.slice(x?n:f,q),f=q,l=0,x&&(t=n)),q=[]))}h=pth(q,a,h);h+=a.slice(f,a.length);return FK(d,h)}function qth(a,b){var c=a.O;if(!c)return null;var d=a.Aa;if(!d)return null;var e=d.getKey();e=ge(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=c5(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a;k+=rth(h,c);if(k>d)return{r0:h,wZa:"n",vZa:d-a};a=k;k+=sth(h,c,b);if(k>d)return{r0:h,wZa:"b",vZa:d-a};a=k}return null}
function pth(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Jp('<span class="%s">%s</span>',d,h));c+=h}return c}function rth(a,b){return(a=a.bt().getName())?bha(a.toLowerCase(),b.toLowerCase()):0}function sth(a,b,c){a=tth(a,c);if(!a)return 0;a=Um(a).textContent.toLowerCase();return bha(a,b.toLowerCase())}
function tth(a,b){var c=a.bja();if(!c){var d=EK(Kgc(Igc(new DK),oe));a.Bj()?c=FK(d,Rsh(a,b)):a.getContent()?c=FK(d,a.getContent()):c=null}return c};function uth(a,b){this.C=a;this.D=b};function vth(a,b,c){this.C=a;this.D=b;this.F=c};function wth(a,b,c,d){G4.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new Ey(null);this.F=this.J=this.H=null;this.qa(this.D)}u(wth,G4);p=wth.prototype;p.Jc=function(a){G4.prototype.Jc.call(this,a);this.H=this.oa().eb("like-button-text",a);this.J=this.oa().eb("docos-icon",a);this.F=this.oa().eb("docos-icon-img",a);this.D.Wa(this.getElement())};p.Ia=function(){I4(this,this.D,"action",this.r2b);I4(this,this.getElement(),["click","keypress","keyup"],this.q2b);this.update()};p.c_a=da("L");
p.q2b=function(a){a.stopPropagation()};function xth(a){var b=W4(a.R).vd(a.L);return null!=a.O?d5(b,a.O):b}p.r2b=function(a){a.stopPropagation();a=V4(this.R);var b=xth(this).sA();b=!b||1!=P4(b);null!=this.O?a.vf("docos-vote-reply").qb(new vth(this.L,b,this.O)):a.vf("docos-vote-doco").qb(new uth(this.L,b))};
p.update=function(){var a=xth(this).sA(),b=!a||0==eoh(a,1).length&&1!=P4(a);dw(this.H,"no-votes");!b||bw(this.H,"no-votes");ew(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);ew(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?bw(this.F,"docos-icon-thumb-black"):1==P4(a)?(bw(this.J,"current-user-has-up-vote"),bw(this.F,"docos-icon-thumb-green")):0<eoh(a,1).length&&(bw(this.J,"post-has-votes-no-current-user-vote"),bw(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=eoh(a,1),b=P4(a),c=c.length,1==b&&c++);hn(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==P4(a))&&(b="Unlike this"),a=eoh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=tf(b,"\n",F4(Unh(M(a[c].C,TX,1))));this.D.getElement()&&H4(this.R).C.setTooltipText(this.D.Ka(),b)};function yth(a,b){a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+S("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+S("docos-shadow-prompt")+'"><td class="'+S("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+S("docos-shadow-contents")+'">';a+=Q(Dy({id:"docos-shadow-confirm",
content:Gv("Delete")},b));a+=Q(Dy({id:"docos-shadow-cancel",content:Gv("Cancel")},b));return R(a+"</td></tr></table></td></tr></table></div></div></div>")};function zth(a,b){G4.call(this,a,b);this.D=this.J=this.L=this.V=this.Aa=this.R=this.re=null;this.H=new Ey(null,b);this.Ha(this.H);this.F=new Ey(null,b);this.Ha(this.F);this.eh=this.O=null;this.ma=!1;this.va=new ly(this);this.qa(this.va);a=V4(a);this.va.Bb(a.Ta("docos-highlight-doco"),qr,this.M2)}u(zth,G4);function Ath(a,b){Bth||(Bth=new zth(a,b),Bth.render());return Bth}p=zth.prototype;p.Ba=function(){this.pb(Av(yth,{},void 0,this.oa()))};
p.Ia=function(){G4.prototype.Ia.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Wa(a.getElement("docos-shadow-cancel"));this.H.Pa(!0);this.F.Wa(a.getElement("docos-shadow-confirm"));this.F.Pa(!0);this.O=new bA(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);cA(this.O);this.eh=new lw(a.Jb());this.qa(this.eh);this.ma=!0}I4(I4(I4(I4(this,this.H,"action",this.P2b),this.F,"action",this.Q2b),this.getElement(),
["keyup","keydown"],this.R2b),this.eh,"focusin",this.Qy)};p.prompt=function(a,b,c,d,e,f){this.xb()&&this.Dd();if(c!=this.V){var h=Cth[c];h&&this.oa().He(this.L,h);this.V=c}this.re=b;this.R=a;this.J=e||null;b=Vu(a);Su(this.D,b);b=Iu(a,"paddingLeft");c=Iu(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?hv(this,a.firstChild):this.render(a);O(this.getElement(),!0);O(this.L,!f);this.F.focus();d&&(this.Aa=d.getId(),this.getHandler().listen(d,"rd",this.S2b))};
p.Dd=function(){G4.prototype.Dd.call(this);this.J=this.R=this.re=null};p.M2=function(){Su(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();Ym(this.getElement());this.xb()&&this.Dd()};p.Q2b=function(){this.re&&this.re();this.M2()};p.R2b=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.M2())};p.P2b=function(){this.M2()};p.S2b=function(a){a.target&&a.target.getId()==this.Aa&&this.R&&O(this.getElement(),!0)};
p.Qy=function(a){a=a.target;fn(this.getElement(),a)||this.M2()};var Bth=null,Dth={},Cth=(Dth["delete-discussion"]="Delete this comment thread?",Dth["delete-reply"]="Delete this comment?",Dth);function Eth(a,b){return 1==b&&!a.C&&!a.getId()};function Fth(a,b,c,d){G4.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new Ey(null);this.F=null;this.qa(this.D)}u(Fth,G4);p=Fth.prototype;p.Jc=function(a){G4.prototype.Jc.call(this,a);this.F=this.oa().eb("vote-button-text",a);this.D.Wa(this.getElement())};p.Ia=function(){I4(this,this.D,"action",this.A2b);I4(this,this.getElement(),["click","keypress","keyup"],this.z2b);this.update()};p.c_a=da("H");p.z2b=function(a){a.stopPropagation()};
function Gth(a){var b=W4(a.L).vd(a.H);return null!=a.J?d5(b,a.J):b}p.A2b=function(a){a.stopPropagation();a=V4(this.L);var b=Gth(this).sA();b=!b||1!=P4(b);null!=this.J?a.vf("docos-vote-reply").qb(new vth(this.H,b,this.J)):a.vf("docos-vote-doco").qb(new uth(this.H,b))};
p.update=function(){var a=Gth(this).sA();ew(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==P4(a)?bw(this.F,"current-user-has-up-vote"):0<eoh(a,1).length&&bw(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=eoh(a,1);b=P4(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}hn(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==P4(a))&&(b="Remove your +1"),a=eoh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=
tf(b,"\n",F4(Unh(M(a[c].C,TX,1))));this.D.getElement()&&H4(this.L).C.setTooltipText(this.D.Ka(),b)};function Hth(a,b,c,d,e,f,h){G4.call(this,a,d);this.F=a;this.zb=H4(this.F).R;this.$g=new tsh(a);this.O=b;this.H=e;this.ih=h||"";this.ef=w(this.s2b,this);this.D=null;this.Nc(f||"root");this.va=c;this.Eb=!0;this.gb=2;this.Ue=!1;this.Ff=this.F.get("relativeDateFormatter");this.$c=this.Sa=this.Xa=this.Ja=this.Ra=this.ke=this.bb=this.jb=this.ob=this.Kd=this.Qc=this.ud=this.Cc=this.Aa=this.Fg=this.Gb=this.Rb=this.Ca=this.Xf=this.R=this.L=this.J=this.V=this.ma=this.Va=this.Qa=this.Sc=this.Na=null;this.rb=
EK(Egc(Igc(new DK),["data-rawHref"]));I4(this,this.Ff,"cj",w(this.LZa,this,!0))}u(Hth,G4);p=Hth.prototype;p.vd=function(){return W4(this.F).vd(this.O)};function Ith(a){return d5(a.vd(),a.getId())}function y5(a){return z5(a)?a.vd():Ith(a)}
p.Ba=function(){var a=this.oa(),b=y5(this),c=b.bt(),d=Jth(this),e=Kth(this);if(z5(this)&&woh(this.vd().C)){var f=Kd(woh(this.vd().C));f=f.replace(Lth,"<br>").replace(Mth," ");f=FK(this.rb,f)}else f=null;var h=f;f="legacy"!=this.C.F;var k="Unknown"===c.getName();b=Av(vph,{author:c.getName(),hh:c.C,yF:this.C.V&&!k?c.getId():null,Spa:e||"",Ie:this.ih,Ak:this.va,fqa:Nth(this),Bm:A5(this),aza:d,oA:z5(this),Bj:b.Bj(),Jnc:h?h:"",f9:Oth(this),nK:Pth(this),qZ:!!y5(this).Gy(),ij:this.C.ij(),Xha:this.C.Xha(),
Pya:this.C.Pya(),isBadgingEnabled:this.C.Mz(),timestamp:Qth(this),cib:Yoh(this.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",Xn:f},void 0,a);this.pb(b);d=a.eb("docos-accept-suggestion",b);h=a.eb("docos-reject-suggestion",b);this.Cc=a.eb("docos-body-action-text",b);this.Qc=a.eb("docos-anchoredreplyview-buttonholder",b);this.Ra=a.eb("docos-author",b);d&&h&&(this.ma=new Ey(null,a),k=this.C.ij(),this.ma.vP=k,this.qa(this.ma),this.V=
new Ey(null,a),this.qa(this.V),this.ma.Wa(d),this.V.Wa(h));if(k=a.eb("docos-replyview-resolve-button",b)){this.J=new Ey(null,a);var l=this.C.ij();this.J.vP=l;this.qa(this.J);this.J.Wa(k)}(k||d&&h)&&Rth(this);d=this.oa();h=d.eb("docos-vote-button",b);k=d.eb("docos-like-button",b);if(h||k)h?(this.R=new Fth(this.F,this.O,d,z5(this)?void 0:this.getId()),this.Ha(this.R),this.R.Wa(h)):k&&(this.R=new wth(this.F,this.O,d,z5(this)?void 0:this.getId()),this.Ha(this.R),this.R.Wa(k));d=a.eb("docos-overflowmenu-outer",
b);(A5(this)||Nth(this)||z5(this))&&d&&(f=Av(tph,{oi:"docos-icon-overflow-three-dots",mC:"docos-icon-overflow-three-dots-size",KS:f}),a.appendChild(d,f),Hu(d,"visibility",""),f=[],A5(this)&&(f=f.concat(["edit"])),Nth(this)&&(f=f.concat(["delete"])),z5(this)&&(this.C.Sc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new hqh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ha(this.L),this.L.Wa(d));this.Na=a.eb("docos-replyview-body",b);this.Xf=a.eb("docos-streamreplyview-text",b)||
this.Na;this.Ca=a.eb("docos-collapsible-replyview",b);this.Rb=a.eb("docos-replyview-timestamp",b);z5(this)&&woh(this.vd().C)&&(this.Aa=a.eb("docos-replyview-quote",b),this.ob=a.eb("docos-replyview-quote-expand",b),this.bb=a.eb("docos-replyview-quote-collapse",b));(this.Gb=a.eb("docos-show-less",b))&&Sth(this);this.Fg=a.eb("docos-show-more",b);this.ke=a.Tf("docos-replyview-static",b);A5(this)&&this.D&&Tth(this);(A5(this)||Nth(this))&&(this.jb=a.eb("docos-replyview-control",b))&&O(this.jb,!this.vd().isResolved());
this.Ja=WU(a,"IMG","docos-replyview-avatar",b);if(f=a.eb("docos-user-presence",b))d=this.C,c=(h=d.Yd)&&c.getId()?h(c.getId()):(d=d.HD)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Xa=a.eb("docos-replyview-origin",b);Uth(this);this.C.Mz()&&(this.Sa=a.eb("docos-new-tag",b),a=W4(this.F),c=this.O,a=a.H.has(c)?a.H.get(c):new Set,c=y5(this))&&(a=a.has(c.getId()),this.Sa&&O(this.Sa,a));e&&(this.Qa=e,Vth(this,Me(e)),Wth(this),Xth(this));Yth(this);kn(this.getElement(),bph(this.C))};
function Yth(a){if(bph(a.C)){var b={AUTHOR_NAME:y5(a).bt().getName(),CREATION_TIME:Qth(a)};if(a.Na.textContent)if(Pth(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Na.textContent;b.ACTION_TEXT=Pth(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Na.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=Pth(a);c=(new mz(c)).format(b);Yv(a.getElement(),c)}else Wv(a.getElement(),
"label")}function Zth(a){var b=a.vd();if(b)if(b.isResolved()){if(a.H.AEa(!1),b=a.vd())b.Bj(),$th(a,!1,gqh(a.H))}else a.Rv()}function auh(a){a.D||(a.D=new csh(a.F,a.oa(),a.H),a.qa(a.D),a.Ha(a.D),a.D.ma="Edit your comment...",a.D.rb=!1,I4(I4(I4(a,a.D,"p",a.Esc),a.D,"c",a.fKa),a.D,"s",a.t2b),a.getElement()&&Tth(a))}
function Tth(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.va?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):z5(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=Pth(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");d=Av(zph,{Ie:c,uNa:d,kqa:e,nK:f,ij:a.C.ij(),oD:a.C.Na,fH:Zoh(a.C),tv:T4(a.C)});c=a.getElement();e=b.eb("docos-edit-pane-placeholder",c);b.RA(d,e);a.D.Wa(d);a.D.setVisible(!1);d=a.H.getElement();a.D.va=d;a.ud=b.eb("docos-edit-pane-action-text",
c)}p.Wkc=function(a){a&&a.stopPropagation();Zth(this)};p.Rv=function(){this.dispatchEvent("br");this.H.AEa(!1);var a=this.vd();a&&(a.Bj()?buh(this):$th(this,!0,gqh(this.H)));this.dispatchEvent("ar")};
p.Ia=function(){G4.prototype.Ia.call(this);I4(this,this.getElement(),["click","keypress","keyup"],this.u2b);this.Aa&&(I4(I4(this,this.bb,"click",this.S8a),this.ob,"click",this.S8a),cuh(this));this.J&&I4(this,this.J,"action",this.Wkc);this.ma&&this.V&&I4(I4(I4(this,this.ma,"action",this.aic),this.V,"action",this.Vkc),this.C,"r",this.v2b);this.L&&I4(I4(I4(this,this.L,"d",this.Tic),this.L,"e",this.w2b),this.L,"ra",this.Nkc);var a=y5(this).bt();duh(this,a);this.Ra&&euh(this,a);fuh(this,a);this.D&&(a=
this.H.getElement(),this.D.va=a);this.collapse()};p.v2b=function(){Rth(this)};
function Rth(a){var b=a.vd();if(b){var c=y5(a);if(c){var d=c.Bj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.aF())return;d=a.C.D;d=c.Bj()&&"full"==d.C&&Yph(W4(a.F),b)&&!a.C.ma;var e=a.C.D;b=c.Bj()&&(Ioh(e,c)||"full"==e.C)&&Yph(W4(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&H4(a.F).C.setTooltipText(a.ma.getElement(),e);a.V.getElement()&&H4(a.F).C.setTooltipText(a.V.getElement(),
f);a.ma.Pa(d);a.V.Pa(b)}else Pph(b)?(c=!0,a.J.Pa(!1),O(a.J.getElement(),!1)):(c=Jth(a),a.J.Pa(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":W4(a.F).va?"Mark as resolved":"Mark as resolved and hide discussion",a.C.Xha()||hn(a.J.getElement(),d),a.J&&a.J.getElement()&&H4(a.F).C.setTooltipText(a.J.Ka(),b));!a.Qc||null!==a.Kd&&a.Kd==c||(O(a.Qc,c),a.Kd=c)}}}}
function guh(a){var b=D4(C4(B4(a.H.getId()),a.H.Xa)),c=V4(a.F);c.vf("docos-before-highlight-doco").qb(b);i5(W4(a.F),a.H.getId());c.vf("docos-highlight-doco").qb(b)}p.w2b=function(){guh(this);huh(this)};p.Tic=function(){guh(this);z5(this)?this.H.G7a():iuh(this)};p.Nkc=function(a){guh(this);this.dispatchEvent(new Bph("ra",this.O));a.stopPropagation()};
function duh(a,b){var c=b.D,d=X4(a.F);a.Ja&&Eth(b,y5(a).getOrigin())&&(c=eph(d),bw(a.Ja,"docos-avatar-unverified"),a.C.C.setTooltipText(a.Ja,"Author from imported document"));iph(d,a.Ja,c,F4(b))}function euh(a,b){a.Va=juh(a,FK(a.rb,b.getName()||""),"n");We(a.Ra,a.Va)}function fuh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ra&&a.C.C.setTooltipText(a.Ra,c),a.Ja&&a.C.C.setTooltipText(a.Ja,c))}
function kuh(a,b){a.J&&a.oa().Hi(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Hi(a.ma.getElement(),b),a.oa().Hi(a.V.getElement(),b));a.L&&a.L.Jh(b);a.R&&a.oa().Hi(a.R.getElement(),b)}function luh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
p.update=function(){this.H.Vk()&&this.Eb&&cuh(this);var a=this.D&&A5(this)&&u5(this.D),b=Kth(this),c=Me(b),d=!this.Qa||Me(this.Qa)!=c;d&&(this.Qa=b,We(this.Na,b),Xth(this));Wth(this);Vth(this,c);z5(this)||this.dispatchEvent(new Y4(this.getId()));A5(this)&&this.jb&&!a&&O(this.jb,!this.vd().isResolved());b=y5(this).bt();duh(this,b);this.Ra&&euh(this,b);fuh(this,b);Uth(this);if(this.va&&!a){switch(this.gb){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.Vk()?this.expand():this.collapse()}Sth(this)}this.LZa();
d&&(this.D&&this.D.xb()&&this.D.reset(!0),this.fKa());Rth(this);this.R&&this.R.update();this.L&&this.L.update();Yth(this);kn(this.getElement(),bph(this.C))};p.lB=function(){var a=y5(this).bt().getName();a&&(a=juh(this,FK(this.rb,a),"n"),this.Va&&a.pn()==this.Va.pn()||(this.Va=a,We(this.Ra,this.Va)));this.Sc&&(a=juh(this,this.Sc,"b"),a.pn()!=this.Qa.pn()&&(this.Qa=a,We(this.Na,this.Qa),Xth(this)))};
function Kth(a){var b=y5(a),c=b.bja();if(!c){c=b.getContent();var d=b.Hp();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Bj()&&(c=Rsh(b,a.C));c=FK(a.rb,c)}a.Sc=c;return juh(a,c,"b")}function juh(a,b,c){var d=W4(a.F),e=d.O;if(!e)return b;d=qth(d,a.C);if(!d)return oth(b,e);var f=d.wZa,h=d.vZa;a=d.r0.getId()==y5(a).getId()&&f==c?h:void 0;return oth(b,e,a)}
p.LZa=function(a){if(this.Rb){var b=Qth(this);b&&(a&&(this.Rb.textContent=b),a=y5(this),z5(this)||this.va||a.xu().equals(a.uH())||(this.Rb.textContent=b))}};function Qth(a){var b=a.Ff,c=y5(a),d=c.xu();return d?a.va||z5(a)||!(a=c.uH())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}p.setVisible=function(a){O(this.getElement(),a)};p.isVisible=function(){return Yu(this.getElement())};p.t2b=function(a){this.dispatchEvent(new Y4(this.O));a.stopPropagation()};
function iuh(a){var b=a.getElement();b&&(a.C.rb?(b=a.C.ob,b(function(){return a.ef()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):Ath(a.F,a.oa()).prompt(b,a.ef,"delete-reply",a,a.H.getElement(),!a.va))}
p.u2b=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!z5(this)&&aw(c,"docos-replyview-delete")&&b?(iuh(this),a.stopPropagation(),a.preventDefault()):aw(c,"docos-replyview-edit")&&b?(huh(this),a.stopPropagation(),a.preventDefault()):aw(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new Y4(this.O)),this.Gb.focus()):aw(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new Y4(this.O)),this.Fg.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&fn(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function muh(a,b){var c=a.vd();if(!c||Yph(W4(a.F),c)){var d=y5(a);d&&d.aF()&&(c=a.C.H[b])&&(a=j5(W4(a.F),a.O))&&(d=d.Hy&&d.Hy()&&!d.isResolved()?a5(d):void 0,b=(new z4(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function buh(a){var b=a.vd();b&&b.Bj()&&muh(a,"before-suggestion-accepted")}p.aic=function(){var a=Date.now();buh(this);this.zb&&this.zb.Oo("dsabb",Date.now()-a)};function $th(a,b,c){var d=a.vd(),e=a.H;e.D&&u5(e.D)&&e.D.setValue("");d&&!d.Bj()&&d.isResolved()!=b&&V4(a.F).vf("docos-resolve-doco").qb(new bqh(a.O,b,c||null,a.va?null:105))}p.Vkc=function(){var a=Date.now();muh(this,"before-suggestion-rejected");this.zb&&this.zb.Oo("dsrbb",Date.now()-a)};
p.expand=function(){y5(this).Bj()||(dw(this.Ca,"docos-collapsed-replyview"),this.gb=150>=this.Ca.offsetHeight?2:1,Sth(this))};p.collapse=function(){!y5(this).Bj()&&this.va&&(dw(this.Ca,"docos-collapsed-replyview"),150>=this.Ca.offsetHeight?this.gb=2:(this.gb=0,bw(this.Ca,"docos-collapsed-replyview")),Sth(this))};function Sth(a){if(!y5(a).Bj()){var b=1==a.gb;b!=a.Ue&&(a.Gb.style.display=b?"block":"none",a.Ue=b)}}function z5(a){return"root"==a.getId()}
function Nth(a){var b=y5(a);return b?Koh(a.C.D,b)&&!a.C.ma:!1}function A5(a){var b=y5(a);return b?Joh(a.C.D,b):!1}function Jth(a){var b=a.vd();return b?Loh(a.C.D,b):!1}p.s2b=function(){if(this.isDisposed())return!1;V4(this.F).vf("docos-delete-reply").qb({Kj:this.O,PDa:this.getId(),zf:this.va?null:105});return!0};function huh(a){A5(a)&&(auh(a),nuh(a,!1),a.Ca&&a.expand(),a.D.setVisible(!0),a.D.Va=!0,a.D.ready(y5(a).Bw()))}
p.fKa=function(){A5(this)&&(nuh(this,!0),this.Ca&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.Va=!1))};p.Esc=function(){if(A5(this)){auh(this);var a=V4(this.F),b=this.D.getValue(),c=this.va?null:105;Jd(b)||(z5(this)?a.vf("docos-edit-doco").qb({id:this.O,text:b,jsa:this.D,zf:c}):(b={Kj:this.O,PDa:this.getId(),text:b,jsa:this.D,zf:c},a.vf("docos-edit-reply").qb(b)))}};function nuh(a,b){for(var c=0;c<a.ke.length;++c)O(a.ke[c],b)}
p.S8a=function(){var a=aw(this.Aa,"docos-replyview-quote-collapsed");O(this.ob,!a);O(this.bb,a);this.Eb=!a;a?hw(this.Aa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):hw(this.Aa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function cuh(a){!a.Aa||0>=Vu(a.Aa).height||(hw(a.Aa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<Vu(a.Aa).height?(O(a.ob,!0),O(a.bb,!1),hw(a.Aa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(O(a.ob,!1),O(a.bb,!1)),a.Eb=!0)}p.Dd=function(){G4.prototype.Dd.call(this);U4(X4(this.F),this.Ja)};function Uth(a){var b=Oth(a);b?(b=FK(a.rb,b),We(a.Xa,b),O(a.Xa,!0)):O(a.Xa,!1)}
function Oth(a){var b=y5(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=UX(a.jh)&&kj(UX(a.jh),33)&&b.Hya()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function Pth(a){var b=a.$g;var c=y5(a),d=a.vd();c&&d?(a=c.aja(),0==a&&$4(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.Gy(),c=(d=Pph(d))&&d.getId()!=c.getId(),a=E4(a),b=enh(a,b.C,!0),b=c?(new mz("Reassigned to {user}")).format({user:b}):(new mz("Assigned to {user}")).format({user:b})):b=""):b="";return b}function Vth(a,b){b=-1==xe(b,!0);if(null===a.$c||b!=a.$c)g0e(a.Xf,b),a.$c=b}
function Wth(a){var b=Pth(a);a.Cc&&hn(a.Cc,b);a.ud&&hn(a.ud,b)}function Xth(a){if(a.C.Rb)for(var b=Gm("A",a.Na),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Uf(d,Wn,a.zic)}}p.zic=function(a){a0e(this.C.Rb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var Mth=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Lth=/[\n-\x0B]/g;function ouh(a,b){G4.call(this,a,b);this.D=!1;this.F=null}u(ouh,G4);ouh.prototype.Ba=function(){var a=this.oa();this.pb(Av(xph,{},void 0,a));this.F=a.eb("docos-showrepliesbutton-collapsed",this.getElement())};ouh.prototype.setVisible=function(a){a!=this.D&&this.xb()&&(O(this.getElement(),a),this.D=a)};ouh.prototype.isVisible=g("D");function B5(a,b,c,d,e){Z4.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new Hth(a,b,this.Ak(),d,this,void 0,"docos-replyview-first");this.Ha(this.F);this.H={};this.Cc=w(this.k2b,this);this.Qc=nph(a);this.Ja="docos-docoview-input-pane";this.Gb="";this.zb=this.$c=null;this.ob=!1;this.J=null;this.Sc=new Vrh;a=new az(this);a.F=!1;this.qa(a);a.Qi("up",38);a.Qi("down",40);a.Qi("ctrlUp",[38,Hf?8:2]);a.Qi("ctrlDown",[40,Hf?8:2]);this.getHandler().listen(a,"shortcut",this.RBb)}u(B5,Z4);
function puh(a){if(!a.D){a.D=new csh(a.getContext(),a.oa(),a);a.qa(a.D);var b=quh(a);a.D.ma=b;a.D.Fe("Reply");a.UEa();a.getElement()&&ruh(a)}}p=B5.prototype;
p.RBb=function(a){if(bph(this.C))switch(a.preventDefault(),a.identifier){case "up":a=suh(this);var b=tuh(this,a);0>=b?a[a.length-1].focus():a[b-1].focus();break;case "down":a=suh(this);b=tuh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "ctrlUp":this.F.getElement();this.F.getElement().focus();break;case "ctrlDown":a=suh(this),a[a.length-1].focus()}};
function suh(a){var b=c5(a.vd(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=fa(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function tuh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=un(e);if(d==f||e.contains(d,f))return c}return-1}
function ruh(a){var b=a.oa(),c=Av(zph,{Ie:a.Ja,uNa:"",kqa:a.Gb,nK:"",ij:a.C.ij(),oD:a.C.Na,fH:Zoh(a.C),tv:T4(a.C)}),d=a.getElement(),e=b.eb("docos-input-pane-placeholder",d);b.RA(c,e);a.D.Wa(c);a.D.va=d}p.UEa=function(){this.D&&I4(I4(I4(I4(I4(I4(this,this.D,"p",this.p2b),this.D,"c",this.n2b),this.D,"b",this.m2b),this.D,"e",this.o2b),this.D,"s",this.f_),this.D,"f",this.h1b)};
p.Ba=function(){Z4.prototype.Ba.call(this);var a=this.getElement(),b=this.oa();this.D&&ruh(this);Tv(a,"listitem");this.zb=b.eb("docos-docoview-replycontainer",a);this.$c=b.eb("docos-docoview-rootreply",a);this.F.render(this.$c);uuh(this)};p.Ia=function(){Z4.prototype.Ia.call(this);I4(this,this.getElement(),["keydown","keypress","keyup"],this.l2b);if(this.D){var a=this.getElement();this.D.va=a}kn(this.getElement(),!0)};p.yb=g("zb");
p.Nc=function(a){Z4.prototype.Nc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&jqh(b.L,a);b.R&&b.R.c_a(a)}};p.$Za=function(a){if(!aw(a.target,"docos-noclick")){var b=V4(this.getContext()),c=C4(B4(this.getId()),this.Xa);b.vf("docos-before-highlight-doco").qb(D4(c));i5(W4(this.R),this.getId());b.vf("docos-highlight-doco").qb(D4($mh(c)));this.ma=!0;this.l3a(a)}};p.l3a=ca();
p.l2b=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&s$a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&Moh(this.C.D)&&this.ma&&(puh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
p.G7a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.vd().Bj())this.Cc("suggestion");else if(b){var c=function(){return a.Cc("discussion")};this.C.rb?(0,this.C.ob)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):Ath(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function uuh(a){for(var b=c5(a.vd()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new Hth(a.getContext(),a.getId(),a.Ak(),a.oa(),a,e);a.If(f,lv(a,c)+1,!0);c=a.H[e]=f}}}p.p2b=function(){if(this.D){var a=this.D.getValue(),b=rrh(this.D.H);b=b?boh(b):void 0;if(!Jd(a)){var c=j5(W4(this.getContext()),this.getId());this.dispatchEvent(new ssh("sr",this.getId(),a5(this.vd()),c,a,void 0,b,this.Ak()))}}};
p.n2b=function(){var a=r5(q5(p5(new o5,43012),this.vd().getId()),a5(this.vd()));this.Ak()||(a.C=105);C5(this.Qc,s5(a))};p.m2b=function(){this.Vk()&&(this.ma=!0)};p.o2b=function(){this.Vk()&&(this.ma=!0)};p.z9a=function(){var a=W4(this.getContext()),b=this.vd().getId();a=a.H.has(b)?a.H.get(b):new Set;var c=this.F;b=a.has(b);c.Sa&&O(c.Sa,b);for(var d in this.H)b=this.H[d],c=a.has(d),b.Sa&&O(b.Sa,c)};
p.h1b=function(){if(Wrh(this.Sc)&&null==gqh(this)){var a=r5(q5(p5(new o5,43095),this.vd().getId()),a5(this.vd()));this.Ak()||(a.C=105);C5(this.Qc,s5(a))}};p.focus=function(){puh(this);var a=this.Vk();a&&Yu(this.getElement())&&Moh(this.C.D)&&(this.ma=!0);if(a){var b=this.oa();a=un(b);(Bf&&!a||!b.contains(this.getElement(),a))&&fo(function(){this.xb()&&!b.contains(this.getElement(),un(b))&&this.getElement().focus()},0,this)}};
function vuh(a){var b=a.vd();if(b){var c=null,d;b:{for(d=lv(a,a.F);d<a.tc();d++){var e=a.Dc(d);if((e=e==a.J?null:e)&&2==(Ith(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.tc();d++)if(e=a.Dc(d),e=e==a.J?null:e){if(2!=(Ith(e)||b).getOrigin())break;O(e.Xa,!1);e.isVisible()&&(c=e)}a=c}a&&O(a.Xa,!0)}}
p.update=function(){var a=this.vd();this.F.update();this.Fe(a.bt(),$4(a)||void 0);uuh(this);for(var b in this.H){var c=this.H[b];d5(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.ob&&(this.ob=a.isResolved(),puh(this),this.ob?(this.D.ma="Adding a comment will re-open this discussion...",this.D.Fe("Adding a comment will re-open this discussion")):(b=quh(this),this.D.ma=b,this.D.Fe("Reply")),!a.isResolved()&&u5(this.D)||this.D.reset(!0));Dph(this);!this.Vk()&&
this.D&&this.D.blur();vuh(this);a=this.gb;b=this.getElement();a.C&&b&&a.F&&(Wu(b).contains(new um(a.H,a.J))||qph(a,!1))};p.k2b=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");V4(this.getContext()).vf("docos-delete-doco").qb({Tm:a5(this.vd()),Kj:this.getId(),Gp:j5(W4(this.getContext()),this.getId()),XT:a,zf:0==this.Ak()?105:null});return!0};function quh(a){return Wrh(a.Sc)?"Reply or add others with @":"Reply..."}
function wuh(a){var b=V4(a.getContext()),c=a.Ak()?null:105;b.vf("docos-resolve-doco").qb(new bqh(a.getId(),!1,null,c))}function gqh(a){return a.D&&u5(a.D)?a.D.getValue():null}function xuh(a){var b=a.getContext(),c=a.vd();c&&D5(nph(b),n5(m5(l5(new k5,43045),c)));a=a.getId();V4(b).vf("docos-speak-doco").qb(a)}p.AEa=ca();p.La=function(){Z4.prototype.La.call(this);this.J&&delete this.J;delete this.zb;delete this.H;delete this.D};function yuh(a,b,c,d,e){B5.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Ca=new cqh(a,d,b,this);this.Na=this.jb=this.Ra=null;this.Sa=new az(this);this.qa(this.Sa);b=this.Sa;b.Qi("backToDocument",85);b.Qi("resolve",69);b.Qi("blur",27);b.Qi("next",74);b.Qi("next",Dr(["N","C"]));b.Qi("prev",75);b.Qi("prev",Dr(["P","C"]));b.Qi("speakComment",Dr(["A","C"]));b.Qi("reply",82);this.getHandler().listen(this.Sa,"shortcut",this.h2b);this.getHandler().listen(this,"rd",this.i2b);this.Va=!1;this.Ja+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Eb=null;z(A(),"docs-edp")&&(this.Eb=new Zrh(a,d,"unfocused-presenceindicator"));this.Kd="legacy"!=this.C.F;this.Aa=null}u(yuh,B5);p=yuh.prototype;p.setVisible=function(a){!this.isVisible()&&a&&W4(this.R).O&&this.lB();B5.prototype.setVisible.call(this,a)};p.lB=function(){this.F.lB();for(var a in this.H)this.H[a].lB()};p.Nc=function(a){B5.prototype.Nc.call(this,a);this.Ca&&this.Ca.Nc(a)};p.Ak=m(!0);p.cT=function(){return this.vd()?a5(this.vd()):null};
p.Ba=function(){B5.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Ra=a.eb("docos-replyview-control",b);this.jb=a.eb("docos-anchoreddocoview-internal",b);this.Na=a.eb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.vd(),d=!!c&&Loh(H4(this.getContext()).D,c);fw(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=$4(c))a=a.eb("docos-anchoreddocoview-assigneecontainer",b),this.Ca.render(a),zuh(this,c);this.D&&(a=this.getElement(),
this.D.va=a);this.Eb&&(a=this.oa().eb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Eb.render(a))};p.Ia=function(){B5.prototype.Ia.call(this);var a=this.vd();a&&$4(a)&&this.If(this.Ca,lv(this,this.F));Dph(this);2<=Ud(this.vd().D)&&(a=Auh(this))&&Buh(this,a);this.Y0(!0);vuh(this);Cuh(this);I4(I4(this,this,"show",this.u3a),this,"hide",this.t3a)};
p.Dd=function(){var a=this.vd();if(a)if(this.D&&u5(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Hc(this,"show",this.u3a);this.getHandler().Hc(this,"hide",this.t3a);B5.prototype.Dd.call(this)};p.Jh=function(a){this.oa().Hi(this.getElement(),a)};function Duh(a,b){kuh(a.F,b);for(var c in a.H)kuh(a.H[c],b)}p.wjc=function(){var a=new Wmh(this.getId(),this.Xa),b=V4(this.getContext());b.vf("docos-before-highlight-doco").qb(a);i5(W4(this.R),this.getId());b.vf("docos-highlight-doco").qb(a)};
p.i2b=function(){this.O=null;if(Fph(this)){var a=this.Na.scrollHeight>this.Na.offsetHeight,b=this.getElement();a&&!this.Aa&&b?(this.Aa=new AJ(b),I4(this,this.Aa,"mousewheel",this.iYb)):!a&&this.Aa&&(this.Aa.dispose(),this.Aa=null);a=a?T8a():0;b=this.Kd?282:240;Tu(this.getElement(),b+a);Tu(this.Na,b+a)}};p.u3a=function(a){a.target instanceof Kx&&(bw(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
p.t3a=function(a){a.target instanceof Kx&&(dw(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};p.AEa=function(a){this.Ra&&O(this.Ra,a)};p.xba=m(!0);p.update=function(){B5.prototype.update.call(this);var a=this.Vk();this.Vk()?this.L||this.C.zb||(this.L=new bA(this.getElement(),this.oa()),this.qa(this.L),cA(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Va&&Euh(this);this.Va=a;Cuh(this);if(a=$4(this.vd()))this.Ca.update(),zuh(this,a);this.V&&this.ADa()};
function Cuh(a){var b=a.vd();null!=b.R&&(puh(a),a.D.ready(b.R,!0),b.R=null)}p.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.Y0(!0);vuh(this)};
p.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=Auh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.yb().style.maxHeight="",Buh(this,a),this.Y0(!0),vuh(this)}};p.UEa=function(){B5.prototype.UEa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],w(this.Y0,this,!0)),this.getHandler().listen(this.D,"e",this.zUa),this.getHandler().listen(this.D,"f",this.wjc))};
function Auh(a){var b=H4(a.getContext()).Cs;a=Fph(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function Buh(a,b){var c=a.getElement(),d=Ud(a.vd().D);if(!(2>d||c.offsetHeight<b)){var e=lv(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new ouh(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.If(a.J,f+e);var h=a.J;h.F&&hn(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.Dc(l+e).setVisible(!1)}}}
p.ADa=function(){var a=this.Zc();this.V&&this.expand();this.collapse();var b=this.Zc();zm(a,b)||this.dispatchEvent(new Y4(this.getId()))};p.Y0=function(a){var b=Fph(this);b&&(puh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.yb().style.maxHeight=b+"px":this.yb().style.maxHeight="",a&&(this.jb.scrollTop=this.jb.scrollHeight))};
p.h2b=function(a){var b=V4(this.getContext());switch(a.identifier){case "backToDocument":b.vf("docos-back-to-document").qb({Kj:this.getId()});break;case "resolve":Zth(this.F);break;case "blur":this.zUa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":xuh(this);break;case "reply":this.D.focus()}};p.zUa=function(){var a=V4(this.getContext());a.vf("docos-before-highlight-doco").qb(A4());i5(W4(this.R),null);a.vf("docos-highlight-doco").qb(A4())};
p.focus=function(){B5.prototype.focus.call(this);this.Va=this.Vk();Euh(this)};function Euh(a){puh(a);u5(a.D)||a.Va||a.D.reset(!0);a.Vk()&&(a.expand(),a.Pia());a.Y0(!0);a.dispatchEvent(new Y4(a.getId()))}p.tU=function(a){B5.prototype.tU.call(this,a);this.Y0(!1)};p.La=function(){B5.prototype.La.call(this);delete this.Sa;delete this.Ra};function zuh(a,b){var c=a.va;c&&(a=cnh(b,a.C),ew(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),bw(c,a))}p.iYb=function(a){this.Vk()&&a.stopPropagation()};function Fuh(a,b,c,d,e){this.ot=a;this.nf=void 0===b?null:b;this.Heb=void 0===c?null:c;this.Wka=void 0===d?null:d;this.Zuc=void 0===e?!1:e}p=Fuh.prototype;p.getNewDocoType=g("ot");p.getText=g("nf");p.getAssigneeEmail=g("Heb");p.getOriginatingDocoType=g("Wka");p.getWasSmartTodo=g("Zuc");function Guh(a,b,c,d){return Fuh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}u(Guh,Fuh);function E5(a,b,c,d,e,f,h){Z4.call(this,a,b,c,e,f);this.Lr=d;this.Ca=this.Sa=null;this.D=new csh(a,this.oa(),this,h);this.Ha(this.D);this.Nc(b)}u(E5,Z4);p=E5.prototype;p.Ba=function(){this.Ca=new az(this.getElement());this.qa(this.Ca);var a=this.Ca;a.Qi("backToDocument",85);a.Qi("blur",27);a.Qi("next",74);a.Qi("next",Dr(["N","C"]));a.Qi("prev",75);a.Qi("prev",Dr(["P","C"]));a.Qi("reply",82)};
p.Ia=function(){Z4.prototype.Ia.call(this);this.getHandler().listen(this.D,"p",this.L3a).listen(this.D,"c",this.jCa).listen(this.D,"s",this.f_).listen(this.D,"b",this.e2b).listen(this.D,"e",this.Rwa).listen(this.D,"f",this.oCa);this.getHandler().listen(this.Ca,"shortcut",this.f2b);var a=this.getElement();this.D.va=a;this.Sa=new bA(this.getElement(),this.oa());this.qa(this.Sa);cA(this.Sa)};p.iob=function(a,b,c,d,e){V4(this.getContext()).vf("docos-convert-doco").qb({Kj:a,Tm:b,Gp:c,R2a:d,XT:e})};
p.L3a=function(){var a=this.mAa()?this.mAa().getEmail():void 0,b=this.vd().getNewDocoType()?this.vd().getNewDocoType():void 0,c=this.$da();var d=this.vd().C;d=null!=J(d.C,20)?J(d.C,20):null;a=new Guh(c,a,b,1==d);c=j5(W4(this.getContext()),this.getId());fo(w(this.iob,this,this.getId(),this.cT(),c,a,b))};p.hob=function(a,b,c,d){V4(this.getContext()).vf("docos-delete-doco").qb({Kj:a,Tm:b,Gp:c,XT:d})};
p.jCa=function(){var a=j5(W4(this.getContext()),this.getId()),b=this.vd().getNewDocoType()?this.vd().getNewDocoType():void 0;fo(w(this.hob,this,this.getId(),this.cT(),a,b))};p.cT=g("Lr");p.nAa=m(!0);p.$Za=function(a){Huh(this);a.stopPropagation()};function Huh(a){var b=V4(a.getContext()),c=$mh(C4(B4(a.getId()),a.Xa));b.vf("docos-before-highlight-doco").qb(D4(c));i5(W4(a.R),a.getId());b.vf("docos-highlight-doco").qb(D4(c))}
p.f2b=function(a){var b=V4(this.getContext());switch(a.identifier){case "backToDocument":b.vf("docos-back-to-document").qb({Kj:this.getId()});break;case "blur":b.vf("docos-before-highlight-doco").qb(A4());i5(W4(this.R),null);b.vf("docos-highlight-doco").qb(A4());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};p.update=function(){Dph(this);this.Pia()};p.e2b=function(a){this.f_(a)};
p.Rwa=function(){var a=V4(this.getContext());a.vf("docos-before-highlight-doco").qb(A4());i5(W4(this.R),null);a.vf("docos-highlight-doco").qb(A4())};p.oCa=function(){this.Vk()||Huh(this)};p.focus=function(){this.Vk()&&(Bf?fo(this.Z4a,0,this):this.Z4a())};p.f_=function(a){var b=Fph(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}Z4.prototype.f_.call(this,a)};
p.Z4a=function(){this.D.ready();var a=this.oa(),b=un(a);(Bf&&!b||!a.contains(this.getElement(),b))&&fo(function(){this.xb()&&this.getElement().focus()},0,this)};function Iuh(a,b,c,d,e,f){E5.call(this,a,b,c,d,e,f);this.J=new Vrh;Wrh(this.J)?this.D.ma="Comment or add others with @":this.D.ma="Reply...";this.L=!1;this.F=this.H=null;this.Aa=nph(a)}u(Iuh,E5);p=Iuh.prototype;
p.Ba=function(){var a=this.oa(),b=this.C.Kg(),c="Unknown"===b.getName();c=Av(Aph,{author:b.getName(),hh:b.C,yF:this.C.V&&!c?b.getId():null,gx:!0,Ak:!0,ij:this.C.ij(),oD:this.C.Na,fH:Zoh(this.C),tv:T4(this.C)},void 0,a);this.pb(c);this.D.Wa(a.eb("docos-docoview-input-pane",c));Rw().C&&z(A(),"docs-ehspc")&&this.D.focus();this.H=a.eb("docos-author",c);this.F=WU(a,"IMG","docos-replyview-avatar",c);var d=a.eb("docos-replyview-origin",c);O(d,!1);if(a=a.eb("docos-user-presence",c))if(c=this.C.Yd)a.style.backgroundColor=
c(b.getId());E5.prototype.Ba.call(this)};p.Ia=function(){E5.prototype.Ia.call(this);Dph(this);var a=this.vd().Bw();Jd(a)||this.D.ready(a,!0,!0);a=this.C.Kg();fph(X4(this.getContext()),this.F,a.D,F4(a))};p.mAa=function(){return rrh(this.D.H)};p.$da=function(){return this.D.getValue()};p.Rwa=function(a){u5(this.D)?this.f_(a):E5.prototype.Rwa.call(this,a)};
p.update=function(){E5.prototype.update.call(this);var a=this.Vk();a!=this.L&&(this.Vk()||u5(this.D)?this.dispatchEvent(new Y4(this.getId())):this.jCa());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.L=a};p.Ak=m(!0);p.oCa=function(){E5.prototype.oCa.call(this);if(Wrh(this.J)&&null==(this.D&&u5(this.D)?this.D.getValue():null)){var a=r5(q5(p5(new o5,43094),this.vd().getId()),a5(this.vd()));C5(this.Aa,s5(a))}};
p.Dd=function(){E5.prototype.Dd.call(this);V4(this.getContext()).vf("docos-edit-draft").qb({Kj:this.getId(),text:this.$da(),uJa:this.F})};p.La=function(){E5.prototype.La.call(this);delete this.H;delete this.F};function Juh(a,b,c,d,e,f){Iuh.call(this,a,b,c,d,e,f);this.vd()}u(Juh,Iuh);function Kuh(a,b,c,d,e,f){Iuh.call(this,a,b,c,d,e,f);this.vd()}u(Kuh,Iuh);Kuh.prototype.V=function(a,b,c,d,e,f){this.dispatchEvent(new ssh("sd",a,b,c,d,e,f,this.Ak()))};Kuh.prototype.L3a=function(){var a=j5(W4(this.getContext()),this.getId()),b=rrh(this.D.H);if(null!=b){kj(this.C.jh,38);var c=boh(b)}fo(w(this.V,this,this.getId(),this.cT(),a,this.$da(),"instant-doco"==this.vd().ot,c))};Kuh.prototype.ma=function(a,b,c,d){V4(a).vf("docos-cancel-insert-discussion").qb({Kj:b,Tm:c,Gp:d})};
Kuh.prototype.jCa=function(){var a=j5(W4(this.getContext()),this.getId());fo(w(this.ma,this,this.getContext(),this.getId(),this.cT(),a))};function Luh(a,b,c,d,e,f){b=Fuh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.zd=a||null;return b}u(Luh,Fuh);Luh.prototype.getPosition=g("zd");function Muh(a){this.Wka=a}Muh.prototype.getOriginatingDocoType=g("Wka");function Nuh(a,b,c){this.Wka=a;this.NS=b;this.U_b=c;return this}u(Nuh,Muh);Nuh.prototype.isTodo=g("NS");Nuh.prototype.isWrongAssignee=g("U_b");function Ouh(a,b,c,d,e,f){E5.call(this,a,b,c,d,e,f,!0);this.Na=this.Ja=this.H=this.L=this.ma=this.J=this.F=this.Ra=this.V=this.Aa=null;this.Va=nph(a)}u(Ouh,E5);p=Ouh.prototype;
p.Ba=function(){var a=this.C,b=this.oa();a=Av(Aph,{Ak:!0,EZ:!0,agb:!!kj(a.jh,41),ij:a.ij(),Xn:"legacy"!=a.F,tv:T4(a)},void 0,b);this.pb(a);this.D.rb=!1;this.D.Wa(b.eb("docos-docoview-input-pane",a));this.Aa=b.eb("docos-input-assign-to-text",a);this.V=b.Ea("docos-smarttodoview-body",a);this.V.id=iv(this,"body");this.F=b.eb("docos-smarttodoview-feedback",a);this.Ja=b.eb("docos-smarttodoview-showfeedbackdialog-button",a);this.Na=b.eb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");
c.push("disable");c.push("help");this.H=new hqh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ha(this.H);this.H.Wa(b.Ea("docos-overflowmenu-outer",a));this.F&&(this.J=Puh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=Puh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Ra=Quh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=Quh(this,"docos-smarttodoview-feedback-submit"))&&
this.BGa());b=b.Ea("docos-smarttodoview-headertext",a);b.id=iv(this,"headertext");Vv(a,"labelledby",b.id);Vv(a,"describedby",this.V.id);E5.prototype.Ba.call(this)};function Puh(a,b,c){var d=a.oa(),e=a.getElement();b=d.eb(b,e);c=d.eb(c,e);e=null;b&&(e=new Wy(!1,d),c&&Uy(e,c),e.Wa(b),a.qa(e));return e}function Quh(a,b){var c=a.oa();b=c.eb(b,a.getElement());var d=null;b&&(d=new Ey(null,c),d.Wa(b),Yv(b,d.wl()),a.qa(d));return d}
p.Ia=function(){E5.prototype.Ia.call(this);I4(I4(I4(this,this.H,"e",this.y2b),this.H,"i",this.tGb),this.H,"h",this.mKb);this.F&&(this.Ja&&this.getHandler().Uf(this.Ja,Wn,this.VUb),this.Na&&this.getHandler().Uf(this.Na,Wn,this.tYb),this.J&&I4(this,this.J,"change",this.BGa),this.L&&I4(this,this.L,"change",this.BGa),this.Ra&&I4(this,this.Ra,"action",this.BIb),this.ma&&I4(this,this.ma,"action",this.x2b));this.D.ready(void 0,void 0,!0);this.update()};
p.Pia=function(){E5.prototype.Pia.call(this);this.va&&bw(this.va,"docos-smarttodoview-arrow-inner")};p.update=function(){E5.prototype.update.call(this);var a=$4(this.vd());a=E4(a);a=enh(a,this.C,!0);a=(new mz("Assign to {user}?")).format({user:a});hn(this.Aa,a);O(this.Aa,!0);a=FK(EK(new DK),this.vd().getContent());We(this.V,a);this.resize()};p.Ak=m(!0);
p.y2b=function(){var a=E4(this.vd().Gy()).getEmail();a=new Luh(void 0,"client-integrated-draft",this.vd().Bw(),a,"smart-todo",!0);var b=j5(W4(this.getContext()),this.getId());V4(this.getContext()).vf("docos-convert-doco").qb({Kj:this.getId(),Gp:b,R2a:a,XT:"smart-todo"})};p.tGb=function(){V4(this.getContext()).vf("docos-disable-smart-todo-feature").qb()};
p.mKb=function(){mv("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});C5(this.Va,s5(r5(q5(p5(new o5,43029),this.vd().getId()),a5(this.vd()))))};p.VUb=function(){this.F&&O(this.F,!0);C5(this.Va,s5(r5(q5(p5(new o5,43025),this.vd().getId()),a5(this.vd()))))};p.tYb=function(){V4(this.getContext()).vf("docos-write-feedback").qb({source:"smart-todo"})};p.BIb=function(){this.F&&O(this.F,!1);this.focus()};
p.BGa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Pa(a||b)};p.x2b=function(){V4(this.getContext()).vf("docos-reject-doco-with-feedback").qb({Kj:this.getId(),Tm:this.cT(),Gp:j5(W4(this.getContext()),this.getId()),XT:"smart-todo",Wnb:new Nuh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};p.mAa=function(){return $4(this.vd())?E4($4(this.vd())):null};p.$da=function(){return this.vd().Bw()};
p.La=function(){E5.prototype.La.call(this);delete this.Aa;delete this.V;delete this.F;delete this.H;delete this.Ja;delete this.Na};function Ruh(a,b,c,d){this.C=a;this.H=b;this.hb=c;this.D=d}Ruh.prototype.F=function(a){a=W4(this.C).vd(a);var b=this.H.gk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new Kuh(this.C,a.getId(),b,a5(a),this.hb,this.D);case "client-integrated-draft":return new Juh(this.C,a.getId(),b,a5(a),this.hb,this.D);case "smart-todo":return new Ouh(this.C,a.getId(),b,a5(a),this.hb,this.D);default:return new yuh(this.C,a.getId(),b,this.hb,this.D)}};function Suh(){this.C={};this.D={}}function Tuh(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Un(c,"end",function(){delete f[b];delete h[b];e()})}function Uuh(a,b){(a=a.C[b])&&a.stop()}Suh.prototype.getDuration=function(a){return this.D[a]};function Vuh(a){this.C=[];if(a)a:{if(a instanceof Vuh){var b=a.jf();a=a.Ld();if(0>=this.qe()){for(var c=this.C,d=0;d<b.length;d++)c.push(new SX(b[d],a[d]));break a}}else b=Wd(a),a=Vd(a);for(d=0;d<b.length;d++)Wuh(this,b[d],a[d])}}function Wuh(a,b,c){var d=a.C;d.push(new SX(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}p=Vuh.prototype;
p.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)jd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function Xuh(a){return a.C[0]&&a.C[0].getKey()}p.Ld=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
p.jf=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};p.hv=function(a){return cd(this.C,function(b){return b.getValue()==a})};p.clone=function(){return new Vuh(this)};p.qe=function(){return this.C.length};p.isEmpty=function(){return id(this.C)};p.clear=function(){jd(this.C)};function Yuh(){Vuh.call(this)}y(Yuh,Vuh);Yuh.prototype.enqueue=function(a,b){Wuh(this,a,b)};function Zuh(a,b){y4.call(this,a,[],[],!1,!1,new w4);this.interval=this.interval=b}y(Zuh,y4);pa("docos.api.TimedEvent",Zuh,void 0);function F5(a,b){g5.call(this,a,b);this.Ca=W4(this.getContext());this.C={};this.R={};this.gb=new Yuh;this.L=new Suh}u(F5,g5);p=F5.prototype;p.dR=function(){var a=g5.prototype.dR.call(this);a.push("docos-layout-anchored");h5(this).Xd&&a.push("docos-layout-anchored-shadows");return a};p.gra=function(a){return(new Ruh(this.getContext(),this,this.oa(),this)).F(a.getId())};
p.WP=function(a){if(this.Ca.ma(a)){var b=a.getId(),c=j5(this.Ca,b),d=this.eua(c,!1);if(d){var e=this.gra(a);this.R[c]&&delete this.R[c];c=this.tea(e);if(c<=this.gk().tc()&&-1<c)for($uh(this,e,d,c);!this.gb.isEmpty()&&Xuh(this.gb)<=this.gk().tc();)e=this.gb.remove(),$uh(this,e.view,e.position,e.index);else this.gb.enqueue(c,new avh(e,d,c))}else this.R[c]=a;b=Zmh(B4(b),!a.EZ());a.Bj()||C4(b,this.QI());d&&a.gx()&&Jd(a.Bw())&&(d=V4(this.getContext()),d.vf("docos-before-highlight-doco").qb(D4(b)),i5(this.Ca,
a.getId()),d.vf("docos-highlight-doco").qb(D4(b)));bvh(this,a,b)}};function bvh(a,b,c){var d=a.Cda();d&&d.C==b.getId()&&(Zmh(c,d.D),fo(function(){return Vph(a,D4(c),b)},0))}function $uh(a,b,c,d){var e=Date.now();a.gk().If(b,d,!0);a.oka(c.x,c.y,b,!1);b=Date.now()-e;(a=h5(a).H["doco-rendered"])&&a(new Zuh("doco-rendered",b))}
p.jU=function(a){var b=this.gk().Ic(a);a==this.Pq()&&(this.H=null);if(b){var c=this.Ca.vd(a);c&&c.isResolved()&&b.Ak()&&h5(this).Kd?cvh(this,a,b):(this.gk().removeChild(b,!0),Tf(b));this.iN(this.C)}};
function cvh(a,b,c){function d(){q||(q=!0,Tf(c),Ym(e),bw(h,"docos-resolve-highlight"),fo(function(){dw(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Nu(e),h=h5(a).Kd,k=Vu(h),l=Vu(e),n=Nu(h);n.x+=(k.width-l.width)/2;a.gk().removeChild(c);bw(e,"docos-readonly");c.Dd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;Bf?dvh(a,e,f,n,d,b):evh(a,e,c.getId(),f,n,d)}
function evh(a,b,c,d,e,f){Uuh(a.L,c);b.style.left=d.x+"px";b.style.top=d.y+"px";fo(function(){Un(b,pCa,f);fo(f,570);bw(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function dvh(a,b,c,d,e,f){var h=new Jz(b,[c.x,c.y],[d.x,d.y],270),k=new nib(b,270);k.play();Tuh(a.L,f,h,270,function(){Tf(h);Tf(k);e()})}
function fvh(a){var b=[];a.gk().Xe(function(c){var d=c.vd();null!=d&&null!=a5(d)?(d=j5(this.Ca,c.vd().getId()),this.eua(d,!0)||this.R[d]||(this.R[d]=c.vd(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new $ph("rv",b))}p.cja=function(a){for(var b=ge(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.iN(b)};p.X7=function(a){var b=ge(this.C),c;for(c in a)b[c]=a[c];this.iN(b)};p.eua=function(a){return this.C[a]||null};
p.dja=function(a){a=gvh(this,a);return a?(a=a?a.getElement():null)?new um(a.offsetLeft,a.offsetTop):null:null};p.getDocoMaxHeight=function(a){return(a=gvh(this,a))?a.getDocoMaxHeight():null};p.oAa=function(a,b){(a=gvh(this,a))&&a.tU(b)};function gvh(a,b){return(b=x5(a.Ca,b))?a.gk().Ic(b.getId()):null}p.La=function(){g5.prototype.La.call(this);var a=this.L,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function avh(a,b,c){this.Kj=a.getId();this.view=a;this.position=b;this.index=c};function hvh(a,b){F5.call(this,a,b)}u(hvh,F5);p=hvh.prototype;p.z5=m(!1);p.wW=m(0);p.X0=ca();p.jN=function(){fvh(this)};p.Qz=function(){F5.prototype.Qz.call(this);this.gk().Xe(function(a){var b=a.vd();b&&null!=a5(b)&&(b=j5(W4(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.oka(b.x,b.y,a,!1))},this)};p.iN=function(a){this.C=a;fvh(this);for(var b in this.C)(a=this.R[b])&&this.WP(a);this.Qz()};p.oka=function(a,b,c){(c=c.getElement())&&g$a(c,a,b,H4(this.getContext()).lk)};function G5(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Jd(f)?f:null}pa("docos.api.Assignee",G5,void 0);G5.prototype.getToken=g("L");G5.prototype.getToken=G5.prototype.getToken;G5.prototype.getEmail=g("F");G5.prototype.getEmail=G5.prototype.getEmail;G5.prototype.getAffinity=g("D");G5.prototype.getAffinity=G5.prototype.getAffinity;G5.prototype.getMatchingMethod=g("H");G5.prototype.getMatchingMethod=G5.prototype.getMatchingMethod;G5.prototype.O=g("C");
G5.prototype.isMatchedOnEmailUserName=G5.prototype.O;G5.prototype.getName=g("J");G5.prototype.getName=G5.prototype.getName;function ivh(a,b,c){this.C=a;this.L=b;this.F=!1;this.D=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function jvh(a,b,c,d){return new G5(a.C,b,d,a.L,a.F,c)}function kvh(a,b){return a.C.toLowerCase().replace(lvh,"")==b?a.F=!0:!1}
function mvh(a,b,c){if(b)b=sf(b).toLowerCase();else return!1;var d=b.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||Jrh.contains(e.trim().toLowerCase()))&&(d=c)){a:{d=c.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(hd(Irh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||c.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=c?c.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==b||c&&hd(f,d[h]))&&1<d[h].length)return!0;return kvh(a,
e)}var lvh=/^[@+]|[@+]$/g;function nvh(a){this.etc=a}nvh.prototype.get=g("etc");pa("docos.api.AssigneeThenable",nvh,void 0);nvh.prototype.get=nvh.prototype.get;function ovh(a,b,c){this.C=a.getEmail();this.R=b;this.F=new Nl;this.J=c}function pvh(a,b,c){var d=Ga(a.L,b,a.C);b=w(a.H,a,Ga(a.O,b,a.C),c,function(){return c.resolve(null)});a.H(d,c,b)}function qvh(a,b,c,d){En(b).then(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.bR&&k.value&&td(f,k.value)}id(f)?d():rvh(a,f,c)})}
function rvh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}id(e)?(svh(a,d),a.J(d).then(function(k){return tvh(a,b,c,k)})):uvh(a,e,c)}else uvh(a,b,c)}function uvh(a,b,c){b.sort(Ga(vvh,a.C));c.resolve(b[0])}function svh(a,b){var c=a.F;vza(b,c.contains,c)||(Ol(a.F,b),C5(a.R,s5(p5(new o5,43026))))}
function tvh(a,b,c,d){for(var e=[],f={s1:0};f.s1<d.length;f={s1:f.s1},f.s1++){var h=ed(b,function(k){return function(l){return l.getEmail()==d[k.s1]}}(f));h&&e.push(h)}id(e)?c.resolve(null):uvh(a,e,c)}function vvh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function wvh(a,b,c){ivh.call(this,a,b,c)}u(wvh,ivh);wvh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&mvh(this,e.getEmail(),e.getName())){var f=sf(e.getEmail());Jd(f)||c.push(jvh(this,f,e.getName(),0))}}a.resolve(c)};function xvh(a,b){return Lph(Jph,a).map(function(c){return new wvh(c,"email",b)})};function yvh(a){B.call(this);this.C=a}u(yvh,B);function C5(a,b){var c=H4(a.C).Ja;if(c){var d=new Qj,e=b.C;null!=b.L?K(d,1,2):null!=e?K(d,1,3):K(d,1,1);zvh(a,d,b.D);b.J&&(a=dth(W4(a.C)).C.clone(),zj(d,10,a));a=new Noh;b.Lr&&K(a,1,b.Lr);c(b.H,b.F||void 0,d,a)}}
function D5(a,b){var c=H4(a.C).Ja;if(c){var d=b.vd();var e=new Qj;var f=d.Cya();e=K(e,2,f);null!=d.sA()&&(f=eoh(d.sA()).length,K(e,8,f));null!=b.Uy&&(f=b.Uy.Cya(),K(e,3,f));if(null!=b.jX){var h=b.jX;switch(h.getOriginatingDocoType()){case "discussion":K(e,4,1);break;case "draft":K(e,4,2);break;case "instant-doco":K(e,4,3);break;case "smart-todo":K(e,4,4);f=new fMd;var k=new bMd;var l=!h.isTodo();k=K(k,1,l);h=h.isWrongAssignee();h=K(k,2,h);zj(f,2,h);zj(e,5,f);break;case "suggestion":K(e,4,5);break;
default:K(e,4,0)}}null!=b.C&&K(e,7,b.C);null!=H4(a.C).Va&&(f=H4(a.C).Va,zj(e,12,f));null!=H4(a.C).J&&(f=H4(a.C).J==d.getId(),K(e,13,f));f=d.aF();h=$4(d);null!=f?K(e,1,2):null!=h?K(e,1,3):K(e,1,1);zvh(a,e,d.getId());b.J&&(a=dth(W4(a.C)).C.clone(),zj(e,10,a));a=new Noh;d=a5(b.vd());a=K(a,1,d);c(b.H,b.F||void 0,e,a)}}function zvh(a,b,c){a=W4(a.C).R;null!=c&&b.Ig(null!=a&&c==a.getId())}yvh.prototype.La=function(){B.prototype.La.call(this)};function Avh(a,b,c,d){ovh.call(this,b,c,d);this.D=a}u(Avh,ovh);function Bvh(a,b){var c=Fn();a.D.C?pvh(a,b,c):trh(a.D).then(w(function(d,e,f){f?pvh(this,d,e):e.reject()},a,b,c));return new nvh(c.C)}Avh.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.D,k=Fn();Jd(f.C)?k.resolve([]):kvh(f,f.J)||f.C.toLowerCase()==f.D?k.resolve([jvh(f,f.D,null,Number.MAX_VALUE)]):h.zo(f.C,5,w(f.O,f,k));f=k.C;td(d,f)}qvh(this,d,b,c)};
Avh.prototype.L=function(a,b){for(var c=[],d=0;d<a.length;d++)td(c,xvh(a[d],b));return c};Avh.prototype.O=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new wvh(a[d],"full-query",b));return c};function Cvh(a,b){this.D=a;this.F=b;this.C=H4(this.D)};function Dvh(a){this.cgb=a;return this}u(Dvh,w4);Dvh.prototype.getCancelAnchorId=g("cgb");Dvh.prototype.getCancelAnchorId=Dvh.prototype.getCancelAnchorId;function Evh(a,b,c,d,e,f){a=y4.call(this,a,b,c,d,e,f||new w4)||this;a.C=!1;return a}u(Evh,y4);Evh.prototype.canPreventDefault=m(!0);Evh.prototype.preventDefault=function(){this.C=!0};function Fvh(a){return z4.call(this,a)||this}u(Fvh,z4);Fvh.prototype.build=function(){return new Evh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new w4)};function Gvh(){this.D=!1}Gvh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};Gvh.prototype.ek=function(){return!this.D&&(null==this.C||this.C.ek())};function Hvh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Fn();this.L=c}y(Hvh,B);function trh(a){if(!wqe())return zn(!1);if(a.C)return zn(!0);if(!a.F){var b=ge(huf);b.D=!0;b.L=3;b.va=!0;b.F=0;a.F=a.D.zo(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.R)){var k=new YPd;h=K(k,1,h);h=Qlh(h);c.Oo("dacpc",Ha()-a.L,h.ub())}})}return a.H.C}
Hvh.prototype.zo=function(a,b,c,d){var e=this;if(!wqe())return new kuf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(ff(a)&&this.F&&this.F.ek()){var k=new Gvh,l=Ha();this.H.C.then(function(){var n=e.J.R;if(k.ek()){var q=e.D.zo(h,c);n&&n.Oo("dcrdtdr",Ha()-l);k.D||(k.C=q)}else n&&n.Oo("dcrdc",Ha()-l)});return k}return this.D.zo(h,c)};Hvh.prototype.La=function(){delete this.D};function Ivh(a){B.call(this);this.C=a;this.F=H4(a);this.D=nph(this.C);this.H={}}u(Ivh,B);function Jvh(a,b,c,d,e,f){var h=uf(),k=new Q4(h);d&&S4(k,d,Date.now());f&&Goh(k);e&&(d=Znh(Vnh(Ynh(new O4,e).Nc(""),!1)),d=boh(d),Doh(k,d));c=Tph(Uph(f5(Sph(e5(k),b),!1),Date.now()),c);Zsh(W4(a.C),c);W4(a.C).flush();C5(a.D,s5(r5(q5(p5(new o5,43008),h),b)));return j5(W4(a.C),h)}p=Ivh.prototype;p.W1b=function(a){ath(W4(this.C),a);W4(this.C).flush()};
p.S1b=function(a,b,c,d,e){e=void 0===e?null:e;if(a=W4(this.C).vd(a)){if(d&&!a.Gy())throw Error("Cannot reassign a doco with no existing assignment");if(a.Bj()&&d)throw Error("Cannot reassign a suggestion.");var f=uf(),h=Date.now();b=Eoh(Aoh(S4(R4(new Q4(f)),b,h),h),this.F.Kg());c&&zoh(b,c);d&&Doh(b,d);c=yoh(new Q4(b5(a),a.getId()),b);c=f5(e5(c),!0);w5(W4(this.C),c);W4(this.C).flush();d=m5(l5(new k5,d?43020:43010),a);e&&(d.C=e);D5(this.D,n5(d))}};
p.Z1b=function(a,b){if(a=W4(this.C).vd(a)){var c=new Q4(b5(a),a.getId()),d=null!=a.sA()?new doh(a.sA().Ae().clone()):new doh(new Enh);K(d.C,4,b?1:0);R4(Foh(c,d));c=f5(e5(c),!0);w5(W4(this.C),c);W4(this.C).flush();D5(this.D,n5(m5(l5(new k5,b?43040:43041),a)))}};
p.$1b=function(a,b,c){if(a=W4(this.C).vd(a)){var d=new Q4(b5(a),a.getId());if(c=d5(a,c)){var e=null!=c.sA()?new doh(c.sA().Ae().clone()):new doh(new Enh),f=new Q4(b5(a),c.getId());K(e.C,4,b?1:0);yoh(d,R4(Foh(f,e)));d=f5(e5(d),!0);w5(W4(this.C),d);W4(this.C).flush();D5(this.D,n5(rqh(m5(l5(new k5,b?43042:43043),a),c)))}}};
p.Omb=function(a,b,c,d){d=void 0===d?null:d;if(a=W4(this.C).vd(a))if(b=d5(a,b)){var e=Date.now();c=S4(R4(new Q4(J(b.C,11)||"",b.getId())),c,e);c=yoh(new Q4(b5(a),a.getId()),c);c=f5(e5(c),!0);w5(W4(this.C),c);W4(this.C).flush();a=rqh(m5(l5(new k5,43021),a),b);d&&(a.C=d);D5(this.D,n5(a))}};p.ijc=function(a,b){if(a=W4(this.C).vd(a)){var c=Date.now();b=S4(new Q4(b5(a),a.getId()),b,c);b=f5(e5(b),!1);w5(W4(this.C),b);W4(this.C).flush()}};
p.X1b=function(a,b,c,d){d=void 0===d?null:d;if(a=W4(this.C).vd(a)){if(a.Bj())throw Error("Cannot resolve a suggestion.");var e=uf(),f=Date.now();e=Eoh(Aoh(R4(new Q4(e)),f),this.F.Kg());K(e.C,10,b?0:1);c&&S4(e,c,f);c=yoh(new Q4(b5(a),a.getId()),e);c=f5(e5(c),!0);K(c.C,6,b);w5(W4(this.C),c);W4(this.C).flush();b?(d=m5(l5(new k5,43014),a),D5(this.D,n5(d)),b=a.Gy()?43103:43104,D5(this.D,n5(l5(d,b)))):(b=m5(l5(new k5,43014),a),null!=d&&(b.C=d),D5(this.D,n5(b)))}};
p.T1b=function(a,b,c){c=void 0===c?null:c;var d=W4(this.C),e=d.vd(a);e&&(this.H[j5(d,a)]=Wd(ge(e.D)),a=Boh(R4(new Q4(b5(e),e.getId()))),a=f5(e5(a),!0),e.EZ()||(e=m5(l5(new k5,43017),e),null!=b&&(e.jX=b),c&&(e.C=c),D5(this.D,n5(e))),w5(d,a),d.flush())};
p.Y1b=function(a,b){if(a=x5(W4(this.C),a)){var c=a.aF();if(!a.Bj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=R4(new Q4(b5(a),a.getId()));c=(new ynh).setType("application/vnd.google-apps.docs.mds");b=zj(c,3,b);zj(a.C,9,b);b=f5(e5(a),!0);w5(W4(this.C),b);W4(this.C).flush()}};
p.Mmb=function(a,b,c){c=void 0===c?null:c;if(a=W4(this.C).vd(a)){var d=Date.now();b=S4(R4(new Q4(b5(a),a.getId())),b,d);b=f5(e5(b),!0);w5(W4(this.C),b);W4(this.C).flush();a=m5(l5(new k5,43022),a);c&&(a.C=c);D5(this.D,n5(a))}};p.nib=function(a,b,c){(a=W4(this.C).vd(a))&&(b=d5(a,b))&&Kvh(this,a,b,c)};function Kvh(a,b,c,d){d=void 0===d?null:d;var e=rqh(m5(l5(new k5,43016),b),c);d&&(e.C=d);D5(a.D,n5(e));w5(W4(a.C),Lvh(b,c));W4(a.C).flush()}
function Lvh(a,b){b=Boh(R4(new Q4(J(b.C,11)||"",b.getId())));a=yoh(new Q4(b5(a),a.getId()),b);return f5(e5(a),!0)}p.V1b=function(a){var b=x5(W4(this.C),a,!0);a=ith(W4(this.C),a);b&&a&&Kvh(this,b,a)};p.U1b=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=x5(W4(this.C),d,!0);d=ith(W4(this.C),d);e&&d&&b.push(Lvh(e,d))}Ysh(W4(this.C),b,"c")};function Mvh(a,b){if(!b)return!1;if(!b.Bj()||!b.aF())throw Error("Attempting to accept/reject a non-suggestion.");return Yph(W4(a.C),b)?!0:!1}
function Nvh(a,b,c,d){a=zoh(Eoh(Aoh(R4(new Q4(c)),Date.now()),a.F.Kg()),b.aF());K(a.C,10,d?2:3);b=yoh(new Q4(b5(b),b.getId()),a);return f5(e5(b),!0)};function Ovh(a){this.C=a}y(Ovh,w4);pa("docos.api.OriginatingDocoTypeArgs",Ovh,void 0);Ovh.prototype.getOriginatingDocoTypeArgs=g("C");Ovh.prototype.getOriginatingDocoTypeArgs=Ovh.prototype.getOriginatingDocoTypeArgs;function H5(a,b,c){this.C=c;this.Lr=a;this.D=b}y(H5,Ovh);pa("docos.api.ConvertDocoArgs",H5,void 0);H5.prototype.getAnchorId=g("Lr");H5.prototype.getAnchorId=H5.prototype.getAnchorId;H5.prototype.getNewDocoArgs=g("D");H5.prototype.getNewDocoArgs=H5.prototype.getNewDocoArgs;function I5(a,b,c,d){this.F=a;this.zd=void 0!==b?b:null;this.D=void 0==c?-1:c;this.C=d||null}y(I5,w4);I5.prototype.isInstantDoco=g("F");I5.prototype.getPosition=g("zd");I5.prototype.getInstantDocoSpacerIndex=g("D");I5.prototype.getEntryPoint=g("C");I5.prototype.isInstantDoco=I5.prototype.isInstantDoco;I5.prototype.getInstantDocoSpacerIndex=I5.prototype.getInstantDocoSpacerIndex;I5.prototype.getEntryPoint=I5.prototype.getEntryPoint;function Pvh(a){this.F=a}Pvh.prototype.C=function(a,b){return b?(a=this.F.vd(b.Kj))?$4(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};Pvh.prototype.D=m(0);function Qvh(a,b){this.zd=a;this.Lr=b;return this}u(Qvh,w4);Qvh.prototype.getPosition=g("zd");Qvh.prototype.getAnchorId=g("Lr");Qvh.prototype.getPosition=Qvh.prototype.getPosition;Qvh.prototype.getAnchorId=Qvh.prototype.getAnchorId;function Rvh(){}Rvh.prototype.C=function(){return["Comment changed"]};Rvh.prototype.D=m(0);function Svh(a,b,c){b=fa(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Gp&&a.addDocoHandle(d.Gp),d.Tm&&a.addAnchorId(d.Tm));return a};function Tvh(a,b){this.C=a;this.jX=b;return this}u(Tvh,Ovh);Tvh.prototype.getFeedback=g("jX");pa("docos.api.FeedbackArgs",Tvh,void 0);Tvh.prototype.getFeedback=Tvh.prototype.getFeedback;function Uvh(a){this.WT=a;return this}u(Uvh,w4);Uvh.prototype.isOriginInStreamOrGutter=g("WT");pa("docos.api.HighlightDocoArgs",Uvh,void 0);Uvh.prototype.isOriginInStreamOrGutter=Uvh.prototype.isOriginInStreamOrGutter;function Vvh(a){var b=a.rZb,c=a.Nb,d=a.c_b;a=a.sZb;return R('<div id="docs-instant-button-bubble" class="'+S("docs-material")+" "+(c?S("docs-instant-button-bubble-transformation-rtl"):S("docs-instant-button-bubble-transformation-ltr"))+(d?" "+S(d):"")+'" role="button" tabindex="-1"><div class="'+S("docs-instant-button-bubble-icon-container")+(a?" "+S(a):"")+'"><span class="'+S("docs-instant-button-bubble-icon")+(b?" "+S(b):"")+'"></span></div></div>')};function Wvh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=ex(dx,0<c.length?c[0]:"docs-instant-button");gx.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;jx(this,2,!0)}u(Wvh,gx);p=Wvh.prototype;p.Ba=function(){var a=this.oa(),b={Nb:!1};b.rZb=this.R.join(" ");id(this.J)||(b.c_b=this.J.join(" "));id(this.L)||(b.sZb=this.L.join(" "));this.pb(Av(Vvh,b,void 0,a))};
function Xvh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.xb()){var h=0>=c;a.isVisible()||h?(Yvh(a),Zvh(a,b,d,f),e&&e()):(a.D=new $vh(b,d,f,e),b=!a.C,h||b||Yvh(a),a.C||(a.C=fo(function(){Zvh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.re;k&&k();a.D=null;a.C=null},c,a)))}}
p.hide=function(a){if(this.xb()){if(void 0===a?0:a)Hu(this.getElement(),"top","0px"),bw(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(dw(this.getElement(),"docs-instant-button-visible"),Xu(this.Ka(),0),this.F=!1);Yvh(this)}};p.jg=function(a){this.isVisible()&&(gx.prototype.jg.call(this,a),a.stopPropagation())};p.Im=function(a){this.isVisible()&&(gx.prototype.Im.call(this,a),a.stopPropagation())};p.oS=function(a){this.isVisible()&&a.stopPropagation()};
function Zvh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;dw(a.getElement(),"docs-instant-quick-hide");bw(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function Yvh(a){a.C&&(go(a.C),a.C=null)}p.isVisible=function(){aw(this.getElement(),"docs-instant-button-visible");return this.F};function $vh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.re=d}$vh.prototype.getOpacity=g("C");function awh(a,b){G4.call(this,a,b);this.D=null;this.F=a}u(awh,G4);awh.prototype.Ba=function(){G4.prototype.Ba.call(this);this.D=new Wvh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Wa(this.D.getElement())};
awh.prototype.Ia=function(){G4.prototype.Ia.call(this);H4(this.F).C.setTooltipText(this.getElement(),"Add a comment");this.D.isVisible()||H4(this.F).C.setTooltipSuspended(this.getElement(),!0);this.D.Ia();I4(this,this.D,"action",this.H)};function bwh(a,b,c,d){Xx(a.D.getElement(),"docos");H4(a.F).C.setTooltipSuspended(a.getElement(),!1);var e=a.D.H;Xvh(a.D,b,c,d,function(){e!=b&&H4(a.F).C.hide(a.getElement())})}
awh.prototype.hide=function(a){this.D.isVisible()&&H4(this.F).C.setTooltipSuspended(this.getElement(),!0);this.D.hide(a)};awh.prototype.H=function(){this.hide();this.dispatchEvent("create-draft")};function cwh(a,b){B.call(this);this.D=a;this.F=H4(a);this.C=b;this.H=new ly(this);a=V4(this.D);this.H.Bb(a.Ta("docos-edit-reply"),qr,this.ljc).Bb(a.Ta("docos-delete-reply"),qr,this.Vic).Bb(a.Ta("docos-edit-doco"),qr,this.hjc).Bb(a.Ta("docos-edit-draft"),qr,this.kjc)}u(cwh,B);function dwh(a,b,c,d,e,f){return J5(a,w(a.ZZb,a,b,c,d,e,void 0===f?!1:f))}p=cwh.prototype;p.ZZb=function(a,b,c,d,e,f,h){if(ewh(h))return a=Jvh(this.C,a,b,c,d,e),f.Ki.callback(a),a;f.Ki.callback(0);return 0};
p.a_b=function(a,b,c,d,e,f){if(ewh(f)){f=this.C;c=Vnh(Ynh(new O4,c).Nc(""),!1);Jd(sf(d))||c.ad(d);d=Znh(c);c=boh(d);d=uf();var h=Date.now();b=Goh(Doh(S4(Eoh(new Q4(d),f.F.Kg()),b,h),c));b=Tph(f5(Sph(e5(b),a),!1),"smart-todo");Zsh(W4(f.C),b);W4(f.C).flush();C5(f.D,s5(r5(q5(p5(new o5,43023),d),a)));a=j5(W4(f.C),d);e.Ki.callback(a);return a}e.Ki.callback(0);return 0};
p.YZb=function(a,b,c,d,e,f){if(ewh(f)){f=this.C;var h=uf(),k=Date.now();b=S4(Eoh(Aoh(R4(new Q4(h)),k),f.F.Kg()),b,k);d&&Goh(b);c&&(c=Znh(Vnh(Ynh(new O4,c).Nc(""),!1)),c=boh(c),Doh(b,c));a=Tph(Sph(Uph(f5(e5(b),!0),k),a),"discussion");Zsh(W4(f.C),a);W4(f.C).flush();k=W4(f.C).vd(h);a=m5(l5(new k5,43009),k);D5(f.D,n5(a));k=k.Gy();D5(f.D,n5(l5(a,k?43101:43102)));f=j5(W4(f.C),h);e.Ki.callback(f);return f}e.Ki.callback(0);return 0};function fwh(a,b){return J5(a,w(a.$nc,a,b))}
p.kjc=function(a){var b=this,c=a.data;J5(this,w(this.jjc,this,c.Kj,c.text)).addCallback(function(d){d&&c.uJa&&U4(X4(b.D),c.uJa);return d})};p.jjc=function(a,b,c,d){K5(w(this.C.ijc,this.C,a,b),c,d)};p.$nc=function(a,b,c){K5(w(this.C.W1b,this.C,a),b,c)};function gwh(a,b,c,d,e,f,h,k){return J5(a,w(a.Ddb,a,b,c,d,e,f,h,k))}
p.Ddb=function(a,b,c,d,e,f,h,k,l){if(ewh(l)){l=this.C;var n,q;a&&(q=$sh(W4(l.C),a))&&"instant-doco"==q.ot&&(n=31);var t=p5(new o5,43009);null!=q&&q5(t,q.getId());null!=n&&(t.C=n);q&&q.gx()&&a!=b&&ath(W4(l.C),q.getId());a=uf();n=Date.now();q=Eoh(Aoh(R4(new Q4(a)),n),l.F.Kg());c&&S4(q,c,n);d&&(c=(new ynh).setType("text/plain").setValue(d),zj(q.C,9,c));e&&(zoh(q,e),t.J=e);f&&(Doh(q,f),t.D=f);c=Uph(f5(e5(q),!0),n);b&&(Sph(c,b),r5(t,b));h&&(t.C=h);w5(W4(l.C),c);W4(l.C).flush();C5(l.D,s5(t));C5(l.D,s5(p5(t,
e?43096:f?43101:43102)));b=j5(W4(l.C),a);k.Ki.callback(b);return b}k.Ki.callback(0);return 0};p.hjc=function(a){var b=a.data;J5(this,w(this.Nmb,this,b.id,b.text,b.zf)).addCallback(function(c){c||b.jsa.dispatchEvent("c")})};p.Nmb=function(a,b,c,d,e){K5(w(this.C.Mmb,this.C,a,b,c),d,e)};p.Vic=function(a){a=a.data;J5(this,w(this.Uic,this,a.Kj,a.PDa,a.zf)).addCallback(ca())};p.Uic=function(a,b,c,d,e){K5(w(this.C.nib,this.C,a,b,c),d,e)};
p.ljc=function(a){var b=a.data;J5(this,w(this.Pmb,this,b.Kj,b.PDa,b.text,b.zf)).addCallback(function(c){c||b.jsa.dispatchEvent("c")})};p.Pmb=function(a,b,c,d,e,f){K5(w(this.C.Omb,this.C,a,b,c,d),e,f)};p.Edb=function(a,b,c,d,e,f,h){K5(w(this.C.S1b,this.C,a,b,c,d,e),f,h)};p.Tuc=function(a,b,c,d){K5(w(this.C.Z1b,this.C,a,b),c,d)};p.Uuc=function(a,b,c,d,e){K5(w(this.C.$1b,this.C,a,b,c),d,e)};p.Ioc=function(a,b,c,d,e,f){K5(w(this.C.X1b,this.C,a,b,c,d),e,f)};
function K5(a,b,c){ewh(c)?(a(),b.Ki.callback(!0)):b.Ki.callback(!1)}p.jib=function(a,b,c,d,e){K5(w(this.C.T1b,this.C,a,b,c),d,e)};
p.$tc=function(a,b,c){if(ewh(c)){var d=this.C;c=W4(d.C);if(x5(c,a))throw Error("Cannot undo deletion of non-deleted Doco.");var e=c.Ja[a];if(!e)throw Error("Doco with handle "+a+" does not exist.");var f=Coh(R4(new Q4(b5(e),e.getId()))),h=d.H[a];delete d.H[a];a=ge(e.J);d=ge(e.D);for(var k=0;k<h.length;k++){var l=h[k];yoh(f,Coh(R4(new Q4(J((d[l]||a[l]).C,11)||"",l))))}f=f5(e5(f),!0);w5(c,f);c.flush();c=j5(c,e.getId());b.Ki.callback(c);return c}b.Ki.callback(0);return 0};
p.uqc=function(a,b,c,d){K5(w(this.C.Y1b,this.C,a,b),c,d)};p.mib=function(a,b,c){K5(w(this.C.V1b,this.C,a),b,c)};p.lib=function(a,b,c){K5(w(this.C.U1b,this.C,a),b,c)};function hwh(a,b,c,d){return J5(a,w(a.jdb,a,b,c,d))}p.jdb=function(a,b,c,d,e){if(ewh(e)){e=this.C;a=x5(W4(e.C),a);if(Mvh(e,a)){var f=uf();w5(W4(e.C),Nvh(e,a,f,b));c||(c=e.D,b=m5(l5(new k5,b?43027:43028),a),b.J=!0,D5(c,n5(b)));b=j5(W4(e.C),a.getId(),f)}else b=0;d.Ki.callback(b);return b}d.Ki.callback(0);return 0};
p.qIa=function(a,b,c,d){if(ewh(d)){d=this.C;for(var e=[],f=[],h=[],k=0;k<a.length;k++){var l=x5(W4(d.C),a[k]);if(Mvh(d,l)){var n=uf();e.push(Nvh(d,l,n,b));f.push(l.getId());h.push(n)}}Ysh(W4(d.C),e,"c");a=[];for(b=0;b<f.length;b++)a.push(j5(W4(d.C),f[b],h[b]));c.Ki.callback(a);return a}d=[];c.Ki.callback(d);return d};function J5(a,b){var c=new In,d={Ki:c};(a=a.F.Ff)?a(d,b):b(d,"edit-not-intercepted");return c}function ewh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function iwh(a,b){B.call(this);this.C=[];this.F=new fmh(a);this.D=gmh(this.F,"user");this.J=gmh(this.F,"control");this.Jd=new eo(b||50);this.Jd.start();Tn(this.Jd,"tick",this.g6a,!1,this);this.J.Mf("setPeerReady_",w(this.yqc,this))}y(iwh,B);p=iwh.prototype;p.connect=function(a){a&&a()};p.isConnected=m(!0);p.g6a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Jd.stop(),a;}};p.Mf=function(a,b,c){this.D.Mf(a,b,c)};p.rJ=function(a){this.D.rJ(a)};
p.send=function(a,b){this.H?this.D.send(a,b):this.C.push({C0:a,Ql:b})};p.yqc=function(a){a?this.Jd.stop():this.Jd.start();if(!this.H){this.H=!0;this.g6a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.C0,b.Ql)}this.C=null}};p.La=function(){Tf(this.F);Tf(this.Jd);iwh.$a.La.call(this)};function jwh(a){I(this,a,0,-1,null,null)}y(jwh,H);jwh.prototype.ea=function(){var a=new D;kwh(this,a);return Y(a)};function kwh(a,b){var c=J(a,1);null!=c&&b.Ga(1,c);c=J(a,2);null!=c&&b.Ga(2,c)}jwh.prototype.getId=function(){return J(this,1)};jwh.prototype.Nc=function(a){return K(this,1,a)};function lwh(a){I(this,a,"u",-1,mwh,null)}y(lwh,H);var mwh=[1,2];lwh.prototype.ea=function(){var a=new D;var b=yj(this,N4,1);0<b.length&&ej(a,1,b,Hph);b=yj(this,jwh,2);0<b.length&&ej(a,2,b,kwh);return Y(a)};lwh.pe="u";function nwh(a){co.call(this);this.C=a;this.Oa=new $n(this);this.qa(this.Oa);this.Oa.listen(this.C,"u",this.D);this.C.$d(this)}y(nwh,lnh);nwh.prototype.D=function(a){var b=Roh(a.Ql.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new mnh("u",new lwh(b))));a.stopPropagation()};function pnh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&Array.isArray(n[0])&&d(n[0])});a.C.lMa(b,c?c.Cd():void 0,l,e,f,h,k)};function owh(a,b,c){oqe.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.qa(this.C);this.C.rJ(w(this.D,this));this.F=b}y(owh,oqe);owh.prototype.send=function(a,b){za(b)&&(b=tm(b));this.C.send(a,{t:this.F,p:b})};owh.prototype.D=function(a,b){pqe(this,a,b)};owh.prototype.cca=function(a,b,c){b=owh.$a.cca.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?owh.$a.cca.call(this,a,b.p,c):null};function pwh(){co.call(this)}y(pwh,co);function qwh(a,b,c,d,e,f,h){c=void 0===c?[]:c;co.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new Lo;this.qa(this.J);Mo(this.J,this.H.getStatus().D,function(l){l.D.Bk()&&pl(l.C)?k.dispatchEvent(new mnh("r")):l.C.equals(eza)?k.dispatchEvent(new mnh("p")):ql(l.C)&&k.dispatchEvent(new mnh("e"))});this.F=function(l){l&&k.dispatchEvent(new mnh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}u(qwh,pwh);
qwh.prototype.kMa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.pca)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new nMa;var b=this.D.Kg().getId();a.R=b;ALa(a,this.D.qca,this.O,this.D.Rra);this.C=a;this.C.subscribe("9",this.F)}};
qwh.prototype.lMa=function(a,b,c,d,e,f,h){b=b?["p",tm(b)]:[];rwh(this,b,"/docos/p/"+a,c,d,e,f,h)};function rwh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?Tza(b):void 0;c=Yp(a.H.cf(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.Zp();h?sl(c,h):sl(c,3);d&&ul(c,function(n){d(n.Ne())});e&&tl(c,e,f);k&&$p(c,k);null!=a.L&&(c.Sa=a.L);c.Te()}qwh.prototype.La=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());pwh.prototype.La.call(this)};function swh(a,b,c){this.seq=twh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var twh=1;function uwh(a){co.call(this);this.C=a;this.C.Mf("recv",w(this.Ukc,this),!0);this.C.Mf("recvEvt",w(this.Tkc,this),!0);this.D={}}y(uwh,pwh);p=uwh.prototype;p.Ukc=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};p.Tkc=function(a){this.dispatchEvent(new mnh(a.type,a.payload))};p.kMa=function(a){this.C.send("connectBrowserChannel",a.toString())};p.lMa=function(a,b,c,d,e,f,h){a=new swh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};p.La=function(){uwh.$a.La.call(this);delete this.C};function vwh(a){B.call(this);this.F=a;this.D=this.C=null}u(vwh,B);
function wwh(a){if(a.C)return a.C;var b=H4(a.F),c=b.Qra;if(void 0!==c)return c&&(a.C=new nwh(c),a.qa(a.C)),a.C;if(b.hMa){var d=icd();c=new mLa(new L3b,void 0,void 0,void 0,new qJa,void 0,void 0,$Ka(WKa(d)));var e=b.Rra;e&&c.k8(e);var f=b.jMa;f&&vLa(c,f);b.cOa&&vJa(c.D,"anon","true");(f=b.$Xa)&&vJa(c.D,"invite",f);f=null;if(b.pca){f=new nMa;var h=b.Kg().getId();f.R=h;xJa(c.H,f);ALa(f,b.qca,d,e)}b=new qwh(c,!0,["id",b.qca],f,null!=b.J3?b.J3:6E4,b,d);b.qa(c);a.C=new nwh(b);a.qa(a.C);a.qa(b);return a.C}b=
b.j4a;if(!b)throw Error("Peer missing.");c={};d=new fm(window.location.href);(e=om(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new fm(b)).toString());d=icd();b=(new fm(b)).hc("ctoken",d).toString();c.pu=b;a.D=Sm("div");a.D.style.display="none";document.body.appendChild(a.D);b=new yT(c);mre(b,a.D);b.connect();b=new iwh(b);c=gnh(a.F);b=new owh(b,d,c);c=new uwh(b);a.C=new nwh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
vwh.prototype.La=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);B.prototype.La.call(this)};function xwh(a,b){this.C=a;this.F=b}function L5(a,b,c){var d=Date.now();b();b=Date.now()-d;a.F.Oo(c,b)}p=xwh.prototype;p.rAa=function(a,b,c){a=w(this.C.rAa,this.C,a,b,c);L5(this,a,"dvmhd")};p.highlightNext=function(a,b,c){a=w(this.C.highlightNext,this.C,a,b,c);L5(this,a,"dvmhn")};p.highlightPrevious=function(a,b,c){a=w(this.C.highlightPrevious,this.C,a,b,c);L5(this,a,"dvmhp")};p.jN=function(){var a=w(this.C.jN,this.C);L5(this,a,"dvmla")};p.Qz=function(){var a=w(this.C.Qz,this.C);L5(this,a,"dvmfl")};
p.WP=function(a){a=w(this.C.WP,this.C,a);L5(this,a,"dvmadv")};p.X0=function(a){a=w(this.C.X0,this.C,a);L5(this,a,"dvmudv")};p.jU=function(a){a=w(this.C.jU,this.C,a);L5(this,a,"dvmrdv")};p.gk=function(){return this.C.gk()};p.xEa=function(a){this.C.xEa(a)};p.dR=function(){return this.C.dR()};p.Pq=function(){return this.C.Pq()};p.pX=function(){return this.C.pX()};p.qX=function(){return this.C.qX()};p.oa=function(){return this.C.oa()};p.QI=function(){return this.C.QI()};p.Cda=function(){return this.C.Cda()};
p.oma=function(a,b){return this.C.oma(a,b)};p.Fka=function(){this.C.Fka()};p.Dka=function(){this.C.Dka()};p.wW=function(a,b){return this.C.wW(a,b)};p.vK=function(a,b){this.C.vK(a,b)};p.fna=function(a){this.C.fna(a)};p.qAa=function(){return this.C.qAa()};p.eL=function(a){this.C.eL(a)};p.dja=function(a){return this.C.dja(a)};p.Y7=function(){return this.C.Y7()};p.Z7=function(a){this.C.Z7(a)};p.dispose=function(){this.C.dispose()};p.isDisposed=function(){return this.C.isDisposed()};
p.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};p.Pc=function(a,b,c,d){return this.C.Pc(a,b,c,d)};p.Hc=function(a,b,c,d){return this.C.Hc(a,b,c,d)};p.aV=function(a){return this.C.aV(a)};p.dispatchEvent=function(a){return this.C.dispatchEvent(a)};p.eD=function(a){return this.C.eD(a)};p.Tt=function(){return this.C.Tt()};p.XQ=function(a,b,c){return this.C.XQ(a,b,c)};p.KL=function(a,b){return this.C.KL(a,b)};p.lE=function(a,b,c,d){return this.C.lE(a,b,c,d)};
p.hasListener=function(a,b){return this.C.hasListener(a,b)};p.g_=function(){return this.C.g_()||this.C};p.pAa=function(a){this.g_().pAa(a)};p.equals=function(a){return this===a};p.wEa=function(a){this.g_().wEa(a)};xwh.prototype[Jua]=!0;function ywh(a,b){xwh.call(this,a,b);this.D=a}u(ywh,xwh);p=ywh.prototype;p.cja=function(a){a=w(this.D.cja,this.D,a);L5(this,a,"davmddp")};p.X7=function(a){a=w(this.D.X7,this.D,a);L5(this,a,"davmudp")};p.iN=function(a){a=w(this.D.iN,this.D,a);L5(this,a,"davmfdp")};p.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};p.oAa=function(a,b){this.D.oAa(a,b)};function zwh(a){I(this,a,0,-1,Awh,null)}y(zwh,H);var Awh=[1];zwh.prototype.ea=function(){var a=new D;var b=yj(this,N4,1);0<b.length&&ej(a,1,b,Hph);b=J(this,2);null!=b&&$i(a,2,b);b=J(this,3);null!=b&&E(a,3,b);b=J(this,4);null!=b&&$i(a,4,b);b=J(this,5);null!=b&&a.Ga(5,b);b=J(this,6);null!=b&&G(a,6,b);return Y(a)};function Bwh(a){I(this,a,"sr",-1,Cwh,null)}y(Bwh,H);var Cwh=[1];Bwh.prototype.ea=function(){var a=new D;var b=yj(this,N4,1);0<b.length&&ej(a,1,b,Hph);b=J(this,2);null!=b&&$i(a,2,b);b=J(this,3);null!=b&&$i(a,3,b);return Y(a)};Bwh.pe="sr";function Dwh(a,b,c){co.call(this);this.C=a;this.va=b;this.V=c||null;this.Oa=new $n(this);this.qa(this.Oa);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new ly(this);this.qa(this.ma);this.Oa.listen(this.H,"r",this.Skc).listen(this.H,"u",this.Slc).listen(this.H,"e",this.c2b).listen(this.H,"p",this.d2b);this.Oa.listen(W4(a),["dd"],this.b2b).listen(W4(a),"bu",this.a2b)}u(Dwh,co);
function Ewh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return Fwh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new In),a.F="in-progress",Fwh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function Fwh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.ZZa(b))}function Gwh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.xd(null):d.callback(c)}p=Dwh.prototype;
p.ZZa=function(a){for(var b=W4(this.C),c=eth(b),d=[],e=0;e<c.length;e++){d.push(Fj(c[e].F));var f=c[e].getId();pd(b.L,f)}b=new zwh;d=Bj(b,1,d);this.L&&K(d,2,this.L);H4(this.C).qua()&&(b=H4(this.C).qua(),K(d,5,b));pnh(this.H,"sync",d,w(this.Pjc,this),w(this.Ojc,this),!1,a?a:void 0)};p.Ojc=function(){this.O=!1;Gwh(this,!0)};p.c2b=function(){this.dispatchEvent("net-error")};p.d2b=function(){this.dispatchEvent("post-limit-error")};
p.Pjc=function(a){a=new Bwh(a);var b=this.O;this.O=!1;var c=Ha();if(b){var d=M5(this.va,"model-loaded");if(d){var e=(new z4("model-loaded")).build();d(e)}}d=W4(this.C);try{if(Hwh(this,a,b),this.L=J(a,2),hth(d))fo(w(this.ZZa,this));else{var f=Ha()-c;Gwh(this,!1,b?f:void 0);this.V&&this.V.Oo("dscat",f)}}catch(h){throw fo(function(){throw h;}),h;}};
function Hwh(a,b,c){var d=W4(a.C),e=cth(d),f=yj(b,N4,1);b=0<f.length;Iwh(a,f,e);f=fa(eth(d));for(var h=f.next();!h.done;h=f.next())h=h.value,h.zq()&&void 0===h.C.C.getId()&&Jwh(a,h);if(c){f=fa(Object.keys(e));for(h=f.next();!h.done;h=f.next())h=e[h.value],Oph(h)||void 0===h.C.C.getId()&&!h.zq()||(b=!0,w5(d,Qph(h),"n"));H4(a.C).Mz()&&BV(a.C,"subscriptionManager",!0).then(function(k){return Kwh(k)}).then(function(k){jth(W4(a.C),k)})}b&&d.flush(c)}
function Iwh(a,b,c){var d=W4(a.C),e=[];b=fa(b);for(var f=b.next();!f.done;f=b.next()){f=Fj(f.value);var h=M4(f);h=Vsh(d,h.getId(),J(h,11));var k=!0;if(h)a:{var l=a,n=c;k=W4(l.C);var q=M4(f);delete n[h.getId()];n=h.getId();if(hd(k.L,n))k=!1;else{n=h.getId();if(hd(k.Na,n)){if(h.zq()){Jwh(l,h);k=!1;break a}l=h.getId();pd(k.Na,l)}K(f,9,!1);K(q,12,!1);void 0===J(q,13)&&K(q,13,0);k=q;h=ge(h.D);q=fa(K4(k));for(l=q.next();!l.done;l=q.next())l=l.value,K(l,12,!1),void 0===J(l,13)&&K(l,13,0),delete h[l.getId()||
""],delete h[J(l,11)||""];q=[];l=fa(Object.keys(h));for(n=l.next();!n.done;n=l.next())q.push(Lwh(Fj(h[n.value].C)));h=K4(k);Bj(k,8,rd(h,q));k=!0}}k&&e.push(new Rph(f))}Ysh(d,e,"n")}function Jwh(a,b){a=W4(a.C);var c=Fj(b.F),d=M4(c);K(c,9,!1);K(d,12,!1);b=b.getId();pd(a.L,b);w5(a,new Rph(c),"n")}function Lwh(a){var b=Ha();K(a,13,b);K(a,12,!1);return a}p.Skc=function(){var a=12E4*Math.random();null!==this.R&&go(this.R);this.R=fo(function(){Ewh(this,H4(this.C).uha?1:void 0)},a,this)};
p.Slc=function(a){if(a.Ql){var b=a.Ql;a=W4(this.C);var c=0;b=yj(b,N4,1);b=fa(b);for(var d=b.next();!d.done;d=b.next()){d=Fj(d.value);var e=M4(d);e=Vsh(a,e.getId(),J(e,11));e&&e.FS()||(w5(a,new Rph(d),"n"),c++)}0<c&&W4(this.C).flush()}};p.b2b=function(a){"n"!=a.getSource()&&Ush(W4(this.C))&&Ewh(this)};p.a2b=function(a){"n"!=a.source&&Ush(W4(this.C))&&Ewh(this)};p.La=function(){co.prototype.La.call(this);delete this.C;delete this.Oa;delete this.ma};function Mwh(a,b,c){B.call(this);this.H=a;this.D=b;this.F=c;this.Oa=new $n(this);this.qa(this.Oa);this.C=null;this.O=!1;this.J=null}u(Mwh,B);function Nwh(a){if(!amh(a.H,"netIo"))return!1;a.C=new Dwh(a.H,a.F,a.D.R||void 0);a.qa(a.C);a.Oa.listen(a.C,"net-error",a.V);a.Oa.listen(a.C,"post-limit-error",a.R);return!0}Mwh.prototype.V=function(){Owh(this.F,"fe")};Mwh.prototype.R=function(){Owh(this.F,"p")};function Pwh(a){a.O=!0;a.J=Ha();Ewh(a.C,a.D.FD?1:void 0).addCallback(a.L,a).Bg(a.ma,a)}
function Qwh(a){if(Voh(a.D)){var b=a.C.D;b?b.addCallback(function(){return Rwh(a)}):Rwh(a)}}Mwh.prototype.L=function(a){var b=this.D.R;b&&b.SEa(dth(W4(this.H)).C.clone().ub());if(b=M5(this.F,"sync-success")){var c=(new z4("sync-success")).build();b(c)}(b=M5(this.F,"initial-anchored-render-done"))&&null!==a&&b(new Zuh("initial-anchored-render-done",a));(a=M5(this.F,"initial-sync-and-render-complete"))&&a(new Zuh("initial-sync-and-render-complete",Ha()-this.J));Owh(this.F,"s");Owh(this.F,"r")};
Mwh.prototype.ma=function(){var a=M5(this.F,"sync-error");if(a){var b=(new z4("sync-error")).build();a(b)}Owh(this.F,"e")};function Rwh(a){a.C.L=null;Ewh(a.C,a.D.uha?1:void 0)};function Swh(){}Swh.prototype.C=function(a,b){return b?b.v2?["Action item created"]:["Comment created"]:[]};Swh.prototype.D=m(0);function Twh(){}Twh.prototype.C=function(){return["Reply added"]};Twh.prototype.D=m(0);function Uwh(a){var b=a.Wdb,c=a.yZb,d=a.Mhc;a=R;var e='<div class="'+S("docos-notificationdialog-content")+'">',f='<div class="'+S("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(S(b)+'" class="'+S("docos-notificationdialog-control")+'"/><label for="'+S(b)+'" class="'+S("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(S(c)+'" class="'+S("docos-notificationdialog-control")+'"/><label for="'+S(c)+'" class="'+S("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(S(d)+'" class="'+S("docos-notificationdialog-control")+'"/><label for="'+S(d)+'" class="'+S("docos-notificationdialog-label")+'">');b=R(f+"Nothing</label></div>");b=e+b;c='<a class="'+S("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=R(c+"Help</a>");return a(b+c+"</div>")};function Vwh(a){GV.call(this);this.V=a;this.Ra=H4(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}u(Vwh,GV);p=Vwh.prototype;
p.Ba=function(){GV.prototype.Ba.call(this);bw(uw(this),"docos");var a=Fa(uw(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;yv(this.yb(),Uwh,{Wdb:this.O,yZb:this.R,Mhc:this.ma});Qw(this,"ok");a=this.Ra.gb;null!==a&&(Hu(this.vq(),"z-index",a),Hu(uw(this),"z-index",a+1))};
p.Ia=function(){GV.prototype.Ia.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.Ca=Hw(this.D,"ok");Tn(this.F,"click",w(this.vGa,this));Tn(this.H,"click",w(this.vGa,this));Tn(this.L,"click",w(this.vGa,this))};
p.update=function(){this.Ca.disabled=!0;Kwh(mph(this.V)).then(function(a){for(var b=fa(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};p.aEa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}Wwh(mph(this.V),a)};p.vGa=function(){var a=this;Kwh(mph(this.V)).then(function(b){for(var c=!0,d=fa(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.Ca.disabled=!c},void 0,this)};
p.Dd=function(){Zn(this.F);Zn(this.H);Zn(this.L)};p.La=function(){GV.prototype.La.call(this);delete this.Ca;delete this.F;delete this.H;delete this.L};function Xwh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}pa("docos.api.StorageUpdate",Xwh,void 0);function Ywh(a,b){if(a){b||a.unshift(void 0);Zwh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),$wh(c[2],b),Ywh(c[3],b),b&&c.shift());b&&a.shift()}}function $wh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function Zwh(a,b){if(a){b||a.unshift(void 0);$wh(a[3],b);$wh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)Zwh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function axh(a){B.call(this);this.D=a;this.C=H4(a).Cc;this.H=[];this.F=[];H4(a).ud||(this.Oa=new $n(this),this.qa(this.Oa),this.Oa.listen(W4(a),["f","dd"],this.bjb).listen(W4(a),"bu",this.ajb))}y(axh,B);p=axh.prototype;p.bjb=function(a){if("o"!=a.getSource()&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=sd(this.H);var b=sd(this.F);this.C.U9a(a,b,w(this.uYb,this,a),w(this.sYb,this,b));this.H=[];this.F=[]}}else bxh(this,a.type,a.C,a.L)};
p.ajb=function(a){if("o"!=a.source&&this.C)for(var b=fa(a.C),c=b.next();!c.done;c=b.next())c=c.value,bxh(this,a.type,c.Kj,c.C)};function bxh(a,b,c,d){if(c){var e;"bu"==b?e=W4(a.D).vd(c):e=W4(a.D).F[c];(b=e)&&b.zq()&&void 0===b.C.C.getId()?a.F.push(c):b&&!Oph(b)&&(e=Fj(b.F).Cd(),e=he(e),Ywh(e,!1),b=new Xwh(c,e,b.FS()),a.H.push(b),d&&d!=c&&a.F.push(d))}}p.uYb=function(a){for(var b=0;b<a.length;b++);};
p.sYb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);cxh(this,d,c)};p.ZKb=function(a,b){if(0<b.length){for(var c=W4(this.D),d=0;d<b.length;d++){var e=he(b[d]);Ywh(e,!0);e=new N4(e);w5(c,new Rph(e),"o")}c.flush(!0)}a()};p.YKb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);cxh(this,d,c);a()};
function cxh(a,b,c){if(a=gnh(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}p.La=function(){axh.$a.La.call(this);delete this.D;delete this.Oa;delete this.C};function dxh(a,b){var c=new Buf(new puf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));Duf(c,b);b=c.D;a=null!=J(a.jh,50)?J(a.jh,50):4;K(b,5,exh(a));return Sxf(c)}function exh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function fxh(a,b){this.F=a;this.D=b;this.H=H4(this.D);this.C=null};function gxh(a){this.F=a}gxh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.vd(b.C))?$4(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};gxh.prototype.D=m(0);function hxh(a,b){this.F=a;this.H=W4(this.F);this.J=b}hxh.prototype.C=function(a,b){var c=this.H.vd(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.gx())return["Draft comment"];b=[];c=c5(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Bj()){var h=this.J;var k=f.x5();null==k?h="":(h=h(k).C(),h=null==h?"":exd(h,Uwd.getInstance()))}else h=f.Bw();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(F4(f.bt())+(" on "+a.format(voh(f)))));b.push(h+f)}return b};
hxh.prototype.D=m(0);function ixh(a){a=a||{};var b=a.Yoc,c=a.Zoc,d=a.Ofb,e=a.Nfb;a=a.aib;if(Fv(d)||Fv(c)){var f;Fv(a)&&Fv(c)?f='<a href="'+S(Jv(c))+'" title="'+S(b)+'" target="_blank">'+Q(a)+"</a>":a?f=Q(a):f="";b='<div class="'+S("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+S(e)+" built at...":"No CL #")+'">'+Q(d)+"</span>":"")+" "+f+"</div>"}else b="";return R(b)};function jxh(a,b){P.call(this,b);this.C=a}u(jxh,P);jxh.prototype.Ba=function(){this.pb(Av(ixh,{Nfb:J(this.C,4),Ofb:this.C.qj(),aib:J(this.C,5),Yoc:J(this.C,2),Zoc:J(this.C,1)},void 0,this.oa()))};function kxh(a,b,c,d,e){B5.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];H4(a).Sc&&(c=c.concat(["link"]));this.L=new hqh(a,b,d,"docos-actionmenu",c);this.Ha(this.L);this.Ha(this.F);puh(this);this.Ja+=" docos-streamdocoview-input-pane";this.Gb="Discard reply";this.Aa=this.V=this.Na=this.Sa=this.Ra=this.Ca=null}u(kxh,B5);p=kxh.prototype;
p.Ba=function(){B5.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Ca=a.eb("docos-streamdocoview-inputcontainer",b);this.Ra=a.eb("docos-streamdocoview-reopen-control",b);this.Sa=a.eb("docos-streamdocoview-resolve-control",b);this.L.Wa(a.eb("docos-actionmenu-outer",b));Yv(this.L.F.Ka(),"More options");this.Na=a.eb("docos-author",b);this.V=WU(a,"IMG","docos-streamdocoview-avatar",b);this.Aa=WU(a,"IMG","docos-streamreplyview-avatar",this.Ca);a=this.oa();b=this.getElement();var c=a.eb("docos-docoview-comment",
b);c&&(H4(this.getContext()).C.setTooltipText(c,"Reply to this comment"),Yv(c,"Reply to this comment"));if(c=a.eb("docos-docoview-resolve",b))H4(this.getContext()).C.setTooltipText(c,"Mark as resolved and hide discussion"),Yv(c,"Mark as resolved and hide discussion");if(a=a.eb("docos-docoview-reopen",b))H4(this.getContext()).C.setTooltipText(a,"Mark as open and return discussion to the document view"),Yv(a,"Mark as open and return discussion to the document view")};
p.Ia=function(){B5.prototype.Ia.call(this);lxh(this);var a=this.getElement();this.D.va=a;I4(I4(I4(I4(this,this.L,"d",this.G7a),this.L,"e",this.fjc),this.L,"r",this.Xkc),this.L,"ra",this.Okc);a=this.vd().bt();mxh(this,a);nxh(this,a);a=H4(this.getContext()).Kg();iph(X4(this.getContext()),this.Aa,a.D,F4(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Aa&&this.C.C.setTooltipText(this.Aa,a)};p.Nc=function(a){B5.prototype.Nc.call(this,a);this.L&&jqh(this.L,a)};p.Ak=m(!1);
p.update=function(){B5.prototype.update.call(this);var a=this.vd().bt();mxh(this,a);nxh(this,a);this.L.update();lxh(this);this.Ca&&(a=!be(this.H)||u5(this.D)||this.Vk(),O(this.Ca,a))};function mxh(a,b){var c=X4(a.getContext()),d=b.D;a.V&&Eth(b,a.vd().getOrigin())&&(d=eph(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.setTooltipText(a.V,"Author from imported document"));iph(c,a.V,d,F4(b))}
function nxh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Na&&a.C.C.setTooltipText(a.Na,c),a.V&&a.C.C.setTooltipText(a.V,c))}function lxh(a){var b=a.vd();a.Ra&&O(a.Ra,b.isResolved());a.Sa&&O(a.Sa,!b.isResolved())}p.l3a=function(a){var b=this.getElement();a=a.target;aw(a,"docos-docoview-comment")&&b?this.D.ready():aw(a,"docos-docoview-resolve")&&b?oxh(this):aw(a,"docos-docoview-reopen")&&b&&wuh(this)};p.fjc=function(){huh(this.F)};p.Xkc=function(){this.vd().isResolved()?wuh(this):oxh(this)};
p.Okc=function(a){this.dispatchEvent(new Bph("ra",this.vd().getId()));a.stopPropagation()};function oxh(a){var b=V4(a.getContext());a.dispatchEvent("br");var c=new bqh(a.getId(),!0,u5(a.D)?a.D.getValue():null,105);b.vf("docos-resolve-doco").qb(c);a.dispatchEvent("ar")}p.Dd=function(){B5.prototype.Dd.call(this);var a=X4(this.getContext());U4(a,this.V);U4(a,this.Aa)};p.La=function(){B5.prototype.La.call(this);delete this.L;delete this.Na;delete this.V;delete this.Aa;delete this.Ca;delete this.Ra;delete this.Sa};function pxh(a,b,c,d){this.C=a;this.H=b;this.hb=c;this.D=d}pxh.prototype.F=function(a){a=W4(this.C).vd(a);var b=this.H.gk().getId();switch(a.getNewDocoType()){case "draft":return new Kuh(this.C,a.getId(),b,a5(a),this.hb,this.D);default:return new kxh(this.C,a.getId(),b,this.hb,this.D)}};function qxh(a,b){g5.call(this,a,b)}u(qxh,g5);p=qxh.prototype;p.z5=function(){return"none"!=H4(this.getContext()).jb};p.gra=function(a){return(new pxh(this.getContext(),this,this.oa(),this)).F(a.getId())};
p.wW=function(a,b){a=a.vd();b=b.vd();if(!a||!b)throw Error("Doco view missing doco.");var c=h5(this).jb;h5(this).Kg().getEmail();switch(c){case "creation":c=b.xu().getTime()-a.xu().getTime();break;case "priority":c=a.isResolved()||a.Bj()&&!!Vmh(a);var d=b.isResolved()||b.Bj()&&!!Vmh(a);(c=(c?1:0)-(d?1:0))||(a.isResolved()&&b.isResolved()?c=0:(d=$4(a),c=$4(b),d=anh(d,h5(this))?1:0,c=(anh(c,h5(this))?1:0)-d));c=c||rxh(this,a,b)||b.uH().getTime()-a.uH().getTime();break;default:c=b.uH().getTime()-a.uH().getTime()}return c||
(a.getId()<b.getId()?-1:b.getId()<a.getId()?1:0)};function rxh(a,b,c){a=h5(a).Kg().getEmail();var d=new Set,e=new Set;c5(b,!0).forEach(function(f){Lph(Kph,f.Bw()).forEach(function(h){d.add(h)})});c5(c,!0).forEach(function(f){Lph(Kph,f.Bw()).forEach(function(h){e.add(h)})});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
p.WP=function(a){var b=this.gk(),c=this.gra(a),d=0;this.z5()&&(d=this.tea(c));b.If(c,d,!0);c.update();if(c=b=this.Cda())b.C!=a.getId()?c=!1:(c=a.Hy()?a5(a):void 0,d=H4(this.getContext()).Eb,d=null!=c&&d(c),c=null==c||a.isResolved()||!!Vmh(a)||d);c&&(b=D4(Zmh(C4(B4(a.getId()),this.QI()),b.D)),Vph(this,b,a))};p.jU=function(a){this.gk().Ic(a)&&(a=this.gk().removeChild(a),Tf(a))};p.X0=function(a){if(this.z5()){var b=this.gk();if(a=b.Ic(a)){var c=lv(b,a),d=this.tea(a);c!=d&&b.If(a,d)}}};
p.Fka=function(){Wph(this,!0,!0)};p.Dka=function(){if(this.H&&this.Pq()){var a=this.Pq(),b=V4(this.getContext());if(this.QI()){var c=C4(B4(a),this.QI());c.D=!0;c=D4(c);b.vf("docos-before-highlight-doco").qb(c);i5(W4(this.getContext()),a);b.vf("docos-highlight-doco").qb(c)}else i5(W4(this.getContext()),a)}};p.jN=function(){Zph(this)};function sxh(a){this.Tqc=a;return this}u(sxh,w4);sxh.prototype.shouldOverrideHide=g("Tqc");sxh.prototype.shouldOverrideHide=sxh.prototype.shouldOverrideHide;function txh(a){az.call(this,a);this.Qi("back-to-document",[85]);this.Qi("next-doco",[74]);this.Qi("prev-doco",[75]);this.Qi("prev-anch",[75,1]);this.Qi("next-anch",[74,1]);this.Qi("resolve",[69]);this.Qi("reopen",[69,1]);this.Qi("reply",[82]);this.Qi("speak-comment",Dr(["A","C"]));this.addEventListener("shortcut",this.Ca)}u(txh,az);txh.prototype.Ca=function(a){this.dispatchEvent(a.identifier)};function uxh(a){B.call(this);this.C=[];this.D=!1;this.F=new Fp;this.H=a?!1:!0}u(uxh,B);uxh.prototype.start=function(){this.H=!0;vxh(this)};function vxh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Gk(w(a.J,a)))}uxh.prototype.J=function(){this.C.shift()();this.D=!1;vxh(this)};uxh.prototype.La=function(){this.F.dispose();B.prototype.La.call(this)};function wxh(){return R('<div class="'+S("docos-spinner")+'" dir="ltr"><div class="'+S("docos-quantum-spinner")+" "+S("active")+'">'+xxh({Lq:"spinner-blue"})+xxh({Lq:"spinner-red"})+xxh({Lq:"spinner-yellow"})+xxh({Lq:"spinner-green"})+"</div></div>")}
function xxh(a){a=a.Lq;return R('<div class="'+S("spinner-layer")+" "+S(a)+'"><div class="'+S("spinner-circle-clipper")+" "+S("spinner-left")+'"><div class="'+S("spinner-circle")+" "+S("spinner-fit")+'"></div></div><div class="'+S("spinner-gap-patch")+'"><div class="'+S("spinner-circle")+" "+S("spinner-fit")+'"></div></div><div class="'+S("spinner-circle-clipper")+" "+S("spinner-right")+'"><div class="'+S("spinner-circle")+" "+S("spinner-fit")+'"></div></div></div>')};function yxh(a,b){G4.call(this,a,b);this.D=null}u(yxh,G4);yxh.prototype.Ba=function(){var a=this.oa();this.D=Av(wxh,{},void 0,a);this.pb(this.D)};yxh.prototype.hide=function(){this.D.parentElement.removeChild(this.D)};yxh.prototype.La=function(){delete this.D};function zxh(a,b,c,d){this.D=a;this.H=b;this.C=c||null;this.F=d||null};function Axh(a,b){$n.call(this);this.R=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=V4(this.R);this.eh=null;this.V=new az(this.C.oa().Jb());this.V.Qi("blur",27);this.ma=new ly(this);this.qa(this.ma);this.ma.Bb(this.J.Ta("docos-new-doco"),qr,this.J1b).Bb(this.J.Ta("docos-highlight-doco"),qr,this.I1b);this.listen(this.C,"bd",this.H1b).listen(this.C,"br",this.K1b)}u(Axh,$n);
function Bxh(a){0==a.D&&0<a.C.tc()&&(a.D=Cxh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.tc();c++)Cxh(a,c)==a.D&&(b=c);Dxh(a);N5(a.C,!1);b=a.C.Dc(b).getId();b=new Wmh(b,a.C.getId());a.J.vf("docos-before-highlight-doco").qb(b);a.J.vf("docos-highlight-doco").qb(b)}}function Dxh(a){a.eh||(a.eh=new lw(a.C.oa().Jb()),a.qa(a.eh));a.listen(a.eh,"focusin",a.A3a).listen(a.V,"shortcut",a.yUa)}p=Axh.prototype;
p.A3a=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,Exh(this,!0),N5(this.C,!0),this.Hc(this.eh,"focusin",this.A3a).Hc(this.V,"shortcut",this.yUa),a=A4(),this.J.vf("docos-before-highlight-doco").qb(a),this.J.vf("docos-highlight-doco").qb(a))};p.yUa=function(){N5(this.C,!1);Exh(this,!1)};
p.I1b=function(a){var b=a.data;if(a=b.C)if(a=this.C.Ic(a)){if(this.D=j5(W4(this.R),b.C),b.D==this.C.getId()){Dxh(this);Exh(this,!1);a instanceof yuh&&(a.Jh(!0),Duh(a,!0));N5(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof yuh)a:if(puh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.R.focus();else{b=c5(a.vd(),!1);for(var c=b.length-1;0<=c;c--)if(luh(a.H[b[c].getId()]))break a;luh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,N5(this.C,!0),Exh(this,!0)};
p.J1b=function(a){a=a.data;var b=x5(W4(this.R),a.Gp);if(b){for(var c=0;c<this.C.tc();c++)if(b.getId()==this.C.Dc(c).getId()){this.D=a.Gp;break}this.F=!0;N5(this.C,!1,!0);Exh(this,!1)}};p.H1b=function(){Fxh(this)};p.K1b=function(){W4(this.R).va||Fxh(this)};function Fxh(a){if(1==a.C.tc())a.D=0,N5(a.C,!1);else{for(var b=0,c=0;c<a.C.tc();c++)if(Cxh(a,c)==a.D){b=c;break}b==a.C.tc()-1?b--:b++;a.D=Cxh(a,b);a.F=!0;N5(a.C,!1,!0);Exh(a,!1)}}
function Exh(a,b){for(var c=W8a(a.C),d=0;d<c.length;d++){var e=a.C.Ic(c[d]);e instanceof yuh&&(e.Jh(b),Duh(e,b))}}function Cxh(a,b){return j5(W4(a.R),a.C.Dc(b).getId())};function Gxh(a,b,c,d){G4.call(this,a,d);this.Ja=c;this.context=a;this.D=b;this.D.xEa(this);this.O={};this.L=[];this.H=[];this.ma=!1;this.Aa=this.F=this.R=null;this.Ca=new ly(this);this.qa(this.Ca);a=W4(this.context);this.getHandler().listen(a,"bu",this.tic).listen(a,"dd",this.Wic).listen(a,"f",this.ujc).listen(a,"sd",this.blc).listen(a,"ud",this.Plc).listen(b,"rv",this.goc).listen(this,"ra",this.Mkc).listen(this,"sd",this.tlc).listen(this,"sr",this.ulc).listen(this,"sn",this.clc).listen(this,"sp",
this.dlc).listen(this,"bd",this.vic).listen(this,"ar",this.fic).listen(this,"ph",this.Njc);inh(this)}u(Gxh,G4);p=Gxh.prototype;
p.Ia=function(){G4.prototype.Ia.call(this);Xx(this.getElement(),"docos");cw(this.getElement(),["docos","docos-stream-view"]);Tv(this.getElement(),"list");Woh(this.C)?bw(this.getElement(),"docos-stream-view-height"):(bw(this.getElement(),"docos-stream-view-legacy"),bw(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&bw(this.getElement(),"docs-gm");cw(this.yb(),this.D.dR());this.getHandler().listen(this,"rd",this.F2b);var a=V4(this.context);this.Ca.Bb(a.Ta("docos-highlight-doco"),
qr,this.Jka);H4(this.context).zb&&aw(this.getElement(),"docos-layout-vertical")&&(this.R=new Axh(this.context,this),this.F=this.kb.createElement("DIV"),bw(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.Qy).listen(this.F,"focus",this.flc),Hxh(this).appendChild(this.F),this.Aa=new Rz);this.wIa()};p.d_a=m(!0);p.Mba=function(){this.D.jN();Ixh(this);this.D.eL(!0);this.dispatchEvent("ail")};p.Qy=function(){Bxh(this.R)};p.flc=function(){var a=this.R;a.H=!0;Bxh(a)};
p.wIa=function(){var a=W4(this.context);if(Ud(a.C)){this.D.eL(!1);a=ge(a.C);for(var b in a)Jxh(this,b);this.D.vK();this.Mba()}};p.lB=function(a,b){for(var c=this.tc()-1;0<=c;--c){var d=this.Dc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.lB()}};
p.Jka=function(a){var b=a.data;a=b.C;var c=b.D;b=b.H;if(!this.context.ma&&this.D.oma(a,c)){if(this.Aa&&a&&this.D.Pq()!=a){var d=this.tc();d="Comment "+(lv(this,this.Ic(a))+1+(" of "+(d+" ")));Sz(this.Aa,d)}this.dispatchEvent("us");this.D.rAa(a,c,b);Ixh(this);this.dispatchEvent("ud")}};p.tic=function(a){a=fa(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.Kj;c=c.C;b&&(W4(this.context).vd(b),(c=this.Ic(b)||c&&this.Ic(c))?(c.getId()!=b&&c.Nc(b),this.L.push(b)):this.O[b]=!0)}};p.Wic=function(a){this.H.push(a.C)};
function Ixh(a){a.ma||a.D.Qz()}p.ujc=function(a){this.D.eL(!a.F);this.ma=!0;for(var b=0;b<this.H.length;++b)Kxh(this,this.H[b]);for(var c in this.O)Jxh(this,c);be(this.O)||this.D.vK();for(b=0;b<this.L.length;++b)Lxh(this,this.L[b]);this.O={};this.L.length=0;this.H.length=0;a.F&&this.D.jN();this.D.Qz();this.ma=!1;this.D.eL(!0)};p.F2b=function(a){this.Ic(a.Kj)&&(this.D.X0(a.Kj),Ixh(this))};p.blc=function(a){a.C&&this.Ic(a.C)&&this.D.fna(a.C)};p.Plc=function(a){a.C&&this.Ic(a.C)&&this.D.fna(a.C)};
p.Mkc=function(a){var b=W4(this.context).vd(a.Kj);if(a=H4(this.context).H.reanchor)b=a5(b),b=Smh("reanchor").addAnchorId(b).build(),a(b),this.context.ma=!0};p.tlc=function(a){var b={text:a.C,Tm:a.Tm,Gp:a.Gp,ljb:a.Tm,v2:a.v2};a.Tm&&H4(this.context).$c&&(b.quote=(0,H4(this.context).$c)(a.Tm));a.Tm&&H4(this.context).Sa&&(b.Tm=(0,H4(this.context).Sa)(a.Tm));0==a.Ak&&(b.zf=105);V4(this.context).vf("docos-new-doco").qb(b)};
p.ulc=function(a){var b=W4(this.context).vd(a.Kj);if(!b)throw Error(a.Kj+" not contained within appropriate stream.");var c=V4(this.context),d=0==a.Ak?105:null;b.isResolved()?c.vf("docos-resolve-doco").qb(new bqh(a.Kj,!1,a.C,d)):c.vf("docos-new-reply").qb(new zxh(a.Kj,a.C,a.v2,d))};p.clc=function(){this.D.highlightNext()};p.dlc=function(){this.D.highlightPrevious()};p.vic=function(){this.D.Fka()};p.fic=function(){this.D.Dka()};
function Jxh(a,b){var c=W4(a.context).vd(b);c&&a.Ja(c)&&!a.Ic(b)&&(a.dispatchEvent("us"),a.D.WP(c),a.dispatchEvent("ud"),a.R&&N5(a,!0))}function Lxh(a,b){a.dispatchEvent("us");var c=a.Ic(b);if(c){var d=W4(a.context).vd(b);d&&a.Ja(d)?(c.update(),a.D.X0(b)):Kxh(a,b)}a.dispatchEvent("ud")}function Kxh(a,b){b&&(a.dispatchEvent("us"),a.D.jU(b),a.dispatchEvent("ud"))}p.goc=function(a){for(var b=a.gMa.length,c=0;c<b;++c)Kxh(this,a.gMa[c])};function Hxh(a){return(a=a.getElement())?a.parentElement:null}
function N5(a,b,c){if(!b&&!c||0!=a.tc())a.oa().Hi(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Hi(a.F,b))}p.La=function(){G4.prototype.La.call(this);delete this.Ca};p.Njc=function(){var a=this.D.qX();null==a||a.isDisposed()||(a.update(),a.focus())};function Mxh(a,b,c,d){Gxh.call(this,a,b,c,d);this.Na=new uxh;this.J=[];this.Qa=new yxh(a,d);this.va=!1;this.V=null}u(Mxh,Gxh);p=Mxh.prototype;p.d_a=g("va");p.Mba=function(){Gxh.prototype.Mba.call(this);this.Qa.hide();this.va=!0;this.V&&this.Jka(this.V)};p.AIa=function(){for(var a=0;0<this.J.length&&50>a;){var b=this.J.shift();this.Ic(b)||(Jxh(this,b),a++)}0==this.J.length?this.Mba():(a=this.Na,b=w(this.AIa,this),a.C.push(b),vxh(a))};
p.wIa=function(){var a=W4(this.context);if(Ud(a.C)){this.Qa.render(Hxh(this));this.D.eL(!1);a=ge(a.C);for(var b in a)this.J.push(b);b=this.Na;a=w(this.AIa,this);b.C.push(a);vxh(b)}};p.Jka=function(a){this.va?Gxh.prototype.Jka.call(this,a):this.V=a};function Nxh(a,b){G4.call(this,a,b);this.Vc=new Kx(b);this.F=a;for(var c in Nsh){a=Nsh[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new WT(d,a,b);this.Vc.Ha(a,!0)}this.D=new Qx("",this.Vc,pG.getInstance(),b);Rx(this.D,new Wbb(null,9));this.D.vO=!0;this.Ha(this.D)}u(Nxh,G4);p=Nxh.prototype;
p.Ia=function(){G4.prototype.Ia.call(this);var a=this.oa(),b=a.eb("docos-ns-caption",this.getElement());a=a.eb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().He(a,"Notifications");b=H4(this.F).C;b.setTooltipText(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Vc.tc();a++){var c=this.Vc.Dc(a),d=c.getElement();a:{switch(c.Ua()){case "all":c="Get notifications for every comment.";break a;case "important":c=
"Only get notifications for comments that involve you.";break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.setTooltipText(d,c)}I4(this,this.D,"action",this.O2b);I4(this,this.C,"r",this.sAa);I4(this,this.getElement(),"keyup",this.dob);I4(this,this.Vc,"show",this.N2b);I4(this,this.Vc,"hide",this.M2b);this.sAa()};p.N2b=function(){0<this.Vc.tc()&&this.Vc.Qh(0)};p.M2b=function(a){a.stopPropagation()};
p.dob=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};p.O2b=function(a){var b=this,c=a.target.Ua(),d=mph(this.F);Kwh(d).then(function(e){if(e!==c){Wwh(d,c);var f=H4(b.F).Ja;if(f)switch(c){case "all":f(43108);case "important":f(43109);case "none":f(43110)}b.C.Mz()&&jth(W4(b.F),c,e)}b.sAa()});a.stopPropagation()};
p.sAa=function(){var a=this;!this.C.L&&this.C.ZK()?Kwh(mph(this.F)).then(function(b){for(var c=0;c<a.Vc.tc();++c){var d=a.Vc.Dc(c);d.Lb(d.Ua()==b)}b=!a.C.L&&a.C.ZK();a.D.Pa(b)},void 0,this):this.D.Pa(!1)};function Oxh(a,b){var c=a.ZK,d=a.Ahc,e=a.afb,f=a.$eb,h=a.Xn,k=a.X3,l=a.Mz,n='<div class="'+S("docos")+" "+S("docos-streampane-container")+'" role="dialog" aria-label="';n+=Iv("Comment history box.");var q='"><div class="'+S("docos-streampane-content")+'">';d?(b='<div class="'+S("docos-streampane-header")+'"><div class="'+S("docos-new-comment-button")+'">',a=a={Xn:h},d="",a.Xn?(d+='<div class="'+S("docos-ns-caption")+'">'+R('<svg class="'+S("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+S("docos-ns-caption-text")+'">',d+="Comment</div></div>"):(d+='<div class="'+S("docs-material")+'">'+Q(rph({oi:"docos-icon-add-comment",mC:"docos-icon-add-comment-size",Ie:"docos-new-comment-icon",KS:!0})),d+="Comment</div>"),a=R(d),b=b+Q(a)+"</div>",c?(c='<div class="'+S("docos-notification-settings")+'">',h=h={Xn:h},h=h.Xn,h=R('<div class="'+S("docos-ns-caption")+'">'+(h?R('<svg class="'+S("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
Q(rph({oi:"docos-icon-bell",mC:"docos-icon-bell-size",Ie:"docos-ns-caption-icon"})))+'<div class="'+S("docos-ns-caption-text")+'"><div class="'+S("docos-ns-caption-text-value")+'"></div></div></div>'),h=c+Q(h)+"</div>"):h="",k=b+h+(k?'<div class="'+S("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=a.ED,k=a.ZK,c=a.oD,a=a.tv,h='<div class="'+S("docos-streampane-entryarea")+" "+S("hide-on-readonly")+'">'+Q(uph({size:48,Ie:"docos-streampane-avatar"}))+'<div class="'+S("docos-streampane-entryarea-content")+
'"><div class="'+S("docos-streampane-username")+" "+S("goog-inline-block")+'">'+Q(h)+"</div>"+Q(zph({Ie:"docos-streampane-input-pane",csc:!0,oD:c,tv:a},b)),k&&(h+='<div class="'+S("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=R(h+"</div></div>"));n+=q+k;e&&(n+='<div class="'+S("docos-streampane-bannertext")+'">'+Q(e),f&&(n+='<a target="_blank" rel="noreferrer" href="'+S(Jv(f))+'" class="'+S("docos-streampane-bannerlink")+'">',n+="Learn more</a>"),n+="</div>");n+='<div class="'+
S("docos-streampane-readonlytext")+" "+S("show-on-readonly")+" "+S("goog-inline-block")+'">';n=n+"You do not have permission to add comments.</div>"+((l?'<div class="'+S("docos-streampane-submit-feedback-container")+'"></div>':"")+"</div></div>");return R(n)}function Pxh(a){a=a.message;return R('<div class="'+S("docos-streampane-error")+'">'+Q(a)+"</div>")};function Qxh(a){this.C=a}y(Qxh,w4);pa("docos.api.ToggleShowStreamPaneArgs",Qxh,void 0);Qxh.prototype.getDisplay=g("C");Qxh.prototype.getDisplay=Qxh.prototype.getDisplay;function Rxh(a,b,c,d){G4.call(this,a,b);var e=this;this.F=new qxh(a,b);this.qa(this.F);this.D=c?new Mxh(a,this.F,bfa(Nph),b):new Gxh(a,this.F,bfa(Nph),b);this.Ha(this.D);this.L=a;this.Sa=null;this.bb=!!d;this.J=kj(this.C.jh,30)?null:new csh(a,b);null!=this.J&&(this.qa(this.J),this.Ha(this.J),this.J.ma="Add a comment");this.Qa=kj(this.C.jh,30)&&this.C.ZK()&&!this.C.ma?new Nxh(a,b):null;null!=this.Qa&&this.Ha(this.Qa);this.ma=this.C.X3()?new JT(b):null;null!=this.ma&&this.Ha(this.ma);this.Ca=kj(this.C.jh,
30)?new Ey("",b,"legacy"!=this.C.F?4:void 0):null;null!=this.Ca&&this.Ha(this.Ca);this.O=this.C.Mz()&&!this.C.L?new Ey("Submit feedback",this.oa(),4):null;null!=this.O&&(I4(this,this.O,"action",function(){V4(e.L).vf("docos-write-feedback").qb({source:"project-stream"})}),this.O.Oc("docos-streampane-submit-feedback"),this.Ha(this.O));this.Va=new ly(this);this.qa(this.Va);this.Ra=new jxh(M(this.C.jh,vof,2)||new vof,b);this.Ha(this.Ra);this.va="";this.Ja=null;inh(this);this.Xa=0;this.V=this.R=this.Aa=
this.Na=this.H=null}u(Rxh,G4);p=Rxh.prototype;
p.Ba=function(){var a="legacy"!=this.C.F,b=this.oa(),c=Av(Oxh,{ED:this.C.Kg().getName(),ZK:this.C.ZK(),Ahc:!!kj(this.C.jh,30),oD:this.C.Na,afb:this.C.qz,$eb:this.C.Fs,Xn:a,X3:this.C.X3(),Mz:this.C.Mz(),tv:T4(this.C)},void 0,b);kj(this.C.jh,30)&&bw(c,"docos-enable-docs-header");a&&bw(c,"docs-gm");this.pb(c);a=b.eb("docos-streampane-content",c);null!=this.O?(a=b.eb("docos-streampane-submit-feedback-container",a),this.O.render(a),this.D.render(a),O(this.O.getElement(),0<this.D.tc())):this.D.render(a);
this.V=kj(this.C.jh,30)?this.D.yb():this.C.O;this.Ra.render(c);this.Na=b.eb("docos-streampane-username",c);this.Aa=WU(b,"IMG","docos-streampane-avatar",c)};
p.Ia=function(){G4.prototype.Ia.call(this);var a=this.oa(),b=this.getElement();this.J&&this.J.Wa(a.eb("docos-streampane-input-pane",b));if(this.Qa){var c=a.eb("docos-notification-settings",b);this.Qa.Wa(c)}c=H4(this.L).C;if(this.ma){var d=a.Ea("docos-priority-checkbox",b);this.ma.render(d);this.ma.Lb(!0);this.ma.setContent("For you");I4(this,this.ma,"action",this.mgb);c.setTooltipText(this.ma.Ka(),"Sort by discussions relevant to me")}this.Ca&&(a=a.eb("docos-new-comment-button",b),this.Ca.Wa(a),c.setTooltipText(a,
this.C.Ra?"Add comment not available":"Add a comment"),I4(this,this.Ca,"action",this.B2b),this.y9a(),this.getHandler().listen(this.C,"r",this.y9a));null!=this.O&&c.setTooltipText(this.O.getElement(),"Submit feedback");this.C.Aa&&(b=this.C.Aa,this.J&&(this.J.va=b));Sxh(this,b);b=V4(this.L);a=this.C.Ra&&"absolute"!=this.C.va?this.Gjc:this.E2b;this.Va.Bb(b.Ta("docos-highlight-doco"),qr,a);this.J&&I4(this,this.J,"p",this.cic);I4(I4(I4(I4(I4(I4(I4(I4(this,this.getElement(),"click",this.C2b),this.D,"f",
this.vjc),this.D,"b",this.yic),this.D,"e",this.njc),this.D,"us",this.slc),this.D,"ud",this.rlc),this.D,"ail",this.qlc),this,["aftershow","afterhide"],this.D2b);b=this.C.Kg();fph(X4(this.L),this.Aa,b.D,F4(b));this.Na&&(a=b.getName())&&this.C.C.setTooltipText(this.Na,a);this.Aa&&(b=b.getName())&&this.C.C.setTooltipText(this.Aa,b);this.bb||(this.Sa=new bA(this.getElement(),this.oa()),this.qa(this.Sa),cA(this.Sa));Txh(this)};
p.D2b=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof Rtf;var d=(new z4(b)).setNonAnchored(!0).setApiEventArgs(new sxh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.Aa&&this.C.Aa.focus()}};p.C2b=function(a){aw(a.target,"docos-streampane-notificationslink")&&!this.C.L&&this.dispatchEvent("dnd")};p.cic=function(){var a=this.J.getValue();Jd(a)||(V4(this.L).vf("docos-new-doco").qb({text:a,Tm:null,Gp:0,quote:null,zf:105}),this.H=null)};
p.vjc=function(a){if(a=a.target)this.H=a.getElement()};p.yic=function(a){Uxh(this,a)};p.njc=function(a){Uxh(this,a)};function Uxh(a,b){(b=b.target)&&b.getElement()==a.H&&(a.H=null)}p.slc=function(){null!=this.H&&(this.Xa=this.H.offsetTop)};p.rlc=function(){null!=this.O&&O(this.O.getElement(),0<this.D.tc());null!=this.H&&this.V&&(this.V.scrollTop+=this.H.offsetTop-this.Xa)};p.qlc=function(){this.dispatchEvent("initial-load-complete")};
p.E2b=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.L)&&Vxh(this,a.C||null);if(a=a.C?this.D.Ic(a.C):null)this.H=a.getElement()};p.Gjc=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?W4(this.L).vd(b):null)&&(b=(new z4("toggle-show-stream-pane")).addAnchorId(a5(b)).addDocoHandle(j5(W4(this.L),b.getId())).setNonAnchored(!(b.Hy()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new Qxh(!0)).build(),c(b));Vxh(this,a.C||null)};
function Vxh(a,b){(b=b?a.D.Ic(b):null)?(a.H=b.getElement(),a.V&&(a.V.scrollTop=b.getElement().offsetTop)):a.H=null}function Sxh(a,b){kn(b,!0);a.R=new txh(b);Tn(a.R,"next-doco",a.jkc,!0,a);a.R.addEventListener("prev-doco",a.Dkc,!0,a);Tn(a.R,"resolve",function(){var c=a.F.qX(),d=a.F.Pq();d=d?W4(a.L).vd(d):null;c&&d&&(c=c.F,d.Bj()?buh(c):$th(c,!0))},!0);Tn(a.R,"reopen",function(){var c=a.F.qX();c&&$th(c.F,!1)},!0);Tn(a.R,"back-to-document",a.Ueb,!0,a);Tn(a.R,"speak-comment",a.psc,!0,a)}p.jkc=function(){this.F.highlightNext()};
p.Dkc=function(){this.F.highlightPrevious()};p.Ueb=function(){var a=V4(this.L),b=this.F.Pq();a.vf("docos-back-to-document").qb({Kj:b})};p.psc=function(){var a=this.F.qX();a&&xuh(a)};function Txh(a){if(""!=a.va&&!a.Ja&&a.xb()){var b=Av(Pxh,{message:a.va});a.Ja=new P;a.Ja.Wa(b);a.If(a.Ja,0)}}p.y9a=function(){this.Ca.Pa(this.C.$g)};p.B2b=function(){this.dispatchEvent({type:"create-draft",zf:105})};
p.mgb=function(){var a=V4(this.L),b=this.ma.isChecked();this.V&&(this.V.scrollTop=0);a.vf("docos-update-sort").qb({lsc:b?"updated":"priority"})};p.Dd=function(){G4.prototype.Dd.call(this);U4(X4(this.L),this.Aa)};p.La=function(){G4.prototype.La.call(this);delete this.Na;delete this.Aa;delete this.H;delete this.V;delete this.Ra;delete this.J;delete this.F;delete this.D;delete this.Va;this.R&&(delete this.R,this.R=null)};function Wxh(a){I(this,a,"gs",-1,null,null)}y(Wxh,H);Wxh.prototype.ea=function(){var a=new D;var b=this.xk();null!=b&&a.xa(1,b,Aof);return Y(a)};Wxh.pe="gs";Wxh.prototype.xk=function(){return M(this,zof,1)};function Xxh(a){I(this,a,0,-1,null,null)}y(Xxh,H);Xxh.prototype.ea=function(){var a=new D;var b=this.xk();null!=b&&a.xa(1,b,Aof);return Y(a)};Xxh.prototype.xk=function(){return M(this,zof,1)};function Yxh(a){B.call(this);this.H=a;this.D=this.C=null;this.F=Fn();amh(this.H,"netIo")&&this.F.resolve()}u(Yxh,B);function Kwh(a){if(a.C)return zn(Zxh(a.C));a.D||(a.D=a.F.C.then(function(){return new yn(function(b,c){pnh(a.H.get("netIo"),"uc",void 0,function(d){return b(new Wxh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.xk();a.D=null;return Zxh(a.C)},void 0,a)}
function Wwh(a,b){var c="all"==b;b="none"==b;var d=(new zof).Pa(!0);c=K(d,3,c);c=K(c,4,!b);b=K(c,5,!b);b=K(b,6,!0);a.C=b;b=new Xxh;b=zj(b,1,a.C);pnh(a.H.get("netIo"),"uc",b)}function Zxh(a){return nj(a,2,!0)?kj(a,3)?"all":nj(a,4,!0)||nj(a,5,!0)?"important":"none":"none"};function $xh(a,b){var c=a.vd(),d=b.vd();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.xu();a=d.xu();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function ayh(a,b){this.C=a;this.zd=b}ayh.prototype.vd=g("C");ayh.prototype.getPosition=g("zd");function byh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function cyh(a,b){return a.C().Dc(b).getId()}function dyh(a,b){for(var c=a.C().tc(),d=0;d<c;++d)a.H(cyh(a,d),Infinity);a.layout(b||[])}p=byh.prototype;p.layout=function(a){do{var b=a;eyh(this,0,this.C().tc(),1,-Infinity,this.Hob,this.Iob,b);b=a;eyh(this,this.C().tc()-1,-1,-1,Infinity,this.Xeb,this.Yeb,b);a.pop()}while(0<a.length)};function fyh(a,b){0==a.D&&(a.D=1);a.F=rd(b,a.F);vd(a.F)}
function gyh(a){0!=a.D&&(2==a.D?dyh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function eyh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=cyh(a,b);var n=b;n=a.C().Dc(n).getHeight();var q=a;var t=b;t=q.C().Dc(t).vd().getId();q=q.J(t);t=a.L(l);e=hd(k,l)?q:h(n,q,t,e);a.H(l,e);e=f(n,e)}}p.Hob=function(a,b){return b+a+10};p.Xeb=function(a,b){return b-10};p.Iob=function(a,b,c,d){return Math.max(Math.min(c,b),d)};p.Yeb=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function hyh(a,b){F5.call(this,a,b);var c=this;this.F={};this.V={};this.Aa=new byh(function(){return c.gk()},function(d){return iyh(c,d)},function(d){return jyh(c,d)},function(d,e){c.F[d]=e});this.Va=H4(a).Fo;this.Ja=new kK;this.jb=!0;this.Eb=new Ip(this.Buc,500,this);this.Qa=this.Ra=null;this.Na=oph(a);this.zb=new Lo;this.qa(this.zb);Mo(this.zb,this.Na.D,function(){c.Sa=!0;c.bb&&kyh(c,c.bb);gyh(c.Aa);c.rb&&c.Qz();c.Sa=!1});this.rb=!1;this.bb=null;this.Xa=this.Sa=!1}u(hyh,F5);p=hyh.prototype;
p.dR=function(){var a=F5.prototype.dR.call(this);a.push("docos-layout-vertical");return a};p.z5=m(!0);p.eL=da("jb");p.wW=function(a,b){a=a.vd();b=b.vd();if(!a||!b)throw Error("Doco view missing doco.");var c=j5(W4(this.getContext()),a.getId()),d=j5(W4(this.getContext()),b.getId());return $xh(new ayh(a,this.C[c]||new um(Number.MAX_VALUE,Number.MAX_VALUE)),new ayh(b,this.C[d]||new um(Number.MAX_VALUE,Number.MAX_VALUE)))};p.X0=function(a){this.vK(a,!1)};
p.pCa=function(a){F5.prototype.pCa.call(this,a);this.Qz()};p.A5a=function(){for(var a=this.gk(),b=a.tc(),c=0;c<b;c++){var d=a.Dc(c);d.getId()!=this.Pq()&&d.getId()!=this.pX()&&d.xba()&&d.collapse()}};p.jN=function(){fvh(this);Zph(this);for(var a=this.gk(),b=a.tc(),c=0;c<b;++c){var d=a.Dc(c);d.xba()&&!d.Vk()&&d.ADa()}a=[];(b=this.Pq())&&a.push(b);this.Na.C||this.Sa?(b=this.Aa,b.D=2,fyh(b,a||[])):dyh(this.Aa,a);lyh(this)};
p.Z7=function(a){this.Ra=a.clone();this.Qa&&this.Qa.contains(a)?this.Eb.start():(a=this.Eb,a.stop(),a.zva())};p.Buc=function(){if(this.J){this.Qa=this.Ra.clone();var a=this.gk();this.Qa.expand(500,0,500,0);var b=a.tc(),c="";0<b&&(c=a.Dc(b-1).getId());for(var d=0;d<b;d++){var e=a.Dc(d),f=this.V[e.getId()];f=myh(e,this.Qa,f.y,c);e.setVisible(f)}}};
p.Qz=function(){F5.prototype.Qz.call(this);if(this.Na.C)this.rb=!0;else{gyh(this.Aa);var a=this.gk(),b;for(b in this.F){var c=a.Ic(b);if(c){var d=b==this.Pq()||b==this.pX()?-10:this.Va,e=!c.nAa();b!=this.Pq()&&b!=this.pX()&&this.ob&&(e=e&&this.ob.Va);this.oka(d,this.F[b],c,e)}else delete this.F[b],delete this.V[b]}lyh(this);this.rb=!1}};function myh(a,b,c,d,e){if(a.getId()==d)return!0;e=e||0;return a.Vk()||Math.max(b.top-e,c)<=Math.min(b.bottom+e,c+a.getHeight())}
function lyh(a){var b=h5(a).H.bounds;b&&(a=a.Y7(),!nyh&&!a||Ad(nyh,a)||(nyh=a,a=(new z4("bounds")).setUserInitiated(!0).build(),b(a)))}function jyh(a,b){if(b&&!(b in a.F))if(h5(a).Xa){var c=iyh(a,b);null!==c&&(a.F[b]=c)}else if(c=a.gk().Ic(b))a.F[b]=c.getElement().offsetTop;return b in a.F?a.F[b]:null}p.vK=function(a){fvh(this);if(h5(this).Xa)oyh(this);else{var b=[];this.Pq()&&b.push(this.Pq());a&&b.push(a);pyh(this,b)}};function oyh(a){h5(a).Xa&&(a.F={});var b=a.Pq();pyh(a,b?[b]:[])}
function pyh(a,b){a.Na.C||a.Sa?fyh(a.Aa,b):a.Aa.layout(b)}p.iN=function(a){var b=Wd(a),c=Ud(this.C),d=b.length!=c;this.Xa=b.length>c;b=fa(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Xa=!0;break}}d&&(this.Na.C?this.bb=a:kyh(this,a))};function kyh(a,b){a.C=b;qyh(a);fvh(a);a.Xa&&(Zph(a),a.Xa=!1);oyh(a);b=a.Ja.jf();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.WP(d)}a.vK();a.Qz();a.bb=null}
function qyh(a){var b=Object.keys(a.C);b.sort(function(h,k){var l=parseInt(h,10),n=parseInt(k,10);k=a.C[l];h=a.C[n];l=x5(W4(a.getContext()),l);n=x5(W4(a.getContext()),n);return $xh(new ayh(l,k),new ayh(n,h))});a.Ja.clear();for(var c=W4(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=x5(c,parseInt(e,10));f&&c.ma(f)&&a.Ja.set(e,a.Ja.qe())}}p.jU=function(a){F5.prototype.jU.call(this,a);qyh(this)};
p.tea=function(a){a=j5(W4(this.getContext()),a.getId()).toString();var b=this.Ja.get(a);null==b&&(qyh(this),b=this.Ja.get(a));return b};
p.oka=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Ra){var h=this.gk();f=h.tc();h=h.Dc(f-1).getId();f=myh(c,this.Ra,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.V[h]&&(k=1<Math.abs(a-this.V[h].x),l=1<Math.abs(b-this.V[h].y),!k&&!l))return;l=this.jb&&l&&this.gk().tc()<ryh(this);k=this.jb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.L.C[h]){f=500;d||(f=(1-this.L.C[h].progress)*this.L.getDuration(h));Uuh(this.L,h);var n=new dmh(e,[a,b],f,WL);Tuh(this.L,h,n,f,function(){return Tf(n)})}else Ku(e,
a,b),f||c.setVisible(!1);c.Rb=-10==a;this.V[h]=new um(a,b);this.F[h]=b}};function syh(a,b){return(a=a.C[b])?a.y:null}function iyh(a,b){b=j5(W4(a.getContext()),b);return syh(a,b)}p.eua=function(a,b){a=syh(this,a);return null===a?null:new um(b?-10:this.Va,a)};p.Y7=function(){var a=this.gk();if(!a||!a.xb())return null;var b=a.tc();if(!b)return null;var c=a.Dc(0);b=a.Dc(b-1);a=b.getElement();c=jyh(this,c.getId());b=jyh(this,b.getId());return null!=c&&null!=b?[c,210+this.Va,b+a.offsetHeight,this.Va]:null};
function ryh(a){a=h5(a);return(a=null!=J(a.jh,47)?J(a.jh,47):null)?a:100}var nyh=null;function tyh(a){this.zt=a;return this}u(tyh,w4);tyh.prototype.getSource=g("zt");pa("docos.api.WriteFeedbackArgs",tyh,void 0);tyh.prototype.getSource=tyh.prototype.getSource;if(!uyh)var uyh=m("");if(!vyh)var vyh=m("");function O5(a,b){var c=this;B.call(this);this.Sc=Ha();this.J={};this.F=new lph;var d=O5.__default_config;d&&ie(this.J,d);a&&ie(this.J,a);this.D=new Uoh(this.J,b);this.F.Mf("config",this.D);this.V={};kj(this.D.jh,17)&&(this.Ya=new onh,this.F.Mf("errorReporter",this.Ya),this.lAa=this.Ya.F.C(this.lAa));this.va=null;this.R={};this.Ja=null;this.Va=!1;this.Xa=!0;this.O=new Mwh(this.F,this.D,this);wyh(this,"s",function(){c.C.Ra=!0;if(0<Ud(c.C.C)){xyh(c);var e=c.D.Vl;e&&e(43082,3E4)}});wyh(this,"fe",w(this.R1b,
this));wyh(this,"p",w(this.O1b,this));this.Eb=new fxh(this,this.F);Rlh();this.lAa()}y(O5,B);pa("Docos",O5,void 0);pa("docos.api.connect",function(a){return new O5(a)},void 0);p=O5.prototype;p.a9a=!1;p.dU=null;p.Ya=null;p.P8=null;p.Yu=null;p.Um=null;p.Bt=null;p.h3a=!1;p.IFa=null;p.tu=null;p.e_=null;
p.lAa=function(){if(this.Ya)for(var a in O5.prototype)"function"===typeof this[a]&&(this[a]=this.Ya.F.C(this[a]));this.bb=new dph(this.D);this.F.Mf("imageManager",this.bb);a=new Yxh(this.F);this.F.Mf("subscriptionManager",a);this.ma=new yvh(this.F);this.F.Mf("impressionRecorder",this.ma);this.gb=xid(Bm());this.qa(this.gb);this.$c=new qnh(this.gb);this.F.Mf("relativeDateFormatter",this.$c);this.C=new Qsh(this.D);this.F.Mf("stream",this.C);this.Qa=new vwh(this.F);this.qa(this.Qa);this.Oa=new $n(this);
this.qa(this.Oa);this.Ca=null;this.Aa=new Ivh(this.F);this.F.Mf("controller",this.Aa);this.H=new cwh(this.F,this.Aa);if(kj(this.D.jh,19)){this.Ca=new axh(this.F);this.qa(this.Ca);a=this.Ca;var b=w(this.cPb,this),c=w(this.lxa,this);a.C?a.C.YZa(w(a.ZKb,a,b),w(a.YKb,a,c)):c()}else this.lxa();this.e_=yyh(this);this.F.Mf("contactStore",this.e_);a=new Cvh(this.F,this.ma);this.Sa=this.D.Kg().getEmail()?new Avh(a.D.get("contactStore"),a.C.Kg(),a.F,a.C.Wl):null;a=V4(this.F);this.L=this.Gb=null;Em("docs-aria-speakable")&&
(this.Gb=ayf(void 0,!0),this.L=new auf(this.Gb,a),this.L.bind("docos-new-doco",new Swh),this.L.bind("docos-new-reply",new Twh),this.L.bind("docos-delete-doco",new Pvh(this.C)),this.L.bind("docos-resolve-doco",new gxh(this.C)),this.L.bind("docos-speak-doco",new hxh(this.F,this.J.quoterenderfn)),this.L.bind("docos-edit-doco",new Rvh));this.Ra=new ly(this);this.qa(this.Ra);this.Ra.Bb(a.Ta("docos-cancel-insert-discussion"),qr,this.Cic).Bb(a.Ta("docos-delete-doco"),qr,this.M1b).Bb(a.Ta("docos-reject-doco-with-feedback"),
qr,this.Sic).Bb(a.Ta("docos-convert-doco"),qr,this.Oic).Bb(a.Ta("docos-before-highlight-doco"),qr,this.hCa).Bb(a.Ta("docos-highlight-doco"),qr,this.kAa).Bb(a.Ta("docos-new-doco"),qr,this.N1b).Bb(a.Ta("docos-resolve-doco"),qr,this.Q1b).Bb(a.Ta("docos-back-to-document"),qr,this.ric).Bb(a.Ta("docos-new-reply"),qr,this.ikc).Bb(a.Ta("docos-write-feedback"),qr,this.emc).Bb(a.Ta("docos-disable-smart-todo-feature"),qr,this.Xic).Bb(a.Ta("docos-vote-doco"),qr,this.amc).Bb(a.Ta("docos-vote-reply"),qr,this.bmc).Bb(a.Ta("docos-update-sort"),
qr,this.Rlc).Bb(a.Ta("mouse-hover-doco-view"),qr,this.ekc);this.Oa.listen(this.C,"dd",this.bkc).listen(this.C,"af",this.eic).listen(this.C,"bu",this.akc).listen(this.C,"p",this.rkc).listen(this.D,"r",this.OV)};
function yyh(a){var b=yld("client").then(function(){var c=qa("gapi.config.update");a.D.Pra&&c("googleapis.config/sessionIndex",a.D.Pra);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return qa("gapi.client")});return new Hvh(a.D,dxh(a.D,b),a.Sc)}function xyh(a){a.e_&&!a.e_.C&&Moh(a.D.D)&&$oh(a.D)&&trh(a.e_)}
function zyh(a){if(!a.Bt){Ayh(a);var b=a.F,c=Bm(a.D.O);var d=a.D;d=Rw().C?d.Gb&&!z(A(),"docs-ehspc"):d.Gb;a.Bt=new Rxh(b,c,d,a.D.ef);a.Oa.listen(a.Bt,"dnd",a.zGb);a.Oa.listen(a.Bt,"initial-load-complete",a.IVb);a.Oa.listen(a.Bt,"create-draft",a.Yd)}return a.Bt}p.zGb=function(){this.jb()};p.IVb=function(){var a=M5(this,"initial-pane-render-done");if(a&&this.IFa){var b=Ha()-this.IFa;a(new Zuh("initial-pane-render-done",b))}};
p.find=function(a){var b=this.C.O;this.C.O=a;var c=this.C,d=this.D,e={},f=c.O;c=ge(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.Hy()&&!Oph(k)){var l=rth(k,f)+sth(k,f,d);k=ge(k.D);for(var n in k){var q=k[n];l+=rth(q,f)+sth(q,f,d)}0<l&&(e[h]=l)}}a!=b&&(a=this.R,ie(a,e),this.Yu.lB(a));this.R=e;e={};for(var t in this.R)e[j5(this.C,t)]=this.R[t];return e};O5.prototype.find=O5.prototype.find;O5.prototype.ud=function(){this.C.O&&(this.C.O=null,this.Yu.lB(this.R,!0),this.R={})};
O5.prototype.clearFind=O5.prototype.ud;O5.prototype.Cs=function(){var a=this.D;var b=qth(this.C,a);a=b?(a=tth(b.r0,a))?Um(a).textContent:null:null;return a};O5.prototype.getSelectedMatchA11yContext=O5.prototype.Cs;O5.prototype.highlightNext=function(a,b,c){this.Um&&this.Um.highlightNext(!!a,b,c)};O5.prototype.highlightNext=O5.prototype.highlightNext;O5.prototype.highlightPrevious=function(a,b,c){this.Um&&this.Um.highlightPrevious(!!a,b,c)};O5.prototype.highlightPrevious=O5.prototype.highlightPrevious;
O5.prototype.select=function(a,b){var c=x5(this.C,a);a=c?c.getId():"";b=c?new SX(a,b):null;c=this.C.Aa;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.Aa=b;b=c?this.Yu.Ic(c.getKey()):null;c=this.Yu.Ic(a);b&&b!=c&&b.lB();if(c){c.xba()&&(b=qth(W4(this.F),this.D),c.expand(b?b.r0.getId():void 0));c.lB();b=nth(this.C,this.Yu);d=V4(this.F);var e=Ymh(B4(a));e.C=b?b.start:0;e=D4(e);d.vf("docos-before-highlight-doco").qb(e);i5(W4(this.F),
a);d.vf("docos-highlight-doco").qb(e);if(b&&Fph(c)&&(a=c.yb())){c=Vu(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};O5.prototype.select=O5.prototype.select;O5.prototype.Yhc=function(){var a=this.C.Aa;if(a){this.C.Aa=null;(a=this.Yu.Ic(a.getKey()))&&a.lB();a=V4(this.F);var b=Ymh(B4(""));b.C=0;b=D4(b);a.vf("docos-before-highlight-doco").qb(b);i5(W4(this.F),null);a.vf("docos-highlight-doco").qb(b)}};
O5.prototype.unselect=O5.prototype.Yhc;O5.prototype.Inc=function(){var a=this.C,b=new Esh(a,"c"),c;for(c in a.C)b.C.push(new ush(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Fsh(b));a.flush(!0)};O5.prototype.updateAll=O5.prototype.Inc;O5.prototype.KV=function(){return!!kj(this.D.jh,19)&&!!this.D.Cc&&!this.D.ud};O5.prototype.isSavingToOfflineStorage=O5.prototype.KV;O5.prototype.eK=function(){return 0<msh.qe()};O5.prototype.hasUnpostedDocos=O5.prototype.eK;
O5.prototype.gK=function(){for(var a=Wd(this.C.V),b=0,c;c=a[b];b++){var d=this.C;if((c=$sh(d,c))&&(c.Bj()?Yph(d,c):d.ma(c)))return!0}return!1};O5.prototype.hasVisibleAnchoredDocos=O5.prototype.gK;O5.prototype.nqa=function(a){var b=this.C,c=b.va;b.va=a;if(c!=b.va&&this.Yu&&(a=this.Yu,b=W4(a.context),Ud(b.C))){for(c=a.tc()-1;0<=c;--c){var d=a.Dc(c).getId();Lxh(a,d)}b=ge(b.C);for(var e in b)Jxh(a,e);a.D.jN();Ixh(a);a.D.vK()}};
O5.prototype.OV=function(){Byh(this);0<Ud(this.C.C)&&xyh(this);if(this.Bt)if("none"!=this.D.jb){var a=this.Bt.D;a.D.jN();Ixh(a)}else{a=this.Bt.D;for(var b=a.tc(),c=0;c<b;++c){var d=a.Dc(c).F;d.Eb&&!d.H.Vk()||cuh(d)}}};O5.prototype.setResolvedAnchoredDocosVisible=O5.prototype.nqa;O5.prototype.NV=function(a,b,c){b=b?b:void 0;Cyh(this,a,b);a=Jvh(this.Aa,a,c||"draft",void 0,void 0,void 0);Dyh(this,a,b);return a};O5.prototype.newDoco=O5.prototype.NV;
O5.prototype.fV=function(a,b,c){if(null==a||Jd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;Eyh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo()).addCallback(c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.H8c();J5(f,w(f.a_b,f,a,d,e,b)).addCallback(c);
break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();J5(f,w(f.YZb,f,a,d,e,b)).addCallback(c);break;default:throw Error("Unknown NewDocoArgs type.");}};O5.prototype.interceptingNewDoco=O5.prototype.fV;function Eyh(a,b,c,d,e,f,h){Cyh(a,b,c);return dwh(a.H,b,d||"draft",e,f,h).addCallback(function(k){Dyh(a,k,c);return k})}function Cyh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.ob();c&&(a.va=c)}
function Dyh(a,b,c){if(!(0>=b))if(Rw().C&&"absolute"!=a.D.va&&z(A(),"docs-ehspc"))c=zyh(a),a=x5(a.C,b),c.F&&null!=a&&c.F.WP(a);else if(c){var d={};d[b]=c;P5(a).X7(d)}}O5.prototype.g1=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");gwh(this.H,void 0,a,void 0,void 0,b,void 0).addCallback(function(e){0<e&&d.rb(e);return e}).addCallback(c)};O5.prototype.interceptingNewSuggestion=O5.prototype.g1;
O5.prototype.sM=function(a,b,c){var d=this;hwh(this.H,a,!0,b).addCallback(function(e){Fyh(d,a);return e}).addCallback(c)};O5.prototype.interceptingAcceptSuggestion=O5.prototype.sM;O5.prototype.qV=function(a,b,c){var d=this;hwh(this.H,a,!1,b).addCallback(function(e){Fyh(d,a);return e}).addCallback(c)};O5.prototype.interceptingRejectSuggestion=O5.prototype.qV;O5.prototype.hN=function(a,b){var c=this.H;J5(c,w(c.qIa,c,a,!0)).addCallback(b)};O5.prototype.interceptingAcceptSuggestions=O5.prototype.hN;
function Fyh(a,b){(b=x5(a.C,b))&&a.Um&&a.Um.jU(b.getId())}O5.prototype.sV=function(a,b){var c=this.H;J5(c,w(c.qIa,c,a,!1)).addCallback(b)};O5.prototype.interceptingRejectSuggestions=O5.prototype.sV;O5.prototype.XU=function(a,b){var c=this.H;J5(c,w(c.mib,c,a)).addCallback(b)};O5.prototype.interceptingDeleteReply=O5.prototype.XU;O5.prototype.oO=function(a,b){var c=this.H;J5(c,w(c.lib,c,a)).addCallback(b)};O5.prototype.interceptingDeleteReplies=O5.prototype.oO;
O5.prototype.vh=function(a){return(a=x5(this.C,a))?a5(a):null};O5.prototype.getAnchorData=O5.prototype.vh;O5.prototype.Ds=function(a){return(a=x5(this.C,a))?a.aF():null};O5.prototype.getSuggestionId=O5.prototype.Ds;O5.prototype.lk=function(){return this.D.Kg().getId()};O5.prototype.getCurrentAuthor=O5.prototype.lk;O5.prototype.nj=function(a){return(a=x5(this.C,a))?a.bt().getId():null};O5.prototype.getAuthor=O5.prototype.nj;O5.prototype.Fj=function(a){return(a=x5(this.C,a))?a.bt().getName():null};
O5.prototype.getAuthorName=O5.prototype.Fj;O5.prototype.Am=function(a){"string"===typeof a&&(a=this.Na(a));return Gyh(this).D.dja(a)};O5.prototype.getDocoPosition=O5.prototype.Am;O5.prototype.getDocoMaxHeight=function(a){return P5(this).getDocoMaxHeight(a)};O5.prototype.getDocoMaxHeight=O5.prototype.getDocoMaxHeight;O5.prototype.Ana=function(a,b){P5(this).oAa(a,b)};O5.prototype.setDocoMaxHeight=O5.prototype.Ana;O5.prototype.Fg=function(a){a=Hyh(this,a);P5(this).iN(a)};O5.prototype.flushAnchors=O5.prototype.Fg;
O5.prototype.$g=function(a){P5(this).iN(a)};O5.prototype.flushDocoPositions=O5.prototype.$g;O5.prototype.Ttc=function(a){a=Hyh(this,a);P5(this).X7(a)};O5.prototype.updateAnchors=O5.prototype.Ttc;O5.prototype.Muc=function(a){P5(this).X7(a)};O5.prototype.updateDocoPositions=O5.prototype.Muc;O5.prototype.Xd=function(a){P5(this).cja($c(a,this.Na,this))};O5.prototype.deleteAnchors=O5.prototype.Xd;O5.prototype.ke=function(a){P5(this).cja(a)};O5.prototype.deleteDocoPositions=O5.prototype.ke;
O5.prototype.avc=function(a){this.Um?this.Um.Z7(a):this.Ja=a};O5.prototype.updateViewport=O5.prototype.avc;O5.prototype.Ue=da("Va");O5.prototype.enableAnchoredDocoAnimations=O5.prototype.Ue;O5.prototype.Bn=function(){return this.D.va};O5.prototype.getLayoutStyle=O5.prototype.Bn;O5.prototype.Tn=function(){var a=this.D.J;return(a=a?this.C.vd(a):void 0)?a5(a):""};O5.prototype.getLinkedAnchor=O5.prototype.Tn;O5.prototype.Fo=function(){var a=this.D.J;return null===a?0:j5(this.C,a)};
O5.prototype.getLinkedDoco=O5.prototype.Fo;O5.prototype.GV=function(){var a=this.D.J;return null===a?!1:!!this.C.F[a]};O5.prototype.isLinkedDocoDeleted=O5.prototype.GV;function Hyh(a,b){var c={};Qd(b,function(d,e){(e=this.Na(e))&&(c[e]=d)},a);return c}O5.prototype.Goa=function(a){this.C.Qa=a};O5.prototype.setActiveSuggestions=O5.prototype.Goa;O5.prototype.An=function(){var a=this.C.R;return a&&a.Bj()?a.getId():null};O5.prototype.getHighlightedSuggestionDocoId=O5.prototype.An;
O5.prototype.Na=function(a){return(a=$sh(this.C,a))?j5(this.C,a.getId()):0};O5.prototype.U1=function(){if(!this.D.O)throw Error("Pane div not specificed in config.");this.IFa=Ha();zyh(this).xb()&&(Tf(this.Bt),this.Bt=null);g0e(this.D.O,!1);zyh(this).render(this.D.O)};O5.prototype.renderPaneSurface=O5.prototype.U1;O5.prototype.JV=function(){return zyh(this).D.d_a()};O5.prototype.isPaneSurfaceRendered=O5.prototype.JV;function P5(a){a.Um||(a.Um=Iyh(a),a.Ja&&(a.Um.Z7(a.Ja),a.Ja=null));return a.Um}
function Gyh(a){if(!a.Yu){Ayh(a);var b=P5(a);a.Yu=new Gxh(a.F,b,w(a.C.ma,a.C),b.oa())}return a.Yu}function Ayh(a){if(!a.a9a){a.a9a=!0;var b=a.D.O,c=a.D.Ca;b&&(a.D.Qc||Zu(uoe(""),b),a.D.C.install(b));!c||b&&Dm(b)==Dm(c)||(a.D.Qc||Zu(uoe(""),c),a.D.C.install(c))}}O5.prototype.S1=function(){if(!this.D.Ca)throw Error("Anchor surface div not specified in config.");Gyh(this).xb()&&(Tf(this.Yu),this.Yu=null,Iyh(this));g0e(this.D.Ca,!1);Gyh(this).render(this.D.Ca)};O5.prototype.renderAnchorSurface=O5.prototype.S1;
function Iyh(a){var b=a.D.va,c=hyh;"absolute"==b&&(c=hvh);if(a.Um&&(a.Um instanceof c||a.Um.g_()instanceof c))return a.Um;var d=Bm(a.D.Ca);c=new c(a.F,d);d=a.D.R;!d||b&&"vertical"!=b||(c=new ywh(c,d));a.Um&&(a.Um.pAa(c),Tf(a.Um));a.Um=c;a.Um.wEa(a);a.qa(a.Um);return a.Um}
O5.prototype.T1=function(){if(!this.D.bb)throw Error("Instant docos div not specified in config.");this.tu&&this.tu.xb()&&(Tf(this.tu),this.tu=null);this.tu||this.J["enable-gsuite-embedding"]||(this.tu=new awh(this.F,Bm(this.D.bb)),this.Oa.listen(this.tu,"create-draft",this.Rb),this.tu.render(this.D.bb))};O5.prototype.renderInstantDocosButton=O5.prototype.T1;O5.prototype.Ksa=function(a,b,c){this.tu&&bwh(this.tu,a,b,c)};O5.prototype.showInstantDocosButtonAt=O5.prototype.Ksa;
O5.prototype.ob=function(a){this.tu&&this.tu.hide(a)};O5.prototype.hideInstantDocosButton=O5.prototype.ob;O5.prototype.Ph=function(){return this.Um?this.Um.Y7():null};O5.prototype.getAnchorSurfaceBounds=O5.prototype.Ph;O5.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.I3(this.J))};O5.prototype.setOption=O5.prototype.setOption;O5.prototype.Fs=function(){if(this.Bt){var a=this.Bt;a.C.Aa&&a.C.Aa.focus()}};O5.prototype.grabFocus=O5.prototype.Fs;
O5.prototype.Jpa=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?w(b,c):b;this.D.I3(this.J)};O5.prototype.setListener=O5.prototype.Jpa;function Jyh(a,b){return b&&a.C.ma(b)?b.getId():null}O5.prototype.Wl=function(a){return(a=x5(this.C,a))?a.xu()?a.xu().getTime():null:null};O5.prototype.getDocoCreationTime=O5.prototype.Wl;
O5.prototype.hK=function(a,b){var c=V4(this.F);a=$sh(this.C,a);a=Jyh(this,a);var d=Ymh(B4(a||""));b&&(b=this.D.Ra&&"absolute"!=this.D.va?this.Bt.D.getId():Gyh(this).getId(),C4(d,b));c.vf("docos-before-highlight-doco").qb(D4(d));i5(W4(this.F),a);c.vf("docos-highlight-doco").qb(D4(d))};O5.prototype.highlightAnchor=O5.prototype.hK;
O5.prototype.rb=function(a,b){var c=V4(this.F);a=x5(this.C,a);a=Jyh(this,a);var d=Ymh(B4(a||""));b&&(b=this.D.Ra&&"absolute"!=this.D.va?this.Bt.D.getId():Gyh(this).getId(),d=C4(d,b));c.vf("docos-before-highlight-doco").qb(D4(d));i5(W4(this.F),a);c.vf("docos-highlight-doco").qb(D4(d))};O5.prototype.highlightDoco=O5.prototype.rb;O5.prototype.xvc=function(a){var b=V4(this.F);a=x5(this.C,a);a=Jyh(this,a);if(null!=a){var c=this.C.vd(a);c&&D5(this.ma,n5(m5(l5(new k5,43045),c)));b.vf("docos-speak-doco").qb(a)}};
O5.prototype.verbalizeDoco=O5.prototype.xvc;O5.prototype.FD=function(a){return!!$sh(this.C,a)};O5.prototype.hasDocoForAnchorId=O5.prototype.FD;O5.prototype.qz=function(a){return!!x5(this.C,a)};O5.prototype.hasDoco=O5.prototype.qz;O5.prototype.Dp=function(a){return(a=$sh(this.C,a))?a.Bj()?!Yph(this.C,a):a.isResolved():!1};O5.prototype.getResolvedForAnchorId=O5.prototype.Dp;O5.prototype.xV=function(a){return(a=x5(this.C,a))?a.isResolved():!1};O5.prototype.isDocoResolved=O5.prototype.xV;
O5.prototype.Dl=function(){var a=dth(this.C),b={3:{},1:{},2:{}};b.draft=J(a.C,2);b["smart-todo"]=J(a.C,14);b.total=J(a.C,1);var c=b[3];c.open=J(a.C,11);c.resolved=J(a.C,8);c.total=J(a.C,5);c=b[1];c.open=J(a.C,9);c.resolved=J(a.C,6);c.total=J(a.C,3);c=b[2];c.accepted=J(a.C,12);c.open=J(a.C,10);c.rejected=J(a.C,13);c.resolved=J(a.C,7);c.total=J(a.C,4);return b};O5.prototype.getDocoCounts=O5.prototype.Dl;O5.prototype.Vl=function(){return dth(this.C).C.clone().ub()};O5.prototype.getDocoCounts2=O5.prototype.Vl;
O5.prototype.Gi=function(){return P5(this).qAa().C.clone().ub()};O5.prototype.getAnchoredDocoCounts=O5.prototype.Gi;O5.prototype.Ti=function(){return Wd(this.C.V)};O5.prototype.getAnchors=O5.prototype.Ti;O5.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};O5.prototype.getDocoHandles=O5.prototype.getDocoHandles;O5.prototype.jb=function(){this.D.ZK()&&(this.P8||(this.P8=new Vwh(this.F),this.qa(this.P8)),this.P8.setVisible(!0))};O5.prototype.displayNotificationControlDialog=O5.prototype.jb;
O5.prototype.Cc=function(a){return a.x};O5.prototype.Qc=function(a){return a.y};function Byh(a){if(a.h3a&&!amh(a.F,"netIo")){var b=wwh(a.Qa);b&&(a.F.Mf("netIo",b),a.Ya&&(a.Ya.H=b),b=a.O,Voh(b.D)?b.D.ke?Owh(b.F,"r"):Nwh(b)&&Pwh(b):b.L(null),amh(a.F,"subscriptionManager")&&mph(a.F).F.resolve())}}O5.prototype.Kd=function(a){this.O.H.get("netIo").C.kMa(a)};O5.prototype.connectBrowserChannel=O5.prototype.Kd;p=O5.prototype;
p.R1b=function(){var a=M5(this,"net-error");a&&a((new z4("net-error")).build());this.D.Gd&&(this.setOption("accessLevel","readonly"),a=zyh(this),""==a.va&&(a.va="Commenting disabled due to a network error. Please reload the page.",Txh(a)))};
p.O1b=function(){var a=M5(this,"post-limit-error");a&&a((new z4("post-limit-error")).build());this.D.Gd&&(this.setOption("accessLevel","readonly"),a=zyh(this),""==a.va&&(a.va="Document reached the comment limit. Make a copy of this document without resolved comments to continue commenting",Txh(a)))};p.cPb=function(){Owh(this,"r");this.lxa()};p.lxa=function(){this.h3a=!0;Byh(this)};p.P1b=function(a){wyh(this,"r",a)};O5.prototype.onReady=O5.prototype.P1b;O5.prototype.VV=function(a){wyh(this,"s",a)};
O5.prototype.onInitialSyncSuccess=O5.prototype.VV;O5.prototype.QV=function(a){wyh(this,"e",a)};O5.prototype.onInitialSyncError=O5.prototype.QV;O5.prototype.Yd=function(a){var b=this.D.H["create-draft"];a=a.zf?a.zf:void 0;if(b)a=(new z4("create-draft")).setApiEventArgs(new I5(!1,void 0,void 0,a)).build(),b(a);else throw Error("Can not create a discussion because the editor did not provide a handler.");};
O5.prototype.Rb=function(){var a=this.D.H["create-draft"];if(a){var b=(new z4("create-draft")).setApiEventArgs(new I5(!0,new um(0,this.tu.D.H),this.tu.D.O)).build();a(b)}};function wyh(a,b,c){if(b in a.V){var d=a.V[b];null===d?c():a.V[b]=re(d,c)}else a.V[b]=c}function Owh(a,b){var c=a.V[b];null!=c&&c();a.V[b]=null}O5.prototype.jza=function(){this.zb()};O5.prototype.tickle=O5.prototype.jza;
O5.prototype.zb=function(){a:{var a=this.O;if(Voh(a.D)){if(!a.O){if(!a.C&&!Nwh(a))break a;Pwh(a)}Ewh(a.C,a.D.uha?1:void 0)}}};O5.prototype.sync=O5.prototype.zb;O5.prototype.ih=function(){Qwh(this.O)};O5.prototype.fullSync=O5.prototype.ih;O5.prototype.Gd=function(){var a=this.O;Voh(a.D)&&(a.C.J=!0)};O5.prototype.blockFutureSync=O5.prototype.Gd;O5.prototype.i0b=function(){var a=this.O;Voh(a.D)&&(a.C.J=!1)};O5.prototype.unblockFutureSync=O5.prototype.i0b;
O5.prototype.DV=function(){var a=this.O;return Voh(a.D)?a.C.J:!1};O5.prototype.isFutureSyncBlocked=O5.prototype.DV;O5.prototype.Kq=function(){var a=this.D;return null!=a.J3?a.J3:6E4};O5.prototype.getRetryBackoffThreshold=O5.prototype.Kq;O5.prototype.wV=function(){return this.D.pca};O5.prototype.isBrowserChannelEnabled=O5.prototype.wV;O5.prototype.zV=function(){return!!kj(this.D.jh,30)};O5.prototype.isDocsStreamHeaderEnabled=O5.prototype.zV;O5.prototype.IV=function(){return Woh(this.D)};
O5.prototype.isNewDocosStreamPaneUiEnabled=O5.prototype.IV;O5.prototype.isBadgingEnabled=function(){return this.D.Mz()};O5.prototype.isBadgingEnabled=O5.prototype.isBadgingEnabled;O5.prototype.HD=function(){return Ush(this.C)};O5.prototype.hasPendingContent=O5.prototype.HD;p=O5.prototype;
p.Cic=function(a){var b=this,c=a.data;a=q5(p5(new o5,43011),c.Kj);var d=null!=c.Tm;d&&r5(a,c.Tm);C5(nph(this.F),s5(a));fwh(this.H,c.Kj).addCallback(function(e){if(e){e=(e=b.C.R)&&e.getId()!==c.Kj;e||(b.hCa(new rr(d?new Wmh("",void 0,void 0,void 0,c.Tm):A4())),b.kAa(new rr(d?new Wmh("",void 0,void 0,void 0,c.Tm):A4())));var f=M5(b,"deleted");if(f&&c.Tm&&c.Gp){var h=(new z4("deleted")).addAnchorId(c.Tm).addDocoHandle(c.Gp).setUserInitiated(!0).build();f(h);b.dU=null}e&&(b.dU=b.C.R)}})};
p.M1b=function(a){a=a.data;Kyh(this,a.Gp,a.Kj,a.XT,void 0,a.zf)};p.Sic=function(a){a=a.data;Kyh(this,a.Gp,a.Kj,a.XT,a.Wnb)};function Kyh(a,b,c,d,e,f){f=void 0===f?null:f;var h=M5(a,"before-doco-deleted");if(h&&b){var k=a5(x5(a.C,b));d=e?new Tvh(d,e):new Ovh(d);b=(new Fvh("before-doco-deleted")).addAnchorId(k).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();h(b);if(b.C)return}Lyh(a,c,!0,e,f)}
p.Oic=function(a){var b=a.data;if((a=M5(this,"converted"))&&b){var c=a5(x5(this.C,b.Gp)),d=new H5(c,b.R2a,b.XT);b=(new Fvh("converted")).addAnchorId(c).addDocoHandle(b.Gp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};p.L1b=function(a){(a=x5(this.C,a))&&Lyh(this,a.getId(),!1)};O5.prototype.deleteDoco=O5.prototype.L1b;function Lyh(a,b,c,d,e){e=void 0===e?null:e;var f=a.C.vd(b),h=j5(a.C,b);f=a5(f);var k=a.H;J5(k,w(k.jib,k,b,d,void 0===e?null:e)).addCallback(w(a.Avc,a,f,h,c))}
O5.prototype.Avc=function(a,b,c,d){if(d){d=M5(this,"before-selected");var e=M5(this,"selected"),f=M5(this,"deleted");if(a&&b){if(d){var h=(new z4("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new z4("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new z4("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.dU=null}}};O5.prototype.Poa=function(a){this.Xa=a;O(Gyh(this).getElement(),a)};O5.prototype.setDocosGutterVisibility=O5.prototype.Poa;
O5.prototype.yV=g("Xa");O5.prototype.isDocosGutterVisible=O5.prototype.yV;O5.prototype.Ff=function(){var a=this.Eb;a.C=a.H.D.C;a.F.setOption("accessLevel","readonly")};O5.prototype.enterReanchorMode=O5.prototype.Ff;O5.prototype.Doa=function(){var a=this.Eb;a.D.ma=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};O5.prototype.resetReanchorMode=O5.prototype.Doa;O5.prototype.uV=function(a,b){var c=this.H;J5(c,w(c.$tc,c,a)).addCallback(b)};O5.prototype.interceptingUndoDeleteDoco=O5.prototype.uV;
O5.prototype.tV=function(a,b){var c=this.H;b=new vnh(b);J5(c,w(c.uqc,c,a,b))};O5.prototype.interceptingSetSuggestionQuote=O5.prototype.tV;O5.prototype.Es=function(a){a=x5(this.C,a);if(!a)return null;if(!a.Bj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.x5()};O5.prototype.getSuggestionQuote=O5.prototype.Es;O5.prototype.Xf=function(a){return this.Sa?Bvh(this.Sa,a):new nvh(zn())};O5.prototype.findAssignee=O5.prototype.Xf;O5.prototype.fK=function(){return 0<this.C.H.size};
O5.prototype.hasUnseenDocos=O5.prototype.fK;O5.prototype.Qxa=function(){oph(this.F).C=!0};O5.prototype.startBatchEvent=O5.prototype.Qxa;O5.prototype.ef=function(){var a=oph(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};O5.prototype.endBatchEvent=O5.prototype.ef;p=O5.prototype;p.Q1b=function(a){a=a.data;var b=this.H,c=a.F;J5(b,w(b.Ioc,b,a.C,a.D,a.H,void 0===c?null:c)).addCallback(w(this.$mc,this,a))};
p.$mc=function(a,b){if(b){b=M5(this,"before-selected");var c=M5(this,"selected");if(c){var d=this.C.vd(a.C),e=j5(this.C,a.C);d&&d.Hy()&&e&&(a.D?(b&&(a=(new z4("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new z4("selected")).setUserInitiated(!0).build(),c(a),this.dU=null):(b&&(a=(new z4("before-selected")).addAnchorId(a5(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new z4("selected")).addAnchorId(a5(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.dU=d))}}};
p.amc=function(a){a=a.data;var b=this.H;J5(b,w(b.Tuc,b,a.C,a.D))};p.bmc=function(a){a=a.data;var b=this.H;J5(b,w(b.Uuc,b,a.C,a.D,a.F))};p.Rlc=function(a){this.setOption("sortpaneby",a.data.lsc);(a=this.D.Ja)&&a(43086)};p.ric=function(a){var b=this.D.Fg;b&&(a=this.C.vd(a.data.Kj))&&b(a5(a),!0)};
function Myh(a,b,c){var d=M5(a,c);if(d){var e=a.C.vd(b.C)||null,f=b.F;if(e!=a.dU||"number"===typeof f){var h=new z4(c),k=j5(a.C,b.C);e&&e.Hy()&&k&&h.addAnchorId(a5(e)).addDocoHandle(k);k=new w4;var l=b.O;null!=l?k=new Dvh(l):"number"===typeof f?k=new Emh(f):void 0!==b.WT&&(k=new Uvh(b.WT));f=!!e&&!a.C.ma(e);h.setNonAnchored(f).setUserInitiated(b.J).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.dU=e)}}p.hCa=function(a){Myh(this,a.data,"before-selected")};
p.kAa=function(a){var b=a.data;Myh(this,b,"selected");if(a=this.C.vd(b.C)){var c="number"===typeof b.F?4:b.D==Gyh(this).getId()?1:b.D==zyh(this).D.getId()?2:3;b=m5(l5(new k5,43044),a);b.H=c;2==c&&(b.C=105);D5(this.ma,n5(b));a=$4(a)?43106:a.aF()?43107:43105;D5(this.ma,n5(l5(b,a)))}};p.ikc=function(a){a=a.data;var b=a.C,c=a.F,d=this.H;c=c?c:void 0;J5(d,w(d.Edb,d,a.D,a.H,null,b?b:void 0,void 0===c?null:c))};
p.emc=function(a){var b=a.data;if(a=M5(this,"write-feedback"))b=(new z4("write-feedback")).setUserInitiated(!0).setApiEventArgs(new tyh(b.source)).build(),a(b)};p.Xic=function(){var a=M5(this,"disable-smart-todo-feature");if(a){var b=(new z4("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};
p.N1b=function(a){var b=this,c=a.data;gwh(this.H,c.ljb,c.Tm,c.text,c.quote,c.Gma,c.v2,c.zf).addCallback(function(d){if(0<d){var e=c.Tm,f=c.Gp,h=M5(b,"posted");h&&e&&f&&(e=(new z4("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.hCa(new rr(A4()));b.kAa(new rr(A4()))}return d})};
p.ekc=function(a){var b=M5(this,"hover");if(b){a=a.data;var c=Smh("hover").setNonAnchored(!a.n_b).setUserInitiated(!0);if(a.t_b){var d=this.C.vd(a.Kj);c.addAnchorId(d?a5(d):"");c.addDocoHandle(j5(this.C,a.Kj))}b(c.build())}};p.bkc=function(a){if("dd"==a.type){var b=M5(this,"deleted");if(b&&a.C&&a.D&&(a.Lr||this.D.Qa)&&a.O&16){var c=(new z4("deleted")).addDocoHandle(a.D);a.Lr&&c.addAnchorId(a.Lr);a=c.build();b(a)}}};
p.akc=function(a){if("bu"==a.type){var b=Smh("created");this.va&&(b.setApiEventArgs(new Qvh(this.va,a.C[0].Tm)),this.va=null);var c=Smh("resolved"),d=Smh("unresolved");b=Svh(b,a.C,8);c=Svh(c,a.C,2);d=Svh(d,a.C,4);Nyh(this,"created",b);Nyh(this,"resolved",c);Nyh(this,"unresolved",d)}};p.rkc=function(a){if("p"==a.type&&(a=M5(this,"pending"))){var b=(new z4("pending")).setUserInitiated(!0).build();a(b)}};
p.eic=function(){var a=M5(this,"view-updated");if(a){var b=(new z4("view-updated")).setUserInitiated(!0).build();a(b)}};function Nyh(a,b,c){a=M5(a,b);!c.isEmpty()&&a&&a(c.build())}function M5(a,b){return a.isDisposed()?null:a.D.H[b]||null}
p.La=function(){delete this.Um;delete this.D;delete this.e_;delete this.Aa;delete this.Ya;delete this.Oa;delete this.bb;delete this.Qa;delete this.P8;delete this.Ca;delete this.C;delete this.Ra;Tf(this.tu);delete this.tu;Tf(this.Yu);delete this.Yu;Tf(this.Bt);delete this.Bt;O5.$a.La.call(this);Tf(this.F);delete this.F};pa("Docos",O5,void 0);pa("Docos.Point",um,void 0);pa("Docos.Point.getX",O5.prototype.Cc,void 0);pa("Docos.Point.getY",O5.prototype.Qc,void 0);
pa("Docos.AbstractAlteredDocoArgs",Fuh,void 0);pa("Docos.NewDraftArgs",Luh,void 0);pa("Docos.LayoutType.ABSOLUTE","absolute",void 0);pa("Docos.LayoutType.VERTICAL","vertical",void 0);pa("Docos.UiVersion.LEGACY","legacy",void 0);pa("Docos.UiVersion.MATERIAL","material",void 0);pa("Docos.UiVersion.MATERIAL_LIGHT_BACKGROUND","material_light_background",void 0);pa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);pa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);
pa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);pa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);pa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);pa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);pa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);pa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);pa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);
pa("Docos.OptionName.DRIVE_ID","drive-id",void 0);pa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);pa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);pa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);pa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);pa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);pa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);
pa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);pa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);pa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);pa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);pa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);pa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
pa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);pa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);pa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);pa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);pa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
pa("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);pa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);pa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);pa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);pa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);pa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);pa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
pa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);pa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);pa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);pa("Docos.OptionName.IO","i",void 0);pa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);pa("Docos.OptionName.KEY_DATA","kd",void 0);pa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
pa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);pa("Docos.OptionName.LAYOUT","layout",void 0);pa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);pa("Docos.OptionName.LINK_OPENER","link-opener",void 0);pa("Docos.OptionName.LISTENERS","listeners",void 0);pa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);pa("Docos.OptionName.LOCAL","l",void 0);pa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
pa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);pa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);pa("Docos.OptionName.OFFLINE","offline",void 0);pa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);pa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);pa("Docos.OptionName.PANE_DIV","panediv",void 0);pa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);pa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
pa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);pa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);pa("Docos.OptionName.QUOTE_FN","quotefn",void 0);pa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);pa("Docos.OptionName.READONLY","readonly",void 0);pa("Docos.OptionName.RESOLVE","resolve",void 0);pa("Docos.OptionName.SCREEN_READER_STATE_TRACKER","screen-reader-state-tracker",void 0);pa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);
pa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);pa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);pa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);pa("Docos.OptionName.SORT_PANE","sortpane",void 0);pa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);pa("Docos.OptionName.STORAGE","storage",void 0);pa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);pa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
pa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);pa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);pa("Docos.OptionName.SYNC_ONCE","so",void 0);pa("Docos.OptionName.UI_VERSION","ui-version",void 0);pa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);pa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
pa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);pa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);pa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);pa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);pa("Docos.EventType.CONVERTED","converted",void 0);
pa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);pa("Docos.EventType.CREATED","created",void 0);pa("Docos.EventType.DELETED","deleted",void 0);pa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);pa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);pa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);pa("Docos.EventType.HOVER","hover",void 0);pa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
pa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);pa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);pa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);pa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);pa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);pa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);pa("Docos.EventType.NETWORK_ERROR","net-error",void 0);
pa("Docos.EventType.PENDING","pending",void 0);pa("Docos.EventType.POSTED","posted",void 0);pa("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);pa("Docos.EventType.REANCHOR","reanchor",void 0);pa("Docos.EventType.RESOLVED","resolved",void 0);pa("Docos.EventType.SELECTED","selected",void 0);pa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);pa("Docos.EventType.UNSEEN_DOCOS_UPDATED","unseen-docos-updated",void 0);
pa("Docos.EventType.UNRESOLVED","unresolved",void 0);pa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);pa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);pa("Docos.AccessLevel.READONLY","readonly",void 0);pa("Docos.AccessLevel.SUGGEST","suggest",void 0);pa("Docos.AccessLevel.FULL","full",void 0);pa("Docos.NewDocoType",xrd,void 0);pa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);pa("Docos.NewDocoType.DISCUSSION","discussion",void 0);
pa("Docos.NewDocoType.DRAFT","draft",void 0);pa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);pa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);pa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);pa("Docos.prototype.dispose",O5.prototype.dispose,void 0);pa("Docos.CountField.ACCEPTED","accepted",void 0);pa("Docos.CountField.DRAFT","draft",void 0);pa("Docos.CountField.OPEN","open",void 0);pa("Docos.CountField.REJECTED","rejected",void 0);pa("Docos.CountField.RESOLVED","resolved",void 0);
pa("Docos.CountField.TOTAL","total",void 0);pa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function Oyh(a){a=void 0===a?[]:a;this.D=qAd();this.C={};a=fa(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}p=Oyh.prototype;p.add=function(a){this.C[this.D.ub(a)]=a};p.has=function(a){return Yd(this.C,this.D.ub(a))};p.isEmpty=function(){return be(this.C)};p.clear=function(){ce(this.C)};p.Lc=function(a){for(var b in a.C)de(this.C,b)};p.qv=function(a){var b=new Oyh,c=Rd(this.C,function(e,f){return!Yd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};
p.ax=function(a){var b=new Oyh,c=Rd(this.C,function(e,f){return Yd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};p.forEach=function(a){Qd(this.C,a)};function Pyh(a,b,c,d,e,f){Ync.call(this,a,b,c,d,e,2,0,f)}u(Pyh,Ync);Pyh.prototype.J=function(a){return $nc(this,a,"range-border cell-border waffle-docos-target-cell-border")};function Qyh(a,b,c,d,e,f,h){h=void 0===h?Bm():h;co.call(this);this.L=null;this.Sa="none";this.va=500;this.ma=!1;this.F=a;this.Xa=b;this.H=c;this.Na=d;this.O=e;this.C=f;this.V=b.Na;this.D=b.C;this.R=qAd();this.hb=h;this.J=new Oyh;this.Va=!0;this.Aa=new Nl;this.Ra=new Nl;this.Qa=new Nl;this.Ja=new $n(this);this.qa(this.Ja);this.Ca=z(A(),"docs-egms");Ryh(this);this.Ja.listen(this.D,"oa",this.dbc).listen(this.C,"xe",this.bDb).listen(this.C,"ye",this.dDb).listen(this.C,"we",this.$Cb).listen(this.C,"Ae",
this.FGb).listen(this.C,"Be",this.abc).listen(this.C,"ze",this.DGb).listen(this.C,"Je",this.cbc).listen(this.C,"Ee",this.dJb).listen(this.C,"He",this.bbc).listen(this.C,"De",this.eHb).listen(this.C,"Ie",this.LSb).listen(this.C,"ve",this.CGb).listen(this.C,"Ge",this.GGb).listen(this.C,"Ce",this.HGb).listen(this.C,"Fe",this.CQb);Syh(this)}u(Qyh,co);p=Qyh.prototype;p.HGb=function(){Tyh(this,!0)};p.CGb=function(a){var b=a.C;b&&Uyh(this,[b],!0);Vyh(this,a.C)};
p.GGb=function(a){var b=a.C;b&&Wyh(this,[b]);Vyh(this,a.C)};function Vyh(a,b){var c=xmh(a.D,b);c?(b=$J(a.V,c),a=a.Na,c=c.Kb(),b=Slh(b).length,Wlh(L_e(a,c),b),HP(a)):Xyh(a)}p.CQb=function(){Tyh(this,!0);this.C.C&&Yyh(this)};p.dDb=function(){Tyh(this,!0)};p.$Cb=function(a){a.C?(a=a.C,this.ma=!0,Xlh(this.F,this.R.ub(a)),this.ma=!1):Tyh(this,!0)};p.cbc=function(){Kmh(this)};
function Kmh(a){var b=a.C.D,c=a.J.isEmpty();a.C.C?Yyh(a):b?(Zyh(a,[b]),c&&!a.J.isEmpty()&&(a.ma=!0,Xlh(a.F,a.R.ub(b)),a.ma=!1)):c||Tyh(a,!0)}p.dJb=function(){Tyh(this,!1)};p.bbc=function(){Tyh(this,!0)};function Tyh(a,b){a.J.clear();var c=a.F;c.C.flushDocoPositions(Ylh(c,{}));b&&Xlh(a.F,"");O(a.O,!1);Tf(a.L);$yh(a);azh(a);a.C.C||bzh(a);a.Na.D0(a.C.C);Syh(a)}p.isEmpty=function(){return this.J.isEmpty()&&this.Ra.isEmpty()&&this.Aa.isEmpty()&&this.Qa.isEmpty()};
function Syh(a){var b=bJ(a.H);b&&(a.va=soc(b.D)/2,a.F.setOption(Docos.OptionName.MAX_DOCO_HEIGHT,a.va))}function azh(a){Uf(a.Ra.Ld());a.Ra.clear()}function $yh(a){Uf(a.Aa.Ld());a.Aa.clear()}function bzh(a){Xc(a.Qa.Ld(),function(b){dw(b,"waffle-docos-target-cell-header")});a.Qa.clear()}p.bDb=function(a){this.C.D||this.C.C||(a=a.D,a.length?Zyh(this,a,!0):czh(this,!1))};function Zyh(a,b,c){c=void 0===c?!1:c;t4(a.F)&&a.Va||Wyh(a,Vd(a.J.qv(new Oyh(b)).C));Uyh(a,b,c)}
function Yyh(a){var b=XH(a.D);b&&(b=$J(a.V,b),Zyh(a,Slh(b),!0),dzh(a),ezh(a))}p.DGb=function(a){this.Va=!1;fzh(this,a.C,a.cell);this.Va=!0};function fzh(a,b,c){Zyh(a,[b],!0);$yh(a);azh(a);bzh(a);gzh(a,c)}p.abc=function(a){hzh(this,a.C,a.cell)};
function hzh(a,b,c,d){d=void 0===d?!1:d;var e=xmh(a.D,b);if(e){var f=e.Kb();if(izh(a,b)){var h=jzh(a,c);J0b(MH(a.D,f).C,function(){return e.ir(h)}).addCallback(function(){var k=this;if(!kzh(this,c)||h.equals(e.F)||this.ma){pI(cI(e,c))&&wMc(bJ(this.H)).setVisible(!1);lzh(this,c);fzh(this,b,c);this.Na.D0(this.C.C);if(d){var l=new Ip(function(){k.F.C.grabFocus()});this.qa(l);l.start()}this.dispatchEvent("bj")}else NH(e,h),hzh(this,b,c,d)},a)}else a.D.PC(f,function(){a.F.C.grabFocus();hzh(a,b,c,!0)})}else a.dispatchEvent("bj")}
function lzh(a,b){var c=XH(a.D),d=bJ(a.H);if(!a.ma&&c&&d){var e=d.D;d=d.F;var f=fN(e,"waffle",!1,!1),h=a.Ca?282:240;if(!e.Nb()){var k=Lm("docs-docos-activitybox");k&&Yu(k)&&(h+=f.right-Wu(k).left)}k=mzh(a,b);b=k.x-f.right+h;a=k.y-f.bottom+a.va;if(!(0>=b&&0>=a)){d=vF(d.C);for(d=LOb(d.y,d.x,d.y,d.x);Vuc(e,d).height<a;)d=aPb(d,1);for(;Vuc(e,d).width<b;)d=bPb(d,1);e=d.height;a=d.width;KI(c,CYb(c,vYb(c,DI(c),a,e)))}}}function kzh(a,b){a=XH(a.D);return O_b(a.Qj("r"),b.y)&&O_b(a.Qj("c"),b.x)}
function jzh(a,b){return DH(XH(a.D),b.y,b.x)||jF(b)}
p.FGb=function(a){if(!VYb(this.D)&&!this.C.C&&($yh(this),izh(this,a.C)&&(czh(this,!0),this.C.D!=a.C))){var b=this.R.ub(a.C),c=this.F;c.C.isDocoResolved(tQ(c.D,b))?(b=a.cell,a=bJ(this.H),(c=XH(this.D))&&a&&b&&(b=DH(c,b.y,b.x)||jF(b),b=F_e(a,b,"waffle-docos-target-cell-resolved-rect"),kO(a.V,"discussions",b,!0),b.setVisible(!0),this.Aa.add(b))):(c=a.cell,a=bJ(this.H),(b=XH(this.D))&&a&&c&&(c=DH(b,c.y,c.x)||jF(c),b=new Pyh(b,a.R,a.D,a.F,new aoc(c),this.hb),kO(a.V,"discussions",b,!0),this.Aa.add(b),b.setVisible(!0)))}};
function nzh(a,b){b&&(bw(b,"waffle-docos-target-cell-header"),a.Qa.add(b))}function gzh(a,b){var c=bJ(a.H),d=XH(a.D);d&&c&&b&&(d=DH(d,b.y,b.x)||jF(b),d=F_e(c,d,"waffle-docos-target-cell-rect"),kO(c.V,"discussions",d,!0),a.Ra.add(d),d.setVisible(!0),d.getElement()&&a.Ja.listen(d.getElement(),["click","contextmenu","dblclick","mousedown","mouseup"],function(e){e.Jj=b;c.dispatchEvent(e)}))}
function dzh(a){azh(a);var b={};a.J.forEach(function(c){c=uR(ozh(c));var d=c.x+"-"+c.y;b[d]||(gzh(a,c),b[d]=!0)})}function ezh(a){bzh(a);var b=XH(a.D),c=bJ(a.H);if(b&&c){var d=c.R;c=c.F;b=$J(a.V,b);var e=yuc(c,"r"),f=PM(c,"r"),h=yuc(c,"c"),k=PM(c,"c");Xc(Slh(b),function(l){l=uR(l);l.x>=h&&l.x<=k&&nzh(a,d.kb.getElement(KM(d,"ch-",null,d.mb.pH(l.x))));l.y>=e&&l.y<=f&&nzh(a,d.kb.getElement(KM(d,"rh-",d.mb.p5(l.y),null)))})}}p.LSb=function(){Xyh(this)};
function Xyh(a){Xc(Wd(a.V.C),function(b){var c=wmh(a.D,b);if(c){var d=$J(a.V,c);c=a.Na;d=Slh(d).length;Wlh(L_e(c,b),d);HP(c)}})}p.eHb=function(a){if(a.C){var b=this.R.ub(a.C);Zlh(this.F,b,mzh(this,a.cell))}};
function Uyh(a,b,c){c=void 0===c?!1:c;for(var d={},e={},f=[],h=0;h<b.length;h++){var k=b[h],l=a.R.ub(k);var n=a;if(bJ(n.H)&&izh(n,k)){var q=uR(k);pzh(n,jzh(n,q))?(q=n.C.D,q=!!q&&n.R.ub(q)==n.R.ub(k),n=n.C.C||q||hd(n.C.F.Ld(),k)):n=!1}else n=!1;n?(n=uR(k),n=jzh(a,n),q=MYe(n),e[q]=e[q]||0,d[l]=mzh(a,vF(n),e[q]),e[q]++,a.J.add(k)):f.push(k)}a.J.isEmpty()||czh(a,!0);be(d)||(b=a.F,b.C.updateDocoPositions(Ylh(b,d)));t4(a.F)||Wyh(a,f);c&&qzh(a)}
function Wyh(a,b){var c=a.J.ax(new Oyh(b));if(!c.isEmpty()){a.J.Lc(c);b=a.F;c=Wd(c.C);for(var d=[],e=0;e<c.length;e++)d.push(tQ(b.D,c[e]));b.C.deleteDocoPositions(d)}a.J.isEmpty()&&czh(a,!1)}
function mzh(a,b,c){c=void 0===c?0:c;var d=bJ(a.H),e=XH(a.D),f=d.D,h=f.Nb(),k=jzh(a,b),l=RL(f,k);c*=15;k=h?l.left-c:l.right+c;var n=l.top+c,q=a.C.C,t=vm(a.C.H,b),v=pI(cI(e,b));q||t||!v?(b=n+(a.Ca?150:125),0<b-soc(f)&&(e=CH(e,"r")-1,eN(f,b,"r","waffle")>=e&&(n-=50))):(q=wMc(d),t=q.L,zMc(d,vF(AI(e,jF(b))),q,q.Sa),e=q.H.height?q.Qa:0,b=q.J.height,d=Math.min(Doc.height,e+b),b&&(d=d+42+Eoc.top,d+=Eoc.bottom),e&&(d=d+12+Eoc.top,d+=Eoc.bottom),e=d,Pnc(q,t),n+=e);a=a.Ca?282:240;c=h?l.right+c+a:l.left-c-a;
a=h?0>k-a:k+a>roc(f);l=h?c>roc(f):0>c;a&&!l&&(k=c);return new um(h?OL(f,k,"c"):k,n)}function izh(a,b){b=xmh(a.D,b);a=XH(a.D);return!!b&&b==a}function pzh(a,b){if(!b)return!1;var c=bJ(a.H).F,d=!1,e=vF(b);XOb(b,function(f,h){var k;if(k=f==e.y)k=null!=xuc(c,new um(h,f));return k?d=!0:!1});return d}p.dbc=function(){Ryh(this)};
function Ryh(a){var b=bJ(a.H);b&&(a.hb.appendChild(b.lk,a.O),a.F.setOption(Docos.OptionName.LAYOUT_RTL,b.D.Nb()),O(a.O,!1),a.F.setOption(Docos.OptionName.ANCHOR_DIV,a.O),a.F.C.renderAnchorSurface())}
function czh(a,b){var c=I0e(a.O);c="string"===typeof c?1:c;Yu(a.O)||(c=0);var d=b&&1>c?"in":!b&&0<c?"out":"none";"none"==d?(Tf(a.L),O(a.O,b)):a.L&&Nw(a.L)&&a.Sa==d||(Tf(a.L),O(a.O,!0),a.L=new Kz(a.O,c,"in"==d?1:0,250),a.Sa=d,"out"==d&&Un(a.L,"finish",function(){Tyh(a,!0);var e=bJ(a.H);e&&gO(e)}),a.L.play())}
function qzh(a){a.J.forEach(function(b){var c=a.R.ub(b),d=a.F.getDocoMaxHeight(c);b=ozh(b);b=uR(b);b=mzh(a,b);var e=bJ(a.H),f=e.D,h=e.ke;h=h.VR(h.XX()-1);var k=XH(a.D).V.y;e=PM(e.F,"r");f=VL(f,new So(k,e),"r");f+=h;h=ZM(bJ(a.H).D,"c");b=xl(f-(b.y-h),a.Ca?150:125,a.va);d!=b&&(b<a.va||d)&&(d=a.F,d.C.setDocoMaxHeight(tQ(d.D,c),b))})}function ozh(a){if("workbook-range"==a.getType())return a;throw Error("Invalid doco with type: "+a.getType());}
p.La=function(){delete this.H;delete this.O;delete this.R;delete this.F;this.J.clear();delete this.C;delete this.V;delete this.hb;delete this.Sa;delete this.Ja;delete this.D;delete this.Xa;Tf(this.L);delete this.L;azh(this);$yh(this);bzh(this);co.prototype.La.call(this)};function rzh(){no.apply(this,arguments)}u(rzh,no);p=rzh.prototype;p.zhc=function(a,b,c,d,e,f){return new lmh(a,b,c,d,e,void 0,f,cC)};p.gsb=function(){return Imh};p.isb=function(){return rmh};p.jsb=function(){return Qyh};p.ccc=function(){return ayf()};uo("docos",rzh);
